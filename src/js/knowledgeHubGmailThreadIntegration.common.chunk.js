(self.webpackChunk=self.webpackChunk||[]).push([[4748],{70604:(e,t,n)=>{n.d(t,{g:()=>a});var i=n(27378);const a=({title:e,titleId:t,desc:n,descId:a,...o})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...o},n?i.createElement("desc",{id:a},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M20.5 19a.5.5 0 0 1 0 1h-17a.5.5 0 1 1 0-1h17ZM16.894 3.853l1.252 1.253a1.5 1.5 0 0 1 0 2.121L8.374 17H5v-3.374l9.773-9.773a1.5 1.5 0 0 1 2.121 0Zm-3.228 2.52L6 14.04V16h1.96l7.666-7.667-1.96-1.96Zm1.814-1.812-1.107 1.105 1.96 1.96 1.106-1.106a.5.5 0 0 0 0-.707l-1.252-1.252a.5.5 0 0 0-.707 0Z",fill:"#646B81"}))},49032:(e,t,n)=>{n.d(t,{g:()=>a});var i=n(27378);const a=({title:e,titleId:t,desc:n,descId:a,...o})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...o},n?i.createElement("desc",{id:a},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12a9.96 9.96 0 0 0 2.4 6.5L8 17a3.25 3.25 0 0 0 1.97-2.553A3.998 3.998 0 0 1 8 11V9a4 4 0 1 1 8 0v2c0 1.468-.79 2.751-1.97 3.447A3.25 3.25 0 0 0 16 17l3.6 1.5A9.96 9.96 0 0 0 22 12c0-5.523-4.477-10-10-10Zm6.86 17.275-3.245-1.352a4.25 4.25 0 0 1-2.53-3.072 4.006 4.006 0 0 1-2.17 0 4.25 4.25 0 0 1-2.53 3.072l-3.246 1.352A9.965 9.965 0 0 0 12 22a9.965 9.965 0 0 0 6.86-2.725ZM1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12Zm11-6a3 3 0 0 0-3 3v2a3 3 0 1 0 6 0V9a3 3 0 0 0-3-3Z",fill:"#646B81"}))},64757:(e,t,n)=>{n.d(t,{RZ:()=>p,zx:()=>h});var i=n(59312),a=n(27378),o=n(5739),r=n(12187),s=n(31278),l=n(86732),c=n(1509),d=n(26215),m=n(94632);function h(e){return a.createElement(d.Y,(0,i.pi)({},u(e,m.LI)))}function u(e,t){var n=(0,r.Sh)(e.className,t).className;return(0,i.pi)((0,i.pi)({},e),{className:n})}!function(e){e.Animated=function(e){return a.createElement(d.Y,(0,i.pi)({},(0,i.pi)((0,i.pi)({},e),{animationMode:Boolean(e.animationMode)?e.animationMode:l.m.FromClickPoint})))},e.Primary=function(t){return a.createElement(e.Animated,(0,i.pi)({styleType:c.Z.Type.Button},u(t,m.T$)))},e.Ghost=function(t){return a.createElement(e.Animated,(0,i.pi)({styleType:c.Z.Type.Button},u(t,m.fk)))},e.Tertiary=function(t){return a.createElement(e.Animated,(0,i.pi)({styleType:c.Z.Type.Base},u(t,m.UF)))},e.Flat=function(t){return a.createElement(e.Animated,(0,i.pi)({},u(t,m.$H)))},e.White=function(t){return a.createElement(e.Animated,(0,i.pi)({},u(t,m.ix)))},e.SidebarFlat=function(e){return a.createElement(d.Y,(0,i.pi)({styleType:c.Z.Type.H3Legacy},u(e,m.HN)))},e.Caps=function(e){return a.createElement(d.Y,(0,i.pi)({styleType:c.Z.Type.H3Legacy},u(e,m.Mp)))},e.Group=function(e){var t=e.children,n=e.className,s=e.align,l=void 0===s?"horizontal":s,c=e.sticky,d=e.name;return a.createElement(o.F.div,(0,i.pi)({role:"group"},(0,r.Sh)(n,"horizontal"===l?!0===c?m.vD:m.ru:m.oc),{"data-name":d}),t)}}(h||(h={}));var p=function(e){var t=e.title,n=e.titleAlign,l=e.buttonClass,c=e.iconClass,u=e.iconWidth,p=e.tooltipClass;return a.createElement(h,{name:"info-button","aria-label":t,tag:d.X.div,title:a.createElement(o.F.div,(0,i.pi)({},(0,r.Sh)(m.bC,p)),a.createElement("p",null,t)),titleAlign:n,className:l},a.createElement(s.JO.Info,{width:u,className:c}))}},51369:(e,t,n)=>{n.d(t,{X:()=>S});var i,a=n(59312),o=n(27378),r=n(57050),s=n(5114),l=n(19962),c=n(44060),d=n(11413),m=n(89894),h=n(32096),u=n(40327),p=n(5739),g=n(49708),f=n(85985),b=n(41398),v=n(24209),k=n(17343),w=n(98403),E=n(38194),y=n(598),I=n(50628),C=n(25781),x=n(83078),U=n(18625);!function(e){var t="scrollaction";e.emit=function(e){return self.dispatchEvent(new CustomEvent(t,{detail:e}))},e.observe=U.P((function(){return g.R(self,t)}))}(i||(i={}));var _=n(42103),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!l.UL.hasPoint(t.getBoundingClientRect(),e)}},t}return(0,a.ZT)(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[],this.context.hide()},t.prototype.render=function(){return o.createElement(p.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=g.R(document,"keydown").pipe(f.h((function(e){return e.keyCode===C.R.ESC_CODE}))),n=g.R(document,"mousedown").pipe(b.M(this.context.state),f.h((function(t){var n=t[0],i=t[1];return(0,u.pipe)(i,s.map((function(e){return e.target})),s.filter((function(){return l.pK(n.target)})),x.wo(e._outOfTarget({x:n.clientX,y:n.clientY})))}))),a=v.T(t,n,g.R(document,"scroll"),i.observe.pipe(f.h((function(e){return"show"===e.detail})))).pipe(k.h(w.PU),E.B());this._subs=[this.context.hasContent.pipe(f.h(Boolean),y.c(a.pipe(I.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(f.h(Boolean),y.c(v.T(w.gw(!0,500),a.pipe(k.h(!1))).pipe(I.P())),f.h(Boolean)).subscribe(this.context.show)]},t.contextType=_.G.Context,t}(o.Component),S=function(){return o.createElement(N,null,(0,r.ls)(s.map((function(e){return o.createElement(d.t.ByAbsoluteRect,(0,a.pi)({rect:l.UL.fromEl(e.target),className:F.container},d.t.Alignment.toSelector(e.alignment),{withPin:!0}),o.createElement("div",{className:F.content},e.content))})),s.toNullable))},H={position:"fixed",zIndex:h.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},T={padding:"".concat(m.ux.rem(.25)," ").concat(m.ux.rem(1)),borderRadius:m.ux.rem(h.fx),background:c.Il.BackgroundTooltip,color:c.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:m.ux.px(.25),fontSize:m.ux.rem(.75),lineHeight:m.ux.rem(1)},F=m.ux.stylesheet({container:[H],content:[T]})},41638:(e,t,n)=>{n.d(t,{q:()=>r});var i=n(34311),a=n(2844),o=n(77176);class r{constructor(e){this._annotationsStateService=e}getHoveredStateBehavior(e){return a.aj([this._annotationsStateService.hoveredAnnotation,this._annotationsStateService.activeAnnotation]).pipe(o.U((([t,n])=>t&&t.highlightIds.includes(e)||n&&n.highlightIds.includes(e)?i.pc.hovered:i.pc.none)))}}},47849:(e,t,n)=>{n.d(t,{Cn:()=>i,LH:()=>U,ss:()=>_});var i,a=n(17771),o=n(57050),r=n(17889),s=n(74850),l=n(11407),c=n(62337),d=n(28728),m=n(18756),h=n(75420),u=n(13718),p=n(19751),g=n(77176),f=n(85985),b=n(17343),v=n(2834),k=n(66310),w=n(24209),E=n(49708),y=n(23063),I=n(38194),C=n(73975),x=n(5114);!function(e){e.getEqById=function(){return C.f7(((e,t)=>e&&t?e.annotation.id===t.annotation.id:e===t))}}(i||(i={}));class U{constructor(e,t=s.Y.create(U.name)){this._options=e,this._log=t,this._rawHoveredAnnotation=this._options.mouseData.pipe(u.U(l.S.hz30),p.skipBy(d.Z.eq),g.U((({client:e,offset:t})=>{if(e&&t&&(0,h._N)(e,this._options.textNode)){const e=this._options.highlightGeometry.geometry.get();return Array.from(e.keys()).reduce(((n,i)=>{const a=e.get(i);if(a){const e=a.rects&&(null===a.meta.highlightDisplayFormat||m.jk.isInteractable(a.meta.highlightDisplayFormat))&&a.rects.find((e=>c.UL.contains(t,e)));if(e)return{annotation:a.meta.annotation,activeHighlightId:a.meta.highlightId,activeHighlightRect:e,highlightIds:[],highlightRects:[]}}return n}),null)}return null})),g.U((e=>{if(!e)return null;const t=this._options.highlightGeometry.geometry.get(),n=[],i=[];return t.forEach(((t,a)=>{t.meta.annotation.id===e.annotation.id&&(n.push(a),i.push(...t.rects))})),(0,o.zG)(a.Y(x.option)({annotation:x.some(e.annotation),activeHighlightId:x.some(e.activeHighlightId),activeHighlightRect:x.some(e.activeHighlightRect),highlightIds:r.c2(n),highlightRects:r.c2(i)}),x.toNullable)})),p.skipBy(i.getEqById()),p.shareReplay({bufferSize:1,refCount:!0})),this._offByUpdatedGeometry=e=>this._options.highlightGeometry.geometry.pipe(g.U((t=>e&&t.has(e.activeHighlightId)?e:null)),f.h((e=>null===e)),b.h(null),v.b((e=>this._log.trace("OffByUpdatedGeometry",e)))),this._switchByDisplayedCard=()=>(0,o.ls)(k.w((e=>this._options.cardHovered.pipe(g.U((t=>t?this._options.getCurrentCardAnnotationState():e))))),p.skipBy(i.getEqById()))}}function _(e,t){return w.T(e.rect.changes.pipe(v.b((()=>t.trace("Text field position, size has been changed")))),e.scroll.changes.pipe(v.b((()=>t.trace("Text field scroll has been changed")))),E.R(self,"scroll").pipe(v.b((()=>t.trace("Window scroll detected"))))).pipe(y.q(1),b.h(null),I.B())}},63217:(e,t,n)=>{n.r(t),n.d(t,{createKnowledgeHubThreadIntegration:()=>Ot});var i=n(57050),a=n(29511),o=n(74850),r=n(14601),s=n(32952),l=n(5114),c=n(27378),d=n(41638),m=n(66310),h=n(76974),u=n(13444),p=n(24209),g=n(40151),f=n(17343),b=n(2834),v=n(23063),k=n(93508),w=n(19751),E=n(47849);class y extends E.LH{constructor(e,t=o.Y.create(y.name)){super(e,t),this.hoveredAnnotation=this._rawHoveredAnnotation.pipe(this._switchByDisplayedCard(),m.w((e=>h.of(e).pipe(u.g(e||!this._options.getCurrentCardAnnotationState()?0:500)))),m.w((e=>e?p.T(this._offByUpdatedGeometry(e),this._options.offByTextPositionChange||g.E,this._options.cardDismissed.pipe(f.h(null))).pipe(b.b((()=>this._log.trace("Active state was overriden by text or geometry change"))),v.q(1),k.O(e)):h.of(null))),k.O(null),w.skipBy(E.Cn.getEqById()),w.shareReplay({bufferSize:1,refCount:!0})),this.activeAnnotation=this.hoveredAnnotation}}var I=n(41263),C=n(5919),x=n(51655),U=n(96002),_=n(15130),N=n(90361),S=n(55935),H=n(85985),T=n(77176),F=n(98403),K=n(55415),A=n(38983),B=n(34217),M=n(34311),G=n(41703),O=n(28043),P=n(50051),Z=n(5739),L=n(12187),z=n(47006);const R=({heightOffset:e=0,hoverState:t,rects:n,id:i,theme:a})=>c.createElement(c.Fragment,null,n.map(((o,r)=>{const s=n.length>1?`${i}-${r}`:i;return c.createElement(Z.F.div,{key:s,"data-key":s,"data-grammarly-part":"kh-highlight",style:t.pipe(T.U((t=>(0,P.z9)({...o,height:Math.max(0,o.height+e)},t===M.pc.hovered)))),...(0,L.Sh)(z.highlight,"dark"===a?z.dark:null)},c.createElement(Z.F.div,{...(0,L.Sh)(z.background,t.pipe(T.U((e=>e===M.pc.hovered?z.hovered:null))))}))}))),D=({highlights:e,getHoverState:t,theme:n})=>c.createElement(G.Y,{key:"knowledgeHub-highlights",highlightHeightOffset:0,highlights:e.geometry.view((e=>Array.from(e.values()))),getHoverState:t,highlightRenderer:(e,t,i)=>c.createElement(R,{key:e.meta.highlightId,id:e.meta.highlightId,rects:e.rects,heightOffset:i,hoverState:t.pipe(k.O(M.pc.none),O.x()),annotation:e.meta.annotation,theme:n})});var Y=n(54784),V=n(56674),q=n(64015),Q=n(49032),X=n(64757),W=n(52306);const $=B.UI.Grid.make((({view:e,slots:t})=>c.createElement("div",{"data-grammarly-part":"knowledge-hub-card-section",className:W.section},c.createElement(Z.F.div,{className:W.title},e("title")),t.content)));var j,J=n(81012);!function(e){e.pointPeopleClick="pointPeopleClick"}(j||(j={}));const ee=B.UI.Node.make((({state:e,notify:t})=>{const n=e.pipe(T.U((({avatarUrl:e})=>e?c.createElement("img",{className:J.avatar,src:e,alt:""}):c.createElement(Q.g,{className:J.icon})))),i=e.pipe(T.U((({firstName:e,lastName:t})=>c.createElement(Z.F.div,{className:J.text},e," ",t))));return c.createElement(Z.F.Fragment,null,e.pipe(T.U((({communicationMethods:e})=>e.length>0?c.createElement(X.zx,{name:"point-person-details","data-grammarly-part":"knowledge-hub-card-point-person",target:"_blank",rel:"noreferrer",className:J.item,disabled:!1,href:e[0].link,onClick:t({kind:j.pointPeopleClick})},n,i):c.createElement(Z.F.div,{name:"point-person-details","data-grammarly-part":"knowledge-hub-card-point-person",className:J.item},n,i)))))})),te=B.UI.List.make(q.Bk,ee),ne=B.UI.Grid.make((({slots:e})=>c.createElement("div",{"data-grammarly-part":"knowledge-hub-card-point-people-list",className:J.list},e.list))),ie=B.UI.Knot.make(ne,{list:te}),ae=B.UI.Knot.make($,{content:ie}),oe=B.UI.Union.asOption(ae);var re,se=n(37525);!function(e){e.relatedMaterialsClick="relatedMaterialsClick"}(re||(re={}));const le=B.UI.Node.make((({state:e,notify:t})=>c.createElement(Z.F.Fragment,null,e.pipe(T.U((({iconUrl:e,link:n,title:i})=>c.createElement(X.zx,{name:"related-material-link",key:"related-material-link","data-grammarly-part":"knowledge-hub-card-related-material",target:"_blank",rel:"noreferrer",className:se.item,href:n,onClick:t({kind:re.relatedMaterialsClick})},c.createElement("img",{className:se.icon,src:e,alt:""}),c.createElement("div",{className:se.text},i)))))))),ce=B.UI.List.make(q.Bk,le),de=B.UI.Grid.make((({slots:e})=>c.createElement("div",{"data-grammarly-part":"knowledge-hub-card-related-materials-list",className:se.list},e.list))),me=B.UI.Knot.make(de,{list:ce}),he=B.UI.Knot.make($,{content:me}),ue=B.UI.Union.asOption(he),pe=B.UI.Node.make((({view:e})=>c.createElement("div",{className:V.section},c.createElement(Z.F.div,{className:V.primaryTitle},e("articleTitle")),c.createElement(Z.F.div,{className:V.text},e("articleContent"))))),ge=B.UI.Grid.make((({slots:e})=>c.createElement("div",{"data-grammarly-part":"knowledge-hub-card-content",className:V.cardContent},e.content,e.relatedMaterialsList,e.peopleList))),fe=B.UI.Knot.make(ge,{content:pe,relatedMaterialsList:ue,peopleList:oe});var be,ve=n(70604),ke=n(95975);!function(e){e.suggestEditAction="suggestEditAction"}(be||(be={}));const we=B.UI.Node.make((({view:e,notify:t})=>c.createElement(Z.F.Fragment,null,e("suggestCorrectionUrl").pipe(T.U((e=>c.createElement(X.zx.Flat,{title:"Suggest a correction",key:"edit-button",name:"edit-button","data-grammarly-part":"knowledge-hub-card-edit-button",className:ke.button,textPosition:"surrounded",target:"_blank",href:e,onClick:t({kind:be.suggestEditAction})},c.createElement(ve.g,{className:ke.icon}))))))));var Ee,ye=n(17577);!function(e){e.dismissTerm="dismissTerm"}(Ee||(Ee={}));const Ie=B.UI.Node.make((({state:e,notify:t})=>c.createElement(Z.F.Fragment,null,e.pipe(T.U((({itemId:e,termId:n})=>c.createElement(X.zx.Flat,{name:"dismiss-entry-button",textPosition:"surrounded",className:ye.dismissButton,onClick:t({kind:Ee.dismissTerm,itemId:e,termId:n})},"Don't show me this term again"))))))),Ce=B.UI.Grid.make((({slots:e})=>c.createElement("div",{"data-grammarly-part":"knowledge-hub-card-footer",className:ye.cardFooter},e.dismissButton,e.suggestCorrection))),xe=B.UI.Knot.make(Ce,{suggestCorrection:we,dismissButton:Ie});var Ue=n(86705),_e=n(10508);const Ne=B.UI.Node.make((({view:e})=>c.createElement(Z.F.Fragment,null,e("browser").pipe(T.U((e=>c.createElement(Ue.v,{browser:e,className:_e.betaBadge}))))))),Se=B.UI.Node.make((({view:e})=>c.createElement(Z.F.Fragment,null,e("headerIconSrc").pipe(T.U((e=>c.createElement("div",{className:_e.icon},c.createElement("img",{src:e,alt:""})))))))),He=B.UI.Union.asOption(Se),Te=B.UI.Grid.make((({view:e,slots:t})=>c.createElement("div",{"data-grammarly-part":"knowledge-hub-card-header",className:_e.cardHeader},c.createElement(Z.F.div,{"data-grammarly-part":"knowledge-hub-card-title",className:_e.title},t.headerIcon,c.createElement(Z.F.div,{className:_e.text},e("headerText"))),t.badge))),Fe=B.UI.Knot.make(Te,{headerIcon:He,badge:Ne});var Ke,Ae=n(78920);!function(e){e.hovered="hovered"}(Ke||(Ke={}));const Be=B.UI.Grid.make((({state:e,slots:t,notify:n})=>c.createElement(Z.F.Fragment,null,e.pipe(T.U((({highlightNode:e,hovered:i})=>c.createElement(Y.w,{key:"highlight-menu",placement:"bottom-start",zIndex:_.G.knowledgeHub,showArrow:!1,referenceElement:e,onHover:e=>i!==e&&n({kind:Ke.hovered,hovered:e})()},c.createElement("div",{"data-grammarly-part":"knowledge-hub-card",className:Ae.card},t.header,t.content,t.footer)))))))),Me=B.UI.Knot.make(Be,{header:Fe,content:fe,footer:xe}),Ge=B.UI.Union.asOption(Me);var Oe,Pe,Ze=n(60797),Le=n(22232);!function(e){let t;!function(e){e.dismissOnboarding="dismissOnboarding",e.dismissTerm="dismissTerm",e.highlightMenuHovered="highlightMenuHovered",e.lookCard="lookCard",e.nextStepOnboarding="nextStepOnboarding",e.onboardingClose="onboardingClose",e.pointPeopleClick="pointPeopleClick",e.relatedMaterialsClick="RelatedMaterialsClick",e.setCardVisibleFor="setCardVisibleFor",e.showOnboardingPopup="showOnboardingPopup",e.suggestEdit="suggestEdit",e.toggleFeature="toggleFeature"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(Oe||(Oe={})),(0,Le.L0)(void 0),function(e){e.ofKind=function(e){return H.h(Oe.is(e))}}(Pe||(Pe={}));var ze=n(24713),Re=n(26328);const De=e=>()=>(0,i.zG)(e,k.O({title:""})),Ye=(e,t)=>B.Z.fromSideEffect((({action:e})=>{if(e.kind===j.pointPeopleClick)t.next({kind:Oe.Kind.pointPeopleClick});else(0,Le.L0)(e.kind)}),e.pipe(k.O([]))),Ve=(e,t)=>B.Z.composeKnot({list:Ye(e,t)}),qe=(e,t)=>B.Z.composeKnot({root:De(h.of({title:"Point people"})),content:Ve(e,t)}),Qe=(e,t)=>B.Z.composeUnion({None:()=>h.of(null),Some:B.Z.composeKnot({value:qe(e,t)})},(()=>e.pipe(T.U(Re.nI)))),Xe=(e,t)=>B.Z.fromSideEffect((({action:e})=>{if(e.kind===re.relatedMaterialsClick)t.next({kind:Oe.Kind.relatedMaterialsClick});else(0,Le.L0)(e.kind)}),e.pipe(k.O([]))),We=(e,t)=>B.Z.composeKnot({list:Xe(e,t)}),$e=(e,t)=>B.Z.composeKnot({root:De(h.of({title:"Related Materials"})),content:We(e,t)}),je=(e,t)=>B.Z.composeUnion({None:()=>h.of(null),Some:B.Z.composeKnot({value:$e(e,t)})},(()=>e.pipe(T.U(Re.nI)))),Je=e=>()=>(0,i.zG)(e,k.O({articleTitle:"",articleContent:""})),et=(e,t)=>B.Z.composeKnot({content:Je(e.pipe(T.U(K.H6("articleTitle","articleContent")))),peopleList:Qe(e.pipe(ze.j("pointPeople")),t),relatedMaterialsList:je(e.pipe(ze.j("relatedMaterials")),t)}),tt=(e,t)=>B.Z.fromSideEffect((e=>{if(e.kind===be.suggestEditAction)t.next({kind:Oe.Kind.suggestEdit});else(0,Le.L0)(e.kind)}),e.pipe(T.U(K.H6("suggestCorrectionUrl")))),nt=(e,t)=>B.Z.fromSideEffect((e=>{if(e.kind===Ee.dismissTerm)t.next({kind:Oe.Kind.dismissTerm,itemId:e.itemId,termId:e.termId});else(0,Le.L0)(e.kind)}),e.pipe(T.U(K.H6("itemId","termId")))),it=(e,t)=>B.Z.composeKnot({suggestCorrection:tt(e,t),dismissButton:nt(e,t)});var at=n(17771);const ot=e=>(0,i.a9)((0,i.zG)(e,k.O(l.none))),rt=e=>(0,i.a9)(e),st=e=>(0,i.a9)((0,i.zG)(e,k.O({headerText:""})));var lt,ct=n(598),dt=n(2768),mt=n(93497);class ht{constructor(e){this._actions=e,this._subscription=new r.w}addEffects(...e){for(const t of e)this._subscription.add(t(this._actions).subscribe((e=>this._actions.next(e))))}dispose(){this._subscription.unsubscribe()}}!function(e){e.tracking=function(e,t){return(0,i.ls)(Pe.ofKind(e),b.b(t),m.w((()=>g.E)))},e.feedback=function(e,t){return(0,i.ls)(Pe.ofKind(e),b.b(t),ct.c(g.E))},e.logAction=function(e){return(0,i.ls)(b.b((t=>e.trace(`[${t.kind}]`,K.CE(t,"kind")))),m.w((()=>g.E)))},e.toggleActiveHighlightCard=function(e,t){return()=>e.pipe(dt.R(t),T.U(l.toNullable),mt.n((e=>null===e)),w.skipBy(E.Cn.getEqById()),T.U((e=>({kind:Oe.Kind.setCardVisibleFor,item:l.fromNullable(null==e?void 0:e.annotation)}))))},e.toggleFeatureFromCard=function(e){return(0,i.ls)(Pe.ofKind(Oe.Kind.toggleFeature),b.b((()=>{e.toggleKnowledgeHub(!1)})),ct.c(g.E))}}(lt||(lt={}));var ut=n(41398),pt=n(62337),gt=n(13116);class ft{constructor(e,t,n,a,o){this.actions=e,this._itemsManager=t,this._activeAnnotation=n,this._layout=a,this._browser=o,this._subscriptions=new r.w,this._state=A.h.create(l.none),this.state=A.h.combine(this._state,this._itemsManager.items,((e,t)=>(0,i.zG)(e,l.chain((e=>(0,i.zG)(l.fromNullable(t.get(e.docId)),l.chain(q.Ew((t=>t.id===e.item.id))),l.map((t=>({item:t,docId:e.docId,highlightNode:e.highlightNode,hovered:e.hovered,browser:e.browser}))))))))),this._handleSetCardVisibleFor=this.actions.pipe(Pe.ofKind(Oe.Kind.setCardVisibleFor),T.U(K.ei("item")),ut.M(this._activeAnnotation),b.b((([e,t])=>(0,i.zG)(at.Y(l.option)({item:e,activeAnnotation:t}),l.fold((()=>this._state.set(l.none)),(({item:e,activeAnnotation:t})=>this._state.modify((()=>l.some({item:e,docId:e.docId,hovered:!1,highlightNode:{getBoundingClientRect:()=>function(e,t,n){const a=n.reduce(((e,t)=>t.top>e.top&&t.left+t.width>=e.left&&t.left<=e.left+e.width?t:e),t),o=(0,gt.Z)(pt.Wm.create(a),e.textNode.rect.getCurrent().client,e.textNode.scroll.getCurrent());return DOMRect.fromRect((0,i.zG)((0,P.QK)(o,(0,P.Z2)(a)),(e=>({x:e.left,y:e.top,width:e.width,height:e.height}))))}(this._layout,t.activeHighlightRect,t.highlightRects)},browser:this._browser}))))))))),this._subscriptions.add(this._handleSetCardVisibleFor.subscribe()),this._subscriptions.add(this._handleCardHovered())}_handleCardHovered(){return this.actions.pipe(Pe.ofKind(Oe.Kind.highlightMenuHovered)).subscribe((({hovered:e})=>this._state.modify(l.map((t=>({...t,hovered:e}))))))}dispose(){this._subscriptions.unsubscribe()}}function bt(e,t,n,a,r,m,u){const p=new s.xQ,g=A.h.create(l.none),f=new ft(r,n,g,t,u().config.bundleInfo.browser),b=f.state.view(l.fold(i.jv,K.ei("hovered"))),v=f.state.view(l.isNone).pipe(S.T(1),H.h(N.fQ)),k=new y({textNode:e,textNodeLayout:t.textNode,mouseData:t.mouse,highlightGeometry:m,cardHovered:b,cardDismissed:v,getCurrentCardAnnotationState:()=>(0,i.zG)(g.get(),l.toNullable),offByTextPositionChange:(0,E.ss)(t.textNode,o.Y.create(y.name))}),w=new d.q(k),M=k.activeAnnotation.pipe(T.U(l.fromNullable)).subscribe(F.wW(g));return a.addEffects(lt.toggleActiveHighlightCard(g,p)),{dispose:()=>{M.unsubscribe(),f.dispose(),p.next()},highlightsLayerOrder:_.C.knowledgeHub,highlightsUI:()=>c.createElement(I.L,{chunkName:"knowledgeHubGmailThreadIntegration"},c.createElement(D,{highlights:m,getHoverState:e=>w.getHoveredStateBehavior(e),theme:(0,i.zG)((0,C.D)(e,(0,x.o)(e)),l.fold((()=>"light"),(e=>e?"light":"dark")))})),cardsUI:()=>{return c.createElement(I.L,{chunkName:"knowledgeHubGmailThreadIntegration"},c.createElement(U.p,{env:u(),dataGrammarlyPart:"knowledge-hub-cards"},B.UI.mount(Ge,(e=f,B.Z.composeUnion({None:()=>h.of(null),Some:B.Z.composeKnot({value:B.Z.composeKnot({root:B.Z.fromSideEffect((t=>{t.kind===Ke.hovered?e.actions.next({kind:Oe.Kind.highlightMenuHovered,hovered:t.hovered}):(0,Le.L0)(t.kind)}),e.state.view(l.map(K.H6("highlightNode","hovered"))).pipe(Ze.oA)),header:(t=e.state.pipe(Ze.oA,T.U((e=>({headerText:e.item.headerText,headerIconSrc:e.item.headerIconSrc,browser:e.browser})))),B.Z.composeKnot({root:st(t),badge:rt(t.pipe(T.U(K.H6("browser")))),headerIcon:ot(t.pipe(T.U((0,i.ls)(K.H6("headerIconSrc"),at.Y(l.option)))))})),content:et(e.state.pipe(Ze.oA,T.U((e=>({articleTitle:e.item.articleTitle,articleContent:e.item.articleContent,pointPeople:e.item.pointPeople,relatedMaterials:e.item.relatedMaterials})))),e.actions),footer:it(e.state.pipe(Ze.oA,T.U((e=>({itemId:e.item.itemId,termId:e.item.termId,suggestCorrectionUrl:e.item.suggestCorrectionUrl})))),e.actions)})})},(()=>e.state))))));var e,t}}}var vt,kt=n(48044),wt=n(17889),Et=n(13853),yt=n(46674),It=n(55564),Ct=n(19723);!function(e){e.fromStaticCheck=function(e){return{id:Ct.q.Id.create(e.id),itemId:e.id,docId:e.docId,span:e.span,termId:e.termId,headerText:e.headerText,headerIconSrc:e.headerIconSrc,articleTitle:e.articleTitle,articleContent:e.articleContent,pointPeople:e.pointPeople,relatedMaterials:e.relatedMaterials,suggestCorrectionUrl:e.suggestCorrectionUrl}}}(vt||(vt={}));class xt{constructor(e,t){this._actions=e,this._allItems=A.h.create(new Map),this._dismissed=A.h.create(new Set),this._subscriptions=new r.w,this.items=A.h.combine(this._allItems,this._dismissed,((e,t)=>(0,i.zG)(e,kt.DZ(wt.hX((e=>!t.has(e.termId))))))),this._subscriptions.add(t.get().checks.view((0,i.ls)(kt.DZ((0,i.ls)(K.ei("checks"),q.hX(yt.I.KnowledgeHub.isItem),q.UI(vt.fromStaticCheck),wt.c2)),kt.Su(((e,t)=>(0,i.zG)(t,q.DZ((t=>(0,i.zG)(l.fromNullable(t),l.map((()=>({id:t.id,docId:e,itemId:t.itemId,termId:t.termId,headerText:t.headerText,headerIconSrc:t.headerIconSrc,articleTitle:t.articleTitle,articleContent:t.articleContent,pointPeople:t.pointPeople,relatedMaterials:t.relatedMaterials,suggestCorrectionUrl:t.suggestCorrectionUrl,span:t.span})))))),wt.nI))),kt.oA)).subscribe(F.wW(this._allItems))),this._subscriptions.add(this._handleDismissItem())}_handleDismissItem(){return this._actions.pipe(Pe.ofKind(Oe.Kind.dismissTerm),b.b((({termId:e})=>this._dismissed.modify(Et.$T(It.li.eq)(e))))).subscribe()}dispose(){this._subscriptions.unsubscribe()}}var Ut=n(97565),_t=n(83078);function Nt(e){return lt.feedback(Oe.Kind.dismissTerm,(t=>e.get().sendKnowledgeHubFeedback({kind:Ut.Lu.IGNORE,itemId:t.itemId})))}function St(e){return lt.feedback(Oe.Kind.setCardVisibleFor,(t=>(0,i.zG)(t.item,l.map((e=>e.itemId)),_t.bw((t=>e.get().sendKnowledgeHubFeedback({kind:Ut.Lu.LOOKED,itemId:t}))))))}function Ht(e){return lt.tracking(Oe.Kind.relatedMaterialsClick,(()=>{e.knowledgeHubAlertRelatedMaterialsClick("gmail")}))}function Tt(e){return lt.tracking(Oe.Kind.pointPeopleClick,(()=>{e.knowledgeHubAlertPointPeopleClick("gmail")}))}function Ft(e){return lt.tracking(Oe.Kind.suggestEdit,(()=>{e.knowledgeHubAlertSuggestEditButtonClick("gmail")}))}function Kt(e){return lt.tracking(Oe.Kind.toggleFeature,(()=>{e.knowledgeHubFeatureToggleClick("inline","gmail","off")}))}function At(e){return lt.tracking(Oe.Kind.showOnboardingPopup,(()=>{e.knowledgeHubKnowledgeHubOnboardingPopupShow("gmail")}))}function Bt(e){return lt.tracking(Oe.Kind.dismissOnboarding,(({step:t})=>{e.knowledgeHubOnboardingSkipButtonClick("gmail",t)}))}function Mt(e){return lt.tracking(Oe.Kind.nextStepOnboarding,(({step:t})=>{e.knowledgeHubOnboardingNextButtonClick("gmail",t)}))}function Gt(e){return lt.tracking(Oe.Kind.onboardingClose,(()=>{e.knowledgeHubOnboardingCloseButtonClick("gmail")}))}function Ot(e,t,n,c,d,m=a.O,h=o.Y.create("gmail.knowledgeHub.gmailThreadIntegration")){const u=new r.w;e.get().dataOptIn(!0);const p=new s.xQ,g=new ht(p),f=new xt(p,e),b=t.createIntegration({annotations:f.items,createAnnotationsView:({docLayout:e,docNode:t,highlightsCollection:n})=>bt(t,e,f,g,p,n,m)});return g.addEffects(lt.logAction(o.Y.create("gmail.knowledgehub.actions")),lt.toggleFeatureFromCard(d),...function(e){return[Nt,St].map((t=>t(e)))}(e),...function(e){return[Mt,Gt,At,Tt,Ht,Ft,Kt,Bt].map((t=>t(e)))}(c)),h.debug(`Thread integration created for thread #${n.view("threadId").view((0,i.ls)(l.fromEither,l.toUndefined)).get()||"unknown"}`),()=>{g.dispose(),b.dispose(),u.unsubscribe(),h.debug("Thread integration disposed")}}},54784:(e,t,n)=>{n.d(t,{w:()=>d});var i=n(57050),a=n(27378),o=n(71464),r=n(86133),s=n(68282),l=n(5114),c=n(84429);const d=({onHover:e=i.Q1,placement:t="top",showArrow:n=!0,zIndex:d=1,onPlacementChange:m=i.Q1,referenceElement:h,children:u,onPopperMount:p=i.Q1})=>{const g=a.useRef(null),[f,b]=a.useState(null),[v,k]=a.useState(null),w=(0,r.sJ)();a.useEffect((()=>{f&&p(f)}),[f]);const{styles:E,attributes:y,state:I}=(0,o.D)(h,f,{placement:t,modifiers:[{name:"preventOverflow",options:{padding:8}},{name:"eventListeners",enabled:!1},...n?[{name:"offset",options:{offset:[0,s.uy]}},{name:"arrow",options:{element:v,padding:5}},w]:[]]}),C=(null==I?void 0:I.placement)||null;return a.useEffect((()=>{C!==g.current&&(g.current=C,m(l.fromNullable(C)))})),a.createElement("div",{ref:b,style:{...E.popper,zIndex:d},className:c.popover,onMouseMove:()=>null==e?void 0:e(!0),onMouseLeave:()=>null==e?void 0:e(!1),...y.popper},u,n&&a.createElement(s.QH,{ref:k,style:E.arrow,placement:C}))}},50051:(e,t,n)=>{function i(e){return.1*e.height}function a(e,t){return{top:e.top-t,left:e.left-t,width:e.width+2*t,height:e.height+2*t}}function o(e,t){return t?a(e,i(e)):e}n.d(t,{QK:()=>a,Z2:()=>i,z9:()=>o})},96002:(e,t,n)=>{n.d(t,{P:()=>b,p:()=>f});var i=n(27378),a=n(41263),o=n(86620),r=n(92132),s=n(87965),l=n(48189),c=n(50663),d=n(49468),m=n(33678),h=n(15073),u=n(42103),p=n(51369),g=n(76974);const f=({env:e,children:t,className:n,dataGrammarlyPart:a})=>i.createElement(d.o,{className:n,"data-grammarly-part":a},i.createElement(s.p,null,i.createElement(m.a.Context.Provider,{value:new o.C(e)},i.createElement(r.Q,{remSize:g.of(16),setter:e=>h.u.setRootCssVar(document.documentElement,e)},i.createElement(u.G.DefaultProvider,null,t,i.createElement(l.p,{regular:!0,bold:!0}),i.createElement(c.G,null),i.createElement(p.X,null)))))),b=({env:e,children:t,className:n,dataGrammarlyPart:o})=>i.createElement(a.L,{chunkName:"readerGmailThreadIntegration"},i.createElement(f,{env:e,className:n,dataGrammarlyPart:o},t))},86620:(e,t,n)=>{n.d(t,{C:()=>c,U:()=>i});var i,a=n(27378),o=n(29511),r=n(33678),s=n(88056),l=n(95574);!function(e){let t;!function(e){e.isAppleSystem="isAppleSystem"}(t=e.SidebarFlag||(e.SidebarFlag={})),e.Flag={...t,...r.a.Flag},e.Context=a.createContext(s.Y.invariantContent("Environment"))}(i||(i={}));class c{constructor(e=(0,o.O)()){this._flags=new Set,this.actions={openUrl:e=>l.vM((()=>{document.location.href=e.toString()})),openPopup:e=>l.vM((()=>{const t=self.open(e.toString(),void 0,"noreferrer");t&&(t.opener=null)}))},e.config.systemInfo.os.isMac&&this._flags.add(i.Flag.isAppleSystem),this._flags.add(i.Flag.supportsSVGDominantBaseline),this._flags.add(i.Flag.onlyTrustedEvents)}has(e){return this._flags.has(e)}}},92132:(e,t,n)=>{n.d(t,{Q:()=>l});var i=n(27378),a=n(15073),o=n(60797),r=n(95300),s=n(5114);const l=({children:e,remSize:t,setter:n})=>(c+=1,i.useEffect((()=>{const e=t.subscribe((e=>{d.next(s.some(e)),n(s.some(e))}));return()=>{e.unsubscribe(),c-=1,0===c&&(d.next(s.none),n(s.none))}}),[t]),i.createElement(a.u.Context.Provider,{value:d.pipe(o.oA)},e));let c=0;const d=new r.X(s.none)},15130:(e,t,n)=>{var i,a;n.d(t,{C:()=>i,G:()=>a}),function(e){e[e.reader=0]="reader",e[e.knowledgeHub=1]="knowledgeHub"}(i||(i={})),function(e){e[e.reader=1]="reader",e[e.knowledgeHub=2]="knowledgeHub"}(a||(a={}))},86705:(e,t,n)=>{n.d(t,{v:()=>o});var i=n(27378),a=n(80895);const o=({browser:e,className:t,title:n="BETA"})=>"safari"!==e?i.createElement(a.C,{title:n,className:t}):null},47006:e=>{e.exports={highlight:"Uf7Sa",dark:"LGiSD",background:"MKX9t",showBackground:"RvKZ8",hovered:"_lQda",icon:"eRGy2"}},56674:e=>{e.exports={cardContent:"cDNw_",section:"zxicm",primaryTitle:"RutA9",secondaryTitle:"QHPo_",text:"El3y4"}},81012:e=>{e.exports={list:"zZDKn",item:"Bgbe6",avatar:"acs7x",icon:"l9Yiw",text:"wafdm"}},37525:e=>{e.exports={list:"mEqNt",item:"QmFaO",icon:"HuwZa",text:"IISHs"}},52306:e=>{e.exports={section:"rzPYV",title:"Iglyg"}},17577:e=>{e.exports={cardFooter:"wW_zB",toolbar:"QL3XU",button:"szYxg",text:"wEhdz",icon:"Y3o6e",dismissButton:"xwUZr",actionsContainer:"pyB8i",actionsList:"D_rEt",item:"yVLdR",splitter:"qBZVK"}},95975:e=>{e.exports={button:"uNolS",icon:"EnBgL"}},10508:e=>{e.exports={cardHeader:"z5E_L",title:"suOUe",icon:"VC7id",text:"OqRiw",betaBadge:"LATyt"}},78920:e=>{e.exports={card:"ZHmGt"}},84429:e=>{e.exports={popover:"O8o6T"}}}]);