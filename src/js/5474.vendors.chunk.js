/*! For license information please see 5474.vendors.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[5474],{72481:(e,t,n)=>{n.d(t,{p:()=>r});var r,i=n(27378),o=n(40327),a=n(38983),s=n(98403),l=n(19751),c=n(2834),u=n(9223),d=n(5114),p=n(83078),m=n(90845);!function(e){e.Manager=function(t){var n=t.children,r=t.cardWidth,o=s.Dx(r).pipe(l.shareReplay({refCount:!0,bufferSize:1}));return m.P.useSingleton("CardWidth.Manager"),m.P.useSubscriptionTo(o),i.createElement(e.Context.Provider,{value:o},n)},e.DefaultManager=function(t){var n=t.children;return m.P.useSingleton("CardWidth.DefaultManager"),i.createElement(e.Manager,{cardWidth:e.withCardWidthEffect(e.defaultSizeObserver)},n)},e.withCardWidthEffect=function(t,n){return void 0===n&&(n=e.defaultCardWidthSetter),t.pipe(c.b((function(e){return n(d.some(e))})),u.x(n.bind(null,d.none)),l.shareReplay({refCount:!0,bufferSize:1}))},e.defaultCardWidthSetter=function(t){e.setRootCssVar(document.documentElement,t)},e.defaultSizeObserver=a.h.create(400),e.Context=i.createContext(e.defaultSizeObserver),e.setRootCssVar=function(e,t){e.style.setProperty("--cardWidth",(0,o.pipe)(t,d.map(String),p.QP))}}(r||(r={}))},62295:(e,t,n)=>{n.d(t,{x:()=>m});var r,i,o,a,s,l,c,u,d,p,m,f=n(59312),h=n(27378),g=n(5739),y=n(12187),v=n(77176),b=n(98403),w=n(57091),S=n(93508),x=n(19962),E=n(44060),I=n(33678),k=n(31278),C=n(8965),A=n(89894),T=n(40456),M=n(61722),O=n(37539);!function(e){function t(e){return 0===e?"":e>=1e3?"".concat(Math.min(Math.trunc(e/1e3),9),"k+"):String(e)}var n=function(e){var t=e.className,n=e.isChecking,r=e.type,i=e.animateFade,o=void 0===i||i,a=M.f.fadeOutState(n),s=a.state,l=a.complete,c="checking-complete";return h.createElement(g.F.div,(0,f.pi)({},(0,y.Sh)(ne.loader,t)),o?s.pipe(v.U((function(e){return"end"===e?h.createElement("div",{key:"checking-complete",className:c}):h.createElement(C.$,{key:"spinner",variation:r,size:"100%",className:"fadeOut"===e?ne.fadeOut:void 0,onTransitionEnd:l})}))):n.pipe(v.U((function(e){return e?h.createElement(C.$,{variation:r,size:"100%"}):h.createElement("div",{className:c})}))))},r=function(e){var n=e.name,r=e.theme,i=void 0===r?{}:r,o=e.count,a=e.type,s=void 0===a?"white":a,l=e.suffix,c=void 0===l?"":l,u=h.useContext(I.a.Context);return h.createElement(g.F.div,(0,f.pi)({},(0,y.Sh)(ne.roundCounter,b.ab(s,C.$.getClassName(ne)),i.counterWrapper),{"data-role":"counter"}),h.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32",className:ne.circular},h.createElement("g",null,h.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),h.createElement("text",(0,f.pi)({x:"16",y:"17"},x.h5(u.has(I.a.Flag.supportsSVGDominantBaseline)),{fontSize:o>=100?14:18,"data-name":n},(0,y.Sh)(U,i.counterContent)),t(o),c))))},i=function(e){var n=e.name,r=e.theme,i=void 0===r?{}:r,o=e.count,a=e.type,s=void 0===a?"white":a,l=e.suffix,c=void 0===l?"":l,u=h.useContext(I.a.Context);return h.createElement(g.F.div,(0,f.pi)({},(0,y.Sh)(ne.ovalCounter,b.ab(s,C.$.getClassName(ne)),i.counterWrapper),{"data-role":"counter"}),h.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 20",className:ne.circular},h.createElement("rect",{width:"32",height:"20",rx:"10"}),h.createElement("text",(0,f.pi)({x:"16",y:"10.5"},x.h5(u.has(I.a.Flag.supportsSVGDominantBaseline)),{fontSize:11,"data-name":n},(0,y.Sh)(U,i.counterContent)),t(o),c)))};e.Counter=function(e){var t=e.theme,n=void 0===t?{}:t,o=e.count,a=e.type,s=void 0===a?"white":a,l=o>=100?i:r;return h.createElement(l,{theme:(0,f.pi)((0,f.pi)({},n),{counterWrapper:(0,y.Sh)(n.counterWrapper,ne.flexCounter).className}),count:o,type:s})},e.OutcomeCounter=function(e){var n=e.name,r=e.theme,i=void 0===r?{}:r,o=e.count,a=e.type,s=void 0===a?"white":a,l=e.suffix,c=e.fontSize,u=void 0===c?12:c,d=h.useContext(I.a.Context);return h.createElement(g.F.div,(0,f.pi)({},(0,y.Sh)(ne.outcomeCounter,b.ab(s,C.$.getClassName(ne)),i.counterWrapper),{"data-role":"counter"}),h.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 18",className:ne.circular},h.createElement("rect",(0,f.pi)({},function(e,t){return t||e>=100?{width:32}:e>=10?{x:4,width:24}:{x:7,width:18}}(o,Boolean(l)),{height:18,rx:9})),h.createElement("text",(0,f.pi)({x:"50%",y:"10px"},x.h5(d.has(I.a.Flag.supportsSVGDominantBaseline)),{fontSize:u,"data-name":n},(0,y.Sh)(U,i.counterContent)),t(o),l)))},e.MainMeter=function(e){var t=e.count,i=e.isChecking,o=e.className,a=0===t;return h.createElement("div",(0,f.pi)({},(0,y.Sh)(ne.meter,o)),h.createElement(n,{isChecking:i,type:a?"green":"red"}),0===t?h.createElement(k.JO.Grammarly,null):h.createElement(r,{count:t,type:"red",name:"toolbar-mistakes"}))},e.LensNavMeter=function(e){var t=e.count,i=e.isChecking;return h.createElement("div",{className:ne.lensNavMeter},h.createElement(n,{isChecking:i,type:"red"}),h.createElement(r,{count:t,type:"white",name:"toolbar-mistakes"}))},e.PlagiarismMeter=function(e){var t=e.count,r=e.isChecking,o=e.className;return h.createElement("div",(0,f.pi)({},(0,y.Sh)(ne.plagiarismMeter,o)),h.createElement(n,{isChecking:r,type:"violet",animateFade:!1}),h.createElement(g.F.div,{className:ne.wrapper},t.pipe(w.a(r),v.U((function(e){var t=e[0],n=e[1];return 0===t?h.createElement(k.JO.NotificationInfo,{className:ne.plagiarismIcon,key:"icon",width:20}):!n&&h.createElement(i,{count:t,type:"violet",key:"value",suffix:h.createElement("tspan",{fontSize:8,dominantBaseline:"center"},"%")})})),S.O(null))))},e.PlagiarismOutcomesMeter=function(t){var r=t.count,i=t.isChecking,o=t.className;return h.createElement("div",(0,f.pi)({},(0,y.Sh)(ne.plagiarismMeter,o)),h.createElement(n,{isChecking:i,type:"cyan",animateFade:!1}),h.createElement(g.F.div,{className:ne.wrapper},r.pipe(w.a(i),v.U((function(t){var n=t[0],r=t[1];return O.g.isMin(n)?h.createElement(k.JO.CheckmarkOutcomes,{className:ne.plagiarismOutcomeIcon,key:"icon",width:20}):!r&&h.createElement(e.OutcomeCounter,{count:O.g.prism.reverseGet(n),type:"cyan",key:"value",suffix:h.createElement("tspan",{fontSize:11},"%")})})),S.O(null))))}}(m||(m={}));var _=1.25,P={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"visible",margin:"auto",width:A.ux.percent(100),height:A.ux.percent(100)},L={position:"absolute",width:A.ux.percent(150),height:A.ux.percent(150),transform:"translate(-17%, -17%)"},N={position:"relative",display:"inline-flex"},D={width:A.ux.percent(100),height:A.ux.percent(100)},R={minWidth:A.ux.rem(2),width:A.ux.percent(100),height:A.ux.rem(_)},j={maxWidth:A.ux.rem(2),height:A.ux.rem(_)},F="counterText",U=A.ux.joinClasses([F,A.ux.style({fontWeight:"bold",textAnchor:"middle",fill:E.Il.CoreNeutral0})]),z={fill:T.zh,$nest:(r={},r["& .".concat(F)]={fill:T.FW},r)},B={fill:E.Il.CoreRed50,$nest:(i={},i["& .".concat(F)]={fill:E.Il.CoreNeutral0},i)},G={fill:E.Il.CoreGreen50,$nest:(o={},o["& .".concat(F)]={fill:E.Il.CoreNeutral0},o)},W={fill:E.Il.CoreBlue50,$nest:(a={},a["& .".concat(F)]={fill:E.Il.CoreNeutral0},a)},H={fill:"transparent",$nest:(s={},s["& .".concat(F)]={fill:T.FW},s)},K={fill:T.lh,$nest:(l={},l["& .".concat(F)]={fill:E.Il.CoreNeutral0},l)},$={fill:T.AX,$nest:(c={},c["& .".concat(F)]={fill:E.Il.CoreNeutral0},c)},V={fill:E.Il.CoreYellow20,$nest:(u={},u["& .".concat(F)]={fill:E.Il.CoreYellow80},u)},Y={fill:E.Il.CoreYellow60,$nest:(d={},d["& .".concat(F)]={fill:E.Il.CoreNeutral0},d)},Q={fill:E.Il.CoreCyan50,$nest:(p={},p["& .".concat(F)]={fill:E.Il.CoreNeutral0},p)},Z={width:A.ux.rem(1.5),height:A.ux.rem(1.5)},q={margin:"0 ".concat(A.ux.rem(.25))},J={width:A.ux.rem(2),height:A.ux.rem(_)},X={margin:"".concat(A.ux.rem(-1)," 0")},ee={$nest:{"&:not([data-disabled='true'])[data-active='true'], &:not([data-disabled='true'])[data-hovered='true']":{fill:E.Il.CoreCyan50}}},te={width:A.ux.rem(2),height:A.ux.rem(1.125),position:"relative"},ne=A.ux.stylesheet({fadeOut:[{opacity:0,transition:"opacity .5s linear"}],circular:[P],loader:[L],wrapper:[N],roundCounter:[N,D],ovalCounter:[N,R],flexCounter:[N,j],gray:[z],red:[B],green:[G],blue:[W],white:[H],violet:[K],yellow:[$],yellowPremium:[V],orange:[Y],cyan:[Q],meter:[N,Z],lensNavMeter:[N,Z,q],plagiarismMeter:[N,J],plagiarismIcon:[X],plagiarismOutcomeIcon:[X,ee],outcomeCounter:[N,{position:"absolute",left:0},te]})},43788:(e,t,n)=>{n.r(t);var r=n(89894);r.ux.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/4a02dadac4200410/inter-light.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/acce0019024104fb/inter-light.woff","') format('woff')"),fontDisplay:"swap"}),r.ux.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/7bef46532f708733/inter-bold.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/ea52a258a5960eb1/inter-bold.woff","') format('woff')"),fontDisplay:"swap"}),r.ux.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/8ff4acffd672466d/inter-regular.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/95556a344263ac2f/inter-regular.woff","') format('woff')"),fontDisplay:"swap"}),r.ux.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/4880c56d9cffba6e/inter-medium.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/ef1dbbb450627084/inter-medium.woff","') format('woff')"),fontDisplay:"swap"}),r.ux.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/c42d8f5d50371deb/inter-lightitalic.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/7d0c9d6851a45d28/inter-lightitalic.woff","') format('woff')"),fontDisplay:"swap"}),r.ux.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/a1299ef7a09f7862/inter-italic.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/f181a8d9a53d2273/inter-italic.woff","') format('woff')"),fontDisplay:"swap"}),r.ux.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/cd4ed5ba85456652/inter-mediumitalic.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/ec53d3017abde200/inter-mediumitalic.woff","') format('woff')"),fontDisplay:"swap"}),r.ux.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:"url('".concat("chrome-extension://__MSG_@@extension_id__/src/fonts/116b6cc829f10447/inter-bolditalic.woff2","') format('woff2'), url('").concat("chrome-extension://__MSG_@@extension_id__/src/fonts/bec33e3ccca61eb2/inter-bolditalic.woff","') format('woff')"),fontDisplay:"swap"})},51369:(e,t,n)=>{n.d(t,{X:()=>M});var r,i=n(59312),o=n(27378),a=n(57050),s=n(5114),l=n(19962),c=n(44060),u=n(11413),d=n(89894),p=n(32096),m=n(40327),f=n(5739),h=n(49708),g=n(85985),y=n(41398),v=n(24209),b=n(17343),w=n(98403),S=n(38194),x=n(598),E=n(50628),I=n(25781),k=n(83078),C=n(18625);!function(e){var t="scrollaction";e.emit=function(e){return self.dispatchEvent(new CustomEvent(t,{detail:e}))},e.observe=C.P((function(){return h.R(self,t)}))}(r||(r={}));var A=n(42103),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!l.UL.hasPoint(t.getBoundingClientRect(),e)}},t}return(0,i.ZT)(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[],this.context.hide()},t.prototype.render=function(){return o.createElement(f.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=h.R(document,"keydown").pipe(g.h((function(e){return e.keyCode===I.R.ESC_CODE}))),n=h.R(document,"mousedown").pipe(y.M(this.context.state),g.h((function(t){var n=t[0],r=t[1];return(0,m.pipe)(r,s.map((function(e){return e.target})),s.filter((function(){return l.pK(n.target)})),k.wo(e._outOfTarget({x:n.clientX,y:n.clientY})))}))),i=v.T(t,n,h.R(document,"scroll"),r.observe.pipe(g.h((function(e){return"show"===e.detail})))).pipe(b.h(w.PU),S.B());this._subs=[this.context.hasContent.pipe(g.h(Boolean),x.c(i.pipe(E.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(g.h(Boolean),x.c(v.T(w.gw(!0,500),i.pipe(b.h(!1))).pipe(E.P())),g.h(Boolean)).subscribe(this.context.show)]},t.contextType=A.G.Context,t}(o.Component),M=function(){return o.createElement(T,null,(0,a.ls)(s.map((function(e){return o.createElement(u.t.ByAbsoluteRect,(0,i.pi)({rect:l.UL.fromEl(e.target),className:P.container},u.t.Alignment.toSelector(e.alignment),{withPin:!0}),o.createElement("div",{className:P.content},e.content))})),s.toNullable))},O={position:"fixed",zIndex:p.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},_={padding:"".concat(d.ux.rem(.25)," ").concat(d.ux.rem(1)),borderRadius:d.ux.rem(p.fx),background:c.Il.BackgroundTooltip,color:c.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:d.ux.px(.25),fontSize:d.ux.rem(.75),lineHeight:d.ux.rem(1)},P=d.ux.stylesheet({container:[O],content:[_]})},59443:(e,t,n)=>{n.d(t,{Y1:()=>r,uq:()=>l});var r,i,o,a,s,l,c,u,d=n(73975),p=n(55415),m=n(22232),f=n(8125),h=n(87969);!function(e){var t;!function(t){var n;!function(e){e.user="user",e.api="api",e.doubleClick="doubleClick"}(n=t.Source||(t.Source={})),t.eq=(0,d.f7)((function(t,r){return t.source===r.source&&(t.source===n.doubleClick&&r.source===n.doubleClick?t.selectedWord===r.selectedWord:e.eqFormatting.equals(t.formatting,r.formatting))}))}(t=e.Meta||(e.Meta={})),e.nonEmpty=function(e){return e.length>0},e.isEmpty=function(e){return 0===e.length},e.toTextRange=function(e){return h.SV.create(e.index,e.index+e.length)},e.isUserSelection=function(e){return e.meta.source===t.Source.user},e.isApiSelection=function(e){return e.meta.source===t.Source.api},e.isDoubleClickSelection=function(e){return e.meta.source===t.Source.doubleClick},e.eqRange=(0,d.f7)((function(e,t){return e.index===t.index&&e.length===t.length})),e.eqFormatting=(0,d.f7)(p.vZ),e.eq=(0,d.f7)((function(t,n){return e.eqRange.equals(t,n)&&e.Meta.eq.equals(t.meta,n.meta)})),e.empty={index:0,length:0,meta:{source:e.Meta.Source.user,formatting:{}}}}(r||(r={})),function(e){e.DenaliOtherDocSession="denaliOtherDocSession",e.DenaliSameDocSession="denaliSameDocSession",e.MSOutlook="outlook",e.MSWord="word",e.MSWordOnline="wordOnline",e.MSExcel="excel",e.MSOffice="msoffice",e.ProbablyMSOutlookOnline="probablyMSOutlookOnline",e.GDocs="gdocs",e.GSheets="gsheets",e.ProbablyGMail="probablyGmail",e.CocoaHTMLWriter="cocoaHTMLWriter",e.DropboxPaper="dropbox_paper",e.PlainText="plainText",e.Unknown="unknown",e.Synthetic="synthetic"}(i||(i={})),function(e){e.empty={top:0,bottom:0}}(o||(o={})),function(e){!function(e){e.top="top",e.middle="middle",e.bottom="bottom"}(e.Y||(e.Y={})),function(e){e.left="left",e.middle="middle",e.right="right"}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(n){switch(n){case e.X.left:return t.left;case e.X.middle:return t.left+t.width/2;case e.X.right:return t.right;default:return(0,m.vE)(n)}}}}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(n){switch(n){case e.Y.top:return t.top;case e.Y.middle:return t.top+t.height/2;case e.Y.bottom:return t.bottom;default:return(0,m.vE)(n)}}}}(e.Y||(e.Y={}))}(a||(a={})),function(e){var t;!function(e){e.textMaybeWithFormatting="text",e.onlyFormatting="formatting"}(t=e.Type||(e.Type={})),e.isTextMaybeWithFormatting=function(e){return e.type===t.textMaybeWithFormatting},e.isOnlyFormatting=function(e){return e.type===t.onlyFormatting}}(s||(s={})),function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(l||(l={})),function(e){var t;!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.strike="strike",e.header1="header1",e.header2="header2",e.bulletList="bulletList",e.dashedList="dashedList",e.orderedList="orderedList",e.link="link"}(t=e.Type||(e.Type={})),e.is=function(e){return(0,f.CI)(t,e)},e.asList=Object.values(e.Type),function(e){e.is=function(e){return void 0!==e[t.link]}}(e.LinkPayload||(e.LinkPayload={}))}(c||(c={})),function(e){e.undo="undo",e.redo="redo",e.cut="cut",e.copy="copy",e.paste="paste",e.selectAll="selectAll"}(u||(u={}))},81301:(e,t,n)=>{n.d(t,{EQ:()=>h,Iy:()=>i,dC:()=>r});var r,i,o,a=n(38983),s=n(5114),l=n(8125),c=n(66310),u=n(18625),d=n(95300),p=n(76974),m=n(2834),f=n(40151);!function(e){e.SetGoals="SetGoals",e.Performance="Performance"}(r||(r={})),function(e){e.setGoals=e=>({type:r.SetGoals,source:e}),e.performance={type:r.Performance}}(i||(i={}));class h{constructor(e){this._modalViews=e,this.state=a.h.create(s.none),this._modalFactoryCache=new Map}show(e){return this.preload(e).pipe(c.w((e=>this.showPreloaded(e))))}showPreloaded(e){return u.P((()=>{const t=new d.X("opened");return this.state.set(s.some(e({onClose:()=>{this.state.set(s.none),t.next("closed"),t.complete()}}))),t}))}preload(e){const t=JSON.stringify(e);if(this._modalFactoryCache.has(t)){const e=this._modalFactoryCache.get(t);return p.of(e)}return u.P((()=>this._modalViews.load(e))).pipe(m.b((e=>{this._modalFactoryCache.set(t,e)})))}hideAll(){this.state.set(s.none)}}!function(e){e.Mock=class{constructor(){this.state=a.h.create(s.none),this.hideAll=l.Q1}show(e){return f.E}showPreloaded(e){return f.E}preload(e){return f.E}}}(o||(o={}))},47861:(e,t,n)=>{n.d(t,{i:()=>h});var r=n(27378),i=n(5739),o=n(8125),a=n(89894),s=n(40219),l=n(13351),c=n(2844),u=n(28043),d=n(77176),p=n(14522),m=n(5802),f=n(50790);const h=({manager:e,views:t,onNotificationClose:n=o.Q1,theme:a={}})=>{const s=function(e,t,n={}){return i=>{const o=e[i.type],a=e=>()=>{i.actions.next(e)};return i.metadata.viewType===m.P.ViewType.standard?r.createElement(f.DI.Wrapper,{key:i.id,notification:i,onClose:()=>{i.actions.next("closedByUser"),t(i)},theme:n},o(i,a)):r.createElement(r.Fragment,{key:i.id},o(i,a))}}(t,n,a.view),h=void 0!==a.grid?Object.assign({},E,a.grid):E,y=e.state.view((e=>e.filter(g(m.P.Position.bottomLeft)))),v=e.state.view((e=>e.filter(g(m.P.Position.bottomRight)))),b=e.state.view((e=>e.filter(g(m.P.Position.top))));return r.createElement(i.F.div,{className:h.container},c.aj(b,v,b,(e=>e.some(p._.isHighPriority))).pipe(u.x(),d.U((e=>e&&r.createElement("div",{className:h.overlay},r.createElement(l.aV,{positionType:"absolute",key:"notificationOverlay",preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:x.overlayContent,contentFaded:x.overlayContentFaded}}))))),r.createElement(i.F.div,{className:h.bottomLeft},y.view((e=>e.map(s)))),r.createElement(i.F.div,{className:h.bottomRight},v.view((e=>e.map(s)))),r.createElement(i.F.div,{className:h.top},b.view((e=>e.map(s)))))};function g(e){return t=>t.metadata.position===e}const y={position:"fixed",top:0,left:0,zIndex:s.nt,width:a.ux.percent(100),height:a.ux.percent(100),pointerEvents:"none"},v={position:"absolute",zIndex:s.nt,display:"flex",flexDirection:"column",width:a.ux.rem(27),pointerEvents:"auto",alignItems:"flex-end"},b={right:a.ux.rem(s.Ig),bottom:a.ux.rem(1.5)},w={bottom:a.ux.rem(1.5),left:a.ux.rem(2)},S={transition:"transform .1s",transformOrigin:"center"},x=a.ux.stylesheet({notificationContainer:[y],notificationWrapper:[v],bottomRightNotificationWrapper:[v,b],bottomLeftNotificationWrapper:[v,w],topNotificationWrapper:[v,{top:0,right:0,left:0,margin:"0 auto"}],overlayContentBase:[S],overlayContent:[S,{transform:"none"}],overlayContentFaded:[S,{transform:"scale(.95)"}]}),E={container:x.notificationContainer,bottomLeft:x.bottomLeftNotificationWrapper,bottomRight:x.bottomRightNotificationWrapper,top:x.topNotificationWrapper}},41966:(e,t,n)=>{n.d(t,{r:()=>r});var r,i=n(32952);!function(e){e.createBuilder=function(){return{build:(e,n)=>{const r=t();return{make:(t,o)=>({metadata:e,data:n,args:o,id:r,type:t,actions:new i.xQ})}}}};const t=(()=>{let e=1;return()=>e++})()}(r||(r={}))},14522:(e,t,n)=>{n.d(t,{_:()=>r});var r,i=n(5802);!function(e){e.isHighPriority=function(e){return e.metadata.priority>i.P.Priority.average},e.isCloseAction=function(e){return"timeout"===e||"closedByUser"===e||"closedByNotificationWithMorePriority"===e||"closedByMaxNotificationOnScreen"===e}}(r||(r={}))},61813:(e,t,n)=>{n.d(t,{y:()=>w});var r=n(8125),i=n(81531),o=n(46680),a=n(18625),s=n(80900),l=n(17343),c=n(40151),u=n(95093),d=n(2768),p=n(85985),m=n(8473),f=n(50628),h=n(2834),g=n(9223),y=n(38194),v=n(14522),b=n(5802);class w{constructor(e,t,n,r){this.state=e,this._factory=t,this._maxNotificationsOnScreen=n,this._defaultTimeout=r,this._log=i.C8.Logging.getLogger("notificationsManager")}enqueue(e,t){const n=this._factory[e].make(e,t);return a.P((()=>{const t=n.metadata.timeout!==b.P.TimeoutDisabled?s.H(n.metadata.timeout===b.P.DefaultTimeout?this._defaultTimeout:n.metadata.timeout).pipe(l.h("timeout")):c.E;this.state.modify((e=>{const t=e.filter(((t,r)=>t.metadata.priority<n.metadata.priority?(this._log.debug(`closing ${t.type} notification, ${n.type} have higher priority`),t.actions.next("closedByNotificationWithMorePriority"),!1):t.id!==n.id&&(!(0===r&&e.length>=this._maxNotificationsOnScreen)||(this._log.debug(`closing ${t.type} notification, more than ${this._maxNotificationsOnScreen} notification on the screen`),t.actions.next("closedByMaxNotificationOnScreen"),!1))));return t.push(n),t}));const i=n.actions.pipe(u.T(t.pipe(d.R(n.actions.pipe(p.h(v._.isCloseAction))))));return i.pipe(m.o((0,r.ff)(v._.isCloseAction)),u.T(i.pipe(f.P(v._.isCloseAction))),h.b((t=>{this._log.log(v._.isHighPriority(n)?o.i.WARN:o.i.DEBUG,`Notification ${String(e)} is ${t}`)})),g.x((()=>{this.state.modify((e=>e.filter((e=>e.id!==n.id))))})),y.B())}))}}},6488:(e,t,n)=>{n.d(t,{e:()=>r});var r,i=n(57050),o=n(40327),a=n(5114),s=n(8125),l=n(4390),c=n(74660);!function(e){e.create=function(e){const t=t=>(0,o.pipe)(e.get(),l.p.get(t),a.map(c.bZ.fromAlertModel)),n=e=>(0,o.pipe)(t(e),a.filter(c.bZ.isInteractable)),r=e=>(0,o.pipe)(t(e),a.filter(c.bZ.isRegistered)),u=(0,i.ls)(r,a.filter((0,s.W9)(c.bZ.isNotDisposed,(0,i.ff)(c.bZ.isInPremiumLens),(0,i.ff)(c.bZ.isHidden)))),d=(0,i.ls)(u,a.isSome);return{getById:t,getRegistered:r,getInteractable:n,getValidForFeedback:u,isValidForFeedback:d,isRegistered:e=>(0,o.pipe)(r(e),a.isSome),isInteractable:e=>(0,o.pipe)(n(e),a.isSome)}}}(r||(r={}))},43320:(e,t,n)=>{n.d(t,{R:()=>o});var r=n(51072),i=n(32952);class o{static init(e,t,n,r,a,s){const l=new i.xQ;return new o(e,t,n,r,a,s,l),l}constructor(e,t,n,r,i,a,s){const l=o.NamedChangesSink.factory(s),c={pm:l(o.Receiver.PM,r),dm:l(o.Receiver.PM,i),capi:l(o.Receiver.CAPI,n),userTextEcho:l(o.Receiver.UserText,e)};o.Producer.create(o.Producer.UserText,{changes:e.changes})(c.dm,c.pm,c.capi),o.Producer.create(o.Producer.ALERT_APPLY,a)(c.userTextEcho),t.subscribe((t=>{"before_alert"===t.kind&&e.flushChanges()}))}}!function(e){let t,n,i,o;!function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.ALERT_APPLY="alert_synonyms_manager"}(t=e.Producer||(e.Producer={})),function(e){e.create=function(e,t){return(...n)=>t.changes.subscribe((t=>{n.forEach((n=>n.pushChanges(e,t)))}))}}(t=e.Producer||(e.Producer={})),function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.CAPI="checking_service",e.PM="position_manager"}(n=e.Receiver||(e.Receiver={})),function(e){function t(e,t,n){return{pushChanges:(i,o)=>{try{let a=t.pushChanges(o);"function"==typeof a&&(a=r.Vi(a)),void 0!==a&&a.catch((t=>n.next({exception:t,details:{from:i,to:e}})))}catch(t){n.next({exception:t,details:{from:i,to:e}})}}}}e.factory=function(e){return(n,r)=>t(n,r,e)},e.create=t}(i=e.NamedChangesSink||(e.NamedChangesSink={})),function(e){e.create=e=>({changes:e.changes,pushChanges(t){e.pushChanges(t,"user")},getContents:()=>e.getContents(),flushChanges:()=>e.flushChanges()})}(o=e.UserTextChangesSync||(e.UserTextChangesSync={}))}(o||(o={}))},5008:(e,t,n)=>{n.d(t,{A:()=>i,n:()=>r});var r,i,o=n(57050),a=n(25938),s=n(36991),l=n(8125),c=n(62965),u=n(24209);!function(e){e.noopSync={pushChanges:l.Q1},e.ignoreResult=function(e){return{pushChanges:t=>{e.pushChanges(t)}}},e.ignoreTEResult=function(e){return{pushChanges:(0,o.ls)(e.pushChanges,c.UI(l.Q1))}},e.pushDeleteThenInsert=function(e){return{pushChanges:t=>{(a.RI.isDelta(t)?a.RI.fromArrayOfDeltas(s.s.splitToDeleteThenInsert(t.delta).filter(s.s.nonEmpty),t.prevLen):[t]).forEach((t=>e.pushChanges(t)))}}}}(r||(r={})),function(e){e.merge=function(e){return{changes:u.T(...e.map((e=>e.changes)))}}}(i||(i={}))},91247:(e,t,n)=>{n.d(t,{w:()=>i});var r,i,o=n(57050),a=n(40327),s=n(50147),l=n(92843),c=n(68983),u=n(5114),d=n(66896),p=n(51653),m=n(70996);!function(e){e.modelToCounters=function(e){return m.h.isRegistered(e)?e.counters:p.R.empty}}(r||(r={})),function(e){e.monoid=s.uZ(d.R.Id.ord,d.R.Meta.group),e.eq=s.Eh(d.R.Id.ord,d.R.Meta.eq),e.isEmpty=s.xb,e.lookup=s.P5(d.R.Id.ord),e.applyDiff=t=>r=>u=>(0,a.pipe)(r,l.v.foldMap(e.monoid)(i(t),p(t),n(t)),(0,c.W)(e.monoid.concat)(u),s.hX((0,o.ff)(d.R.Meta.isEmpty))),e.updatePercentiles=e=>t=>{let n=t;return e.forEach(((e,t)=>{n=(0,a.pipe)(n,s.cq(d.R.Id.ord)(t,d.R.Meta.ratioToPercentile(e)),u.fold((()=>(0,a.pipe)(n,s.ZQ(d.R.Id.ord)(t,d.R.Meta.fromPercentile(e)))),o.yR))})),n};const t=(0,o.ls)(r.modelToCounters,d.R.Meta.fromAlertCounters),n=e=>n=>m(e)(n,t),i=e=>n=>m(e)(n,(0,o.ls)(t,d.R.Meta.group.inverse)),p=t=>(r,o)=>e.monoid.concat(n(t)(o),i(t)(r)),m=e=>(t,n)=>(0,a.pipe)(e,s.hX((e=>e(t.alert))),s.UI((()=>n(t))))}(i||(i={}))},13313:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(38983),o=n(4390),a=n(54216),s=n(93508),l=n(57091),c=n(67434),u=n(98403),d=n(91247);!function(e){e.defaultState={alerts:o.p.empty,lenses:d.w.monoid.empty},e.get=(r,i,a)=>i.pipe(s.O(new Map),l.a(r.pipe(s.O(o.p.empty),c.R(((e,n)=>t(n,a.lensFilters)(e)),e.defaultState)),n)),e.getMock=(t,n)=>{const r=i.h.create(e.defaultState);return e.get(t,n,a.t.create(a.t.defaultLensFilters,a.t.defaultTextFilters)).subscribe(u.wW(r)),r};const t=(e,t)=>n=>{const r=o.p.Diff.toRegistered(o.p.diff(n.alerts,e));return{alerts:e,lenses:d.w.applyDiff(t)(r)(n.lenses)}},n=(e,t)=>Object.assign(Object.assign({},t),{lenses:d.w.updatePercentiles(e)(t.lenses)})}(r||(r={}))},35301:(e,t,n)=>{n.d(t,{J:()=>r});var r,i=n(71249),o=n(22690),a=n(57050),s=n(40327),l=n(38983),c=n(63513),u=n(80358),d=n(45701),p=n(50147),m=n(5114),f=n(43675),h=n(62965),g=n(8125),y=n(95195),v=n(81531),b=n(74660),w=n(32952),S=n(9922),x=n(66310),E=n(85985),I=n(77176),k=n(2834),C=n(98403),A=n(16118),T=n(40151),M=n(85654);!function(e){let t,n,r;!function(e){let t;!function(e){e.ord=d.ordString,e.show=o._3,e.create=e=>e}(t=e.Id||(e.Id={})),e.isSpecial=e=>Object.values(c.JW.SpecialCategory).includes(e),e.specialCategoryDescription="Special category"}(t=e.Category||(e.Category={})),function(e){e.filter=e=>p.hX((t=>e(t.id))),e.filterWithCount=(e,t)=>n=>{const r=Array.from(n.keys()),i=M.k.getAlerts(t,r).byCategory;return(0,s.pipe)(n,p.DZ((t=>e(t.id)?m.some(Object.assign(Object.assign({},t),{alertsCount:i.get(t.id).filter(b.bZ.isRegistered).length})):m.none)))}}(n=e.BaseMutedCategories||(e.BaseMutedCategories={})),function(e){let r,o;!function(e){let t;!function(e){e.CategoriesChanged="CategoriesChanged"}(t=e.Type||(e.Type={})),e.isChangedEvent=function(e){return e.type===t.CategoriesChanged}}(r=e.Events||(e.Events={})),e.create=function(e,o,d,p,T){const O=v.C8.Logging.getLogger("MutedAlertsModel"),_=l.h.create(new Map),P=new w.xQ,L=new S.w.Keeper,N=l.h.create(!1);return L.push(N.pipe(x.w((t=>e.pipe(E.h((()=>!t)),E.h(u.h.is("session_started")),I.U((e=>function(e){const t=e.map((e=>[e.userMuteCategory,{id:e.userMuteCategory,description:e.userMuteCategoryDescription,scope:e.userMuteScope}]));return new Map(t)}(e.userMutedCategories))),k.b(C.wW(_)),k.b((()=>P.next({type:r.Type.CategoriesChanged}))))))).subscribe(),_.pipe(A.G(),I.U((([e,n])=>function(e,n){return{muted:f.uz(t.Id.ord)(e,n),unmuted:f.uz(t.Id.ord)(n,e)}}(e,n))),I.U(function(e){return({muted:t,unmuted:n})=>({toMute:M.k.getAlerts(e,t).all.filter((e=>e.mute!==b.bZ.MuteStateType.Muted)),toUnmute:M.k.getAlerts(e,n).all.filter((e=>e.mute!==b.bZ.MuteStateType.Unmuted))})}(d)),k.b((({toMute:e,toUnmute:t})=>{e.length>0&&p.changeMuteState(e,b.bZ.MuteStateType.Muted),t.length>0&&p.changeMuteState(t,b.bZ.MuteStateType.Unmuted)}))).subscribe()),{events:P,mutedCategories:_,muteCategories:e=>{N.set(!0),(0,s.pipe)(o.sendFeedback({kind:c.Mw.MUTE,userMuteScope:T,userMuteCategories:e}),h.tS((()=>(N.set(!1),h.F2(g.Q1)))),h.Vn((e=>{O.warn("Alerts could not be muted on CAPI",e)})))();const n=M.k.getAlerts(d,e);0===n.all.filter((e=>e.mute!==b.bZ.MuteStateType.Muted)).length&&O.warn("No alerts were muted on category mute",{categoryIds:e});const a=function(e,n,r){return o=>{const a=new Map(o);return e.forEach(((e,o)=>{t.isSpecial(o)?a.set(o,{id:o,scope:n,description:t.specialCategoryDescription}):(0,s.pipe)(i.P5(0,e),m.chain((e=>e.muteCategory)),m.fold((()=>r.error("No alerts to mute",o)),(e=>a.set(o,{id:e.id,description:e.description,scope:n}))))})),a}}(n.byCategory,T,O)(_.get());return _.set(a),P.next({type:r.Type.CategoriesChanged}),y.F2(void 0)},unmuteCategories:e=>{N.set(!0),(0,s.pipe)(o.sendFeedback({kind:c.Mw.UNMUTE,userMuteScope:T,userMuteCategories:e}),h.tS((()=>(N.set(!1),h.F2(g.Q1)))),h.Vn((e=>{O.warn("Alerts could not be un-muted on CAPI",e)})))();return 0===M.k.getAlerts(d,e).all.filter((e=>e.mute!==b.bZ.MuteStateType.Unmuted)).length&&O.warn("No alerts were unmuted on category unmute",{categoryIds:e}),_.modify(function(e,t){return n=>{const r=new Map(n);return e.forEach((e=>{n.has(e)?r.delete(e):t.error("Tried to unmute a category which is not muted",e)})),r}}(e,O)),P.next({type:r.Type.CategoriesChanged}),y.F2(void 0)},getMutedCategories:()=>(0,s.pipe)(_.get(),n.filterWithCount((0,a.ff)(t.isSpecial),d)),getMutedSpecialCategories:()=>(0,s.pipe)(_.get(),n.filter(t.isSpecial)),loadCachedMutedCategories:e=>{_.set(e)},dispose:()=>L.dispose()}},function(e){e.create=function(){return{events:T.E,mutedCategories:l.h.create(new Map),getMutedCategories:()=>new Map,getMutedSpecialCategories:()=>new Map,muteCategories:e=>y.F2(void 0),unmuteCategories:e=>y.F2(void 0),loadCachedMutedCategories:g.Q1,dispose:g.Q1}}}(o=e.Mock||(e.Mock={}))}(r=e.CategoriesModel||(e.CategoriesModel={}))}(r||(r={}))},85654:(e,t,n)=>{n.d(t,{k:()=>r});var r,i=n(40327),o=n(5114),a=n(74660),s=n(4390);!function(e){e.create=e=>({getAlertMuteCategory:t=>(0,i.pipe)(e.getById(t),o.chain((e=>e.muteCategory)))}),e.getAlerts=function(e,t){const n={byCategory:new Map(t.map((e=>[e,[]]))),all:[]};return(0,i.pipe)(e.get(),s.p.reduce(n,((e,{alert:n})=>(0,i.pipe)(n.muteCategory,o.filter((e=>t.includes(e.id))),o.map((e=>e.id)),o.alt((()=>o.fromNullable(t.find(a.bZ.belongsToSpecialCategory(n))))),o.fold((()=>e),(t=>(e.byCategory.get(t).push(n),e.all.push(n),e)))))))}}(r||(r={}))},68579:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(27378),o=n(5739),a=n(12187),s=n(8125),l=n(5114),c=n(34217),u=n(89894),d=n(34442),p=n(95983),m=n(77176);!function(e){let t;function n(e){return c.UI.List.make(p.aW.getFoldableWithIndex(),r(e))}function r(t){return c.UI.Knot.make(e.IdProvider,{cell:c.UI.Knot.make(d.H.Cell,{item:c.UI.Composite.make(e.CardStyleProvider,t)})})}!function(e){e.onMount="onMount"}(t=e.ActionsKind||(e.ActionsKind={})),e.cardListContent=n,e.cardList=function(t){return c.UI.Knot.make(e.ScrollableBox,{content:n(t)})},e.ScrollableBox=c.UI.Grid.make((({notify:e,view:n,slots:r})=>i.createElement(o.F.div,Object.assign({},(0,a.Sh)(n("disableUserActions").pipe(m.U((0,s.RN)(h.disableUserActions,void 0))),h.scrollContent),{"data-purpose":"scrollable-box",style:{height:n("height")},mount:n=>e({kind:t.onMount,element:l.fromNullable(n)})()}),r.content))),e.cell=r,e.CardStyleProvider=c.UI.Grid.make((({slots:e})=>i.createElement("div",{className:h.cardWrapper},e.children))),e.IdProvider=c.UI.Grid.make((({slots:e,state:t})=>i.createElement(o.F.div,{"data-id":t},e.cell)))}(r||(r={}));const f={margin:`${u.ux.rem(.5)} 0`,background:"none",userSelect:"none",$nest:{"&:before":{position:"absolute",left:u.ux.rem(-.5),width:u.ux.rem(.5),height:u.ux.percent(100),background:"none",content:"''"}}},h=u.ux.stylesheet({scrollContent:[{position:"relative",boxSizing:"content-box"}],disableUserActions:[{pointerEvents:"none"}],cardWrapper:[f]})},92569:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(27378),o=n(5739),a=n(8125),s=n(34217),l=n(44060),c=n(89894),u=n(66896),d=n(62295),p=n(31278),m=n(77176),f=n(57091),h=n(85985);!function(e){e.DefaultCounter=s.UI.Node.make((({state:e})=>i.createElement(o.F.Fragment,null,e.pipe(m.U((({count:e,fontSize:t,lensId:n})=>i.createElement(d.x.OutcomeCounter,{count:e,theme:{counterWrapper:I.get(n),counterContent:E.counterContent},type:"gray",fontSize:t}))))))),e.ZeroCounter=s.UI.Node.make((()=>i.createElement(p.JO.CheckmarkOutcomes,{className:E.zeroCounter}))),e.PlagiarismCounter=s.UI.Node.make((({state:e})=>i.createElement(o.F.Fragment,null,e.pipe(m.U((({count:e,fontSize:t})=>i.createElement(d.x.OutcomeCounter,{count:e,theme:{counterWrapper:E.plagiarismCounterWrapper,counterContent:E.plagiarismCounterContent},suffix:"%",type:"gray",fontSize:t}))))))),e.Component=s.UI.Union.make("kind",{plagiarism:e.PlagiarismCounter,default:e.DefaultCounter,zero:e.ZeroCounter});const t=e=>!u.R.isPlagiarismId(e);e.createLensCounterFlow=(e,n,r)=>s.Z.composeUnion({plagiarism:s.Z.fromSideEffect(a.Q1,n.pipe(m.U((e=>({count:e,fontSize:r}))))),default:s.Z.fromSideEffect(a.Q1,n.pipe(f.a(e.pipe(h.h(t))),m.U((([e,t])=>({count:e,lensId:t,fontSize:r}))))),zero:s.Z.fromSideEffect(a.Q1,null)},(()=>e.pipe(f.a(n),m.U((([e,t])=>({kind:0===t?"zero":e===u.R.SpecialId.Plagiarism?"plagiarism":"default"}))))));const n={fill:c.ux.important(l.Il.CoreNeutral0)},r={fill:c.ux.important(l.Il.CoreNeutral50)},g={fill:c.ux.important(l.Il.CoreRed50)},y={fill:c.ux.important(l.Il.CoreBlue50)},v={fill:c.ux.important(l.Il.CoreGreen50)},b={fill:c.ux.important(l.Il.CorePurple50)},w={fill:c.ux.important(l.Il.CoreNeutral50)},S={fill:c.ux.important(l.Il.CoreCyan50)},x={fill:l.Il.CoreGreen50,minHeight:0,minWidth:c.ux.rem(1)},E=c.ux.stylesheet({counterWrapper:[],counterContent:[n],zeroCounter:[x],allAlertsCounter:[r],priorityAlertsCounter:[r],correctnessCounter:[g],clarityCounter:[y],engagementCounter:[v],deliveryCounter:[b],voxCounter:[w],plagiarismCounterWrapper:[S],plagiarismCounterContent:[n,{}]}),I=new Map([[u.R.SpecialId.AllAlerts,E.allAlertsCounter],[u.R.SpecialId.Priority,E.priorityAlertsCounter],[u.R.SpecialId.Correctness,E.correctnessCounter],[u.R.SpecialId.Clarity,E.clarityCounter],[u.R.SpecialId.Engagement,E.engagementCounter],[u.R.SpecialId.Delivery,E.deliveryCounter],[u.R.SpecialId.Vox,E.voxCounter],[u.R.SpecialId.CorrectnessPriority,E.correctnessCounter],[u.R.SpecialId.ClarityPriority,E.clarityCounter],[u.R.SpecialId.EngagementPriority,E.engagementCounter],[u.R.SpecialId.DeliveryPriority,E.deliveryCounter],[u.R.SpecialId.VoxPriority,E.voxCounter]])}(r||(r={}))},40743:(e,t,n)=>{n.d(t,{C:()=>g});var r=n(27378),i=n(40327),o=n(5739),a=n(5114),s=n(34217),l=n(44060),c=n(89894),u=n(40219),d=n(66896),p=n(64757),m=n(3929),f=n(3656),h=n(77176);const g=s.UI.Node.make((({state:e,notify:t})=>r.createElement(o.F.Fragment,null,e.pipe(h.U((({previews:e,disabled:n,activeLensId:s})=>r.createElement(o.F.div,{className:A.lensNavigation},e.map((e=>r.createElement(p.zx.Flat,{name:e.id,key:e.id,className:A.lensButton,active:(0,i.pipe)(s,a.exists((t=>t===e.id))),disabled:n,title:e.description,titleAlign:"bottomCenter",onClick:t({kind:"lensClicked",lens:e})},r.createElement(m.B,{value:e.progress,wrapperClass:A.progressBarWrapper,progressClass:y(e.id)}),r.createElement(f.XY,{className:A.lensButtonText},e.title)))))))))));function y(e){switch(e){case d.R.SpecialId.Correctness:return A.correctnessProgressBar;case d.R.SpecialId.Clarity:return A.clarityProgressBar;case d.R.SpecialId.Engagement:return A.engagementProgressBar;case d.R.SpecialId.Delivery:return A.deliveryProgressBar;case d.R.SpecialId.Vox:return A.voxProgressBar;default:return}}const v={display:"flex",height:c.ux.percent(100),justifyContent:"space-between",alignItems:"center"},b={display:"flex",flexDirection:"column",marginRight:c.ux.rem(.3125),padding:`${c.ux.rem(.375)} ${c.ux.rem(.25)} 0`,borderRadius:c.ux.rem(u.fx),$nest:{"&:last-child":{marginRight:0},"&:hover:not([data-disabled='true'])":{backgroundColor:l.Il.CoreNeutral10},"&[data-active='true']":{backgroundColor:l.Il.CoreNeutral10,color:l.Il.CoreNeutral90}}},w={textTransform:"uppercase",fontSize:c.ux.px(8)},S={width:c.ux.rem(2),backgroundColor:l.Il.CoreNeutral20},x={backgroundColor:l.Il.CoreRed50},E={backgroundColor:l.Il.CoreBlue50},I={backgroundColor:l.Il.CoreGreen50},k={backgroundColor:l.Il.CorePurple50},C={backgroundColor:l.Il.CoreNeutral50},A=c.ux.stylesheet({lensNavigation:[v],lensButton:[b],lensButtonText:[w],progressBarWrapper:[S],correctnessProgressBar:[x],clarityProgressBar:[E],engagementProgressBar:[I],deliveryProgressBar:[k],voxProgressBar:[C]})},52249:(e,t,n)=>{if(n.d(t,{A:()=>d}),3075==n.j)var r=n(22232);var i=n(34217);if(3075==n.j)var o=n(66896);if(3075==n.j)var a=n(74660);if(3075==n.j)var s=n(85985);if(3075==n.j)var l=n(77176);if(3075==n.j)var c=n(28043);if(3075==n.j)var u=n(39474);function d(e,t,n,d){const p=t.pipe(s.h((e=>e!==o.R.SpecialId.Premium)),l.U((e=>e===o.R.SpecialId.Priority?u.H.LensMode.priority:u.H.LensMode.all)),c.x());return i.Z.fromSideEffect((t=>{if(t.kind===u.H.Action.Kind.select)e.events.next({type:"switchToLens",id:t.selected===u.H.LensMode.priority?o.R.SpecialId.Priority:o.R.SpecialId.AllAlerts,focusFirst:!1,actionSource:a.l$.sidebar});else(0,r.vE)(t.kind)}),p.pipe(l.U((e=>({ord:"priority"===n?u.H.Order.priorityFirst:u.H.Order.allFirst,layoutMode:d,lensMode:e})))))}},39474:(e,t,n)=>{n.d(t,{H:()=>A});var r=n(27378),i=n(5739),o=n(12187),a=n(45701),s=n(22232),l=n(34217),c=n(50474),u=n(64757),d=n(31278),p=n(65223),m=n(77176),f=n(44060),h=n(89894),g=n(40219),y=n(3656);const v=h.ux.style({display:"inline-flex",overflow:"visible",border:`2px solid ${f.Il.CoreNeutral10}`,borderRadius:h.ux.rem(g.fx),backgroundColor:f.Il.CoreNeutral10}),b=h.ux.joinClasses([h.ux.style({padding:`0 ${h.ux.rem(.5)} 0 ${h.ux.rem(.5)}`,display:"inline-flex",justifyContent:"space-around",textAlign:"center",$nest:{"&:first-child":{marginRight:h.ux.px(2)}}}),y.oB.base]),w=h.ux.style({fontSize:h.ux.rem(f.xv.SmallSize)}),S=h.ux.style({width:h.ux.rem(2.5)}),x=h.ux.style({width:h.ux.rem(9.5)}),E=h.ux.joinClasses([h.ux.style({width:h.ux.rem(2.25)}),w]),I=h.ux.joinClasses([h.ux.style({width:h.ux.rem(8.75)}),w]),k=h.ux.joinClasses([h.ux.style({borderRadius:h.ux.rem(g.fx),backgroundColor:f.Il.CoreNeutral0,boxShadow:f.uc.Z100,fontWeight:600,$nest:{"&[data-disabled='true']":{backgroundColor:f.Il.CoreNeutral0}}}),b]),C=h.ux.style({display:"inline-flex",width:h.ux.rem(1.25),minWidth:0,minHeight:0,fill:f.Il.CoreNeutral50,stroke:f.Il.CoreNeutral50,$nest:{"&[data-disabled='true']":{fill:f.Il.CoreNeutral50,stroke:f.Il.CoreNeutral50}}});var A;!function(e){let t,n,f;!function(e){e.priority="priority",e.all="all"}(t=e.LensMode||(e.LensMode={})),function(e){let t;!function(e){e.select="select"}(t=e.Kind||(e.Kind={}))}(n=e.Action||(e.Action={})),function(t){t.priorityFirst=a.fromCompare((t=>t===e.LensMode.priority?-1:1)),t.allFirst=a.fromCompare((t=>t===e.LensMode.all?-1:1))}(f=e.Order||(e.Order={})),e.Component=l.UI.Node.make((({state:e,notify:a})=>r.createElement(i.F.div,{key:"feedModeSelector",className:v},e.pipe(m.U((({lensMode:e,layoutMode:i,ord:s})=>[t.all,t.priority].sort(s.compare).map((t=>r.createElement(u.zx,Object.assign({name:`${t}-lens`,key:`${t}-lens`,disabled:e===t,onClick:()=>a({kind:n.Kind.select,selected:t})()},(0,o.Sh)(e===t?k:b,g(t,i))),r.createElement(h,{selected:t}))))))))));const h=({selected:e})=>{const n=r.useContext(c.m.Context).feedModeSelector;switch(e){case t.all:return r.createElement(r.Fragment,null,n.all);case t.priority:return r.createElement(r.Fragment,null,n.priority,r.createElement(p.u,{align:"bottomCenter",title:n.priorityDescription},r.createElement(d.JO.Info,{width:10,className:C})));default:(0,s.vE)(e)}},g=(e,n)=>{switch(e){case t.all:return"compact"===n?E:S;case t.priority:return"compact"===n?I:x;default:(0,s.vE)(e)}}}(A||(A={}))},84317:(e,t,n)=>{n.d(t,{HP:()=>s});var r=n(34217);if(3075==n.j)var i=n(92569);if(3075==n.j)var o=n(66310);if(3075==n.j)var a=n(52249);function s(e,t,n,s,l,c){return r.Z.composeKnot({info:i.A.createLensCounterFlow(t,t.pipe(o.w((e=>l.getLens(e).view("count")))),c),switcher:(0,a.A)(e,t,n,s)})}},43623:(e,t,n)=>{n.d(t,{B:()=>b});var r=n(27378),i=n(5739),o=n(34217),a=n(92569),s=n(64757),l=n(31278),c=n(77176),u=n(39474),d=n(89894),p=n(3656);const m=d.ux.style({display:"inline-flex",verticalAlign:"middle",marginRight:d.ux.rem(.75),alignItems:"center"}),f=d.ux.joinClasses([d.ux.style({fontWeight:"bold"}),p.oB.base]),h=d.ux.style({minHeight:d.ux.rem(1.5)}),g=d.ux.style({$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:"transparent"}}}),y=d.ux.style({display:"flex",justifyContent:"space-between",alignItems:"center"}),v=d.ux.style({marginTop:d.ux.rem(.35)});var b;!function(e){let t,n;e.Grid=o.UI.Grid.make((({slots:e})=>r.createElement(r.Fragment,null,r.createElement("span",{className:m},e.info),e.switcher))),e.GridWithBulkAccept=o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:y},r.createElement("span",{className:v},e.headerContent),e.bulkAccept))),function(e){let t;!function(e){let t;!function(e){e.switchBack="switchBack"}(t=e.Kind||(e.Kind={}))}(t=e.Action||(e.Action={})),e.Component=o.UI.Node.make((({state:e,notify:n})=>r.createElement(i.F.Fragment,null,e.pipe(c.U((({lensTitle:e})=>r.createElement(r.Fragment,null,r.createElement("span",{className:f},e),r.createElement(s.zx.Flat,{name:"switch-back",title:"Back to all suggestions",className:g,onClick:()=>n({kind:t.Kind.switchBack})()},r.createElement(l.JO.Close,{className:h})))))))))}(t=e.LensFilter||(e.LensFilter={})),function(e){e.Component=o.UI.Grid.make((({slots:e})=>r.createElement(r.Fragment,null,r.createElement("span",{className:m},e.counter),e.filter)))}(n||(n={})),e.DefaultHeader=o.UI.Knot.make(e.Grid,{info:a.A.Component,switcher:u.H.Component}),e.LensInfoComponent=o.UI.Knot.make(n.Component,{counter:a.A.Component,filter:t.Component}),e.WithFilterHeader=o.UI.Knot.make(e.Grid,{info:e.LensInfoComponent,switcher:u.H.Component}),e.Component=o.UI.Union.make("kind",{withFilter:e.WithFilterHeader,withoutFilter:e.DefaultHeader})}(b||(b={}))},92644:(e,t,n)=>{if(n.d(t,{i:()=>m}),3075==n.j)var r=n(22232);var i=n(34217);if(3075==n.j)var o=n(66896);if(3075==n.j)var a=n(74660);if(3075==n.j)var s=n(24713);if(3075==n.j)var l=n(28043);if(3075==n.j)var c=n(85985);if(3075==n.j)var u=n(77176);if(3075==n.j)var d=n(57091);if(3075==n.j)var p=n(87667);function m(e,t,n){const m=e.getLens(o.R.SpecialId.AllAlerts).pipe(s.j("count"),l.x()),f=e.getLens(o.R.SpecialId.Priority).pipe(s.j("count"),l.x()),h=n.pipe(c.h((e=>e!==o.R.SpecialId.Premium)),u.U((e=>e===o.R.SpecialId.Priority?"priority":"all")),l.x());return i.Z.fromSideEffect((e=>{switch(e){case p.n.Actions.switchToAll:t.events.next({type:"switchToLens",id:o.R.SpecialId.AllAlerts,focusFirst:!1,actionSource:a.l$.sidebar});break;case p.n.Actions.switchToPriority:t.events.next({type:"switchToLens",id:o.R.SpecialId.Priority,focusFirst:!1,actionSource:a.l$.sidebar});break;case p.n.Actions.openSetGoals:t.events.next({type:"setGoals"});break;default:(0,r.vE)(e)}}),h.pipe(d.a(m,f,((e,t,n)=>({allAlertsCount:t,priorityAlertsCount:n,selectedLens:e})))))}},87667:(e,t,n)=>{n.d(t,{n:()=>r});var r,i=n(27378),o=n(38983),a=n(5739),s=n(34217),l=n(44060),c=n(89894),u=n(40219),d=n(50474),p=n(64757),m=n(18813),f=n(31278),h=n(77176),g=n(2844);!function(e){let t;!function(e){e.switchToPriority="switchToPriority",e.switchToAll="switchToAll",e.openSetGoals="openSetGoals"}(t=e.Actions||(e.Actions={}));e.Switch=s.UI.Node.make((({state:e,notify:n})=>{const r=i.useContext(d.m.Context).priorityLens,s=o.h.create(!1);return i.createElement(m.L,{name:"priorityLensSwitch",appearanceBehavior:"mouseClick",showDelay:0,closeDelay:100,vAlign:"bottom",theme:{dropdownContainer:M.dropdownContainer,dropdownList:M.dropdownContent},onVisibilityChange:e=>s.set(e),activeDescendantId:e.pipe(h.U((e=>e.selectedLens))),label:i.createElement(a.F.Fragment,null,g.aj([e,s]).pipe(h.U((([{selectedLens:e,priorityAlertsCount:t,allAlertsCount:n},o])=>{const a="priority"===e,s=a?t:n;return i.createElement("div",{className:o?M.labelOpened:M.labelClosed},a?r.prioritySuggestion:r.allSuggestion,s>0&&i.createElement("span",{className:M.alertCount}," ","Â· ",s," "),i.createElement(f.JO.Arrow,{direction:o?f.n4.up:f.n4.down,className:M.labelArrow}))}))))},i.createElement(a.F.Fragment,null,e.pipe(h.U((({selectedLens:e,priorityAlertsCount:o,allAlertsCount:a})=>{const s="priority"===e;return i.createElement(i.Fragment,null,i.createElement(p.zx.Flat,{id:"priority",name:"priorityAlerts",className:s?M.boldLensButton:M.lensButton,onClick:n(t.switchToPriority)},i.createElement(f.JO.Star,{width:12}),r.prioritySuggestion,s?i.createElement(f.JO.Yes,{className:M.checkMarkIcon}):null),s&&o===a?i.createElement("div",{className:M.disabledLensButton},i.createElement(f.JO.Formatting.BulletList,{width:21}),r.disabledAllSuggestion):i.createElement(p.zx.Flat,{id:"all",name:"allAlerts",className:s?M.lensButton:M.boldLensButton,onClick:n(t.switchToAll)},i.createElement(f.JO.Formatting.BulletList,{width:21}),r.allSuggestion,s?null:i.createElement(f.JO.Yes,{className:M.checkMarkIcon})),i.createElement("div",{className:M.separator}),i.createElement("div",{className:M.description},i.createElement(f.JO.Info,{className:M.descriptionIcon}),i.createElement("div",null,r.description)))})))))}))}(r||(r={}));const y={display:"flex",width:c.ux.rem(16)},v={zIndex:u.FY,marginTop:0,fontSize:c.ux.rem(.875),lineHeight:c.ux.rem(1.3125)},b={display:"flex",boxSizing:"border-box",padding:`${c.ux.rem(.1875)} ${c.ux.rem(.25)} ${c.ux.rem(.1875)} ${c.ux.rem(.25)}`,height:c.ux.rem(1.5),borderRadius:c.ux.rem(u.fx),color:l.Il.CoreNeutral90,textTransform:"uppercase",letterSpacing:c.ux.rem(.025),fontSize:c.ux.rem(.625),lineHeight:c.ux.rem(1.125),cursor:"pointer",userSelect:"none",$nest:{"&:hover":{backgroundColor:l.Il.CoreNeutral20}}},w={backgroundColor:l.Il.CoreNeutral10},S={color:l.Il.CoreNeutral50,whiteSpace:"pre"},x={minWidth:c.ux.rem(1),minHeight:c.ux.rem(1),marginLeft:c.ux.rem(.5625)},E={padding:`0 ${c.ux.rem(.5)}`,color:l.Il.CoreNeutral90,$nest:{"& i:first-child":{margin:0}}},I={display:"flex",padding:`0 ${c.ux.rem(.5)}`,height:c.ux.rem(2),color:l.Il.CoreNeutral50,alignItems:"center",cursor:"not-allowed"},k={margin:`${c.ux.rem(.5)} ${c.ux.rem(1)}`,width:`calc(100% - ${c.ux.rem(2)})`,height:c.ux.px(1),backgroundColor:l.Il.CoreNeutral20},C={display:"flex",padding:`0 ${c.ux.rem(.5)} ${c.ux.rem(.5)} ${c.ux.rem(.5)}`,fontSize:c.ux.rem(.75),lineHeight:c.ux.rem(1.125),alignItems:"center"},A={marginBottom:"auto",minHeight:c.ux.rem(1.25)},T={color:l.Il.CoreBlue60,cursor:"pointer"},M=c.ux.stylesheet({dropdownContainer:[y],dropdownContent:[v],labelClosed:[b],labelOpened:[b,w],alertCount:[S],labelArrow:[x],lensButton:[E],disabledLensButton:[I],boldLensButton:[E,{fontWeight:"bold"}],checkMarkIcon:[{marginLeft:"auto"}],separator:[k],description:[C],descriptionIcon:[A],descriptionLink:[T]})},56305:(e,t,n)=>{n.d(t,{k:()=>y});var r,i=n(57050),o=n(40327),a=n(38983),s=n(73353),l=n(5114),c=n(83078),u=n(22232),d=n(34217),p=n(81531),m=n(13863),f=n(20817);!function(e){e.unwrap=function(e){return f.Ri.create(l.getOrElse((()=>e)),l.some)}}(r||(r={}));var h,g=n(98403);function y(e,t,n,r,f,g,y,v){const b=(0,o.pipe)(e.defaultContext.get(),l.fold((()=>(p.C8.Logging.getLogger("createSetGoalsFlow").warn("Default context not yet set, using fallback",f),f)),i.yR)),w=h.create(e.context.get(),b,g,v),S=a.h.combine(w.showSetGoalsLoader,w.localContext,((e,t)=>({blocks:w.blocks,context:t,showOnLoad:e,features:g,source:r})));return d.Z.fromSideEffect((r=>{switch(r.kind){case m.R.ActionsKind.open:t.goalsPopupShow(r.source);break;case m.R.ActionsKind.upgrade:t.getPremiumButtonClick(),y();break;case m.R.ActionsKind.close:n.onClose();const i=(()=>c.FX("academic")(r.context.domain)&&g.isStudentsOFE)()&&l.isNone(r.context.outcomeContext)?Object.assign(Object.assign({},r.context),{outcomeContext:l.some(s.R$.OutcomeContext.defaultAcademic)}):r.context;e.updateContext(i)&&t.goalsFormSuccess(i,b);break;case m.R.ActionsKind.reset:w.localContext.set(s.R$.unset);break;case m.R.ActionsKind.showOnLoadChanged:w.showSetGoalsLoader.set(r.value);break;default:(0,u.vE)(r)}}),S)}!function(e){e.create=function(e,t,n,i){const o=r.unwrap(t.style),c=r.unwrap(t.audience),u=r.unwrap(s.R$.OutcomeContext.defaultAcademic),d=r.unwrap(t.domain),p=a.h.create(e),m=p.lens("style").lens(o),f=p.lens("domain").lens(d),h=p.lens("outcomeContext").lens(u).lens("type"),y=p.lens("outcomeContext").lens(u).lens("citation"),v=n.isStudentsOFE?f.view((e=>"academic"!==e)):a.h.create(!0),b=g.U_(v),w={audience:{items:s.R$.audiences,current:p.lens("audience").lens(c),default:l.some(t.audience),isVisible:v},formality:{items:s.R$.formalityLevels,current:m,default:l.some(t.style),isVisible:v,shouldDisable:e=>f.view((t=>!s.R$.isStyleValidWithDomain(t,e)))},domain:{items:s.R$.domains,current:f,default:l.some(t.domain),isVisible:a.h.create(!0),shouldDisable:e=>m.view((t=>n.isFree?"general"!==e:!s.R$.isStyleValidWithDomain(e,t)))},intent:{items:s.R$.goals.filter((e=>"sell"!==e)),isVisible:v,current:p.lens("goals")},type:{items:s.R$.academicTypes,default:l.some("essay"),isVisible:b,current:h},format:{items:s.R$.citation,default:l.some("apa"),isVisible:b,current:y}};return{localContext:p,blocks:w,showSetGoalsLoader:a.h.create(!n.demoMode&&i)}}}(h||(h={}))},13863:(e,t,n)=>{n.d(t,{R:()=>me});var r=n(27378),i=n(34217),o=n(13351),a=n(40327),s=n(5739),l=n(38983),c=n(12187),u=n(5114),d=n(8125),p=n(33678),m=n(50474),f=n(64757),h=n(14330),g=n(1509),y=n(44060),v=n(89894),b=n(24588),w=n(40219),S=n(31278);const x=({upgradeAction:e,size:t,title:n,className:i})=>{const o=r.useContext(m.m.Context).goPremium,a=Boolean(n)?n:o;return r.createElement(f.zx,Object.assign({name:"upgrade"},(0,c.Sh)(i,"big"===t?D.baseBig:"link"===t?D.link:D.baseSmall),{onClick:e}),"link"===t?r.createElement(S.JO.PaidLink,{width:14,className:D.linkIcon}):r.createElement(S.JO.Paid,{className:"big"===t?D.bigIcon:D.icon}),a)},E={background:y.Il.CoreGreen60,borderRadius:v.ux.rem(w.fx),boxShadow:`0 2px 5px ${v.ux.color(b.UE).fade(.35).toRGBA().toString()}`,color:y.Il.CoreNeutral0,textTransform:"uppercase",letterSpacing:v.ux.rem(w.rX),fontWeight:"bold",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:v.ux.color(y.Il.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:v.ux.color(y.Il.CoreGreen60).tint(.2).toRGBA().toString()}}},I={padding:`0 ${v.ux.rem(3)} 0 ${v.ux.rem(2)}`,fontSize:v.ux.rem(.8125),lineHeight:v.ux.rem(3)},k={padding:`0 ${v.ux.rem(2)} 0 ${v.ux.rem(.5)}`,fontSize:v.ux.rem(.6875),lineHeight:v.ux.rem(2)},C={background:y.Il.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:v.ux.color(y.Il.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:v.ux.color(y.Il.CoreGreen60).tint(.2).toRGBA().toString()}}},A={padding:`0 ${v.ux.rem(3)} 0 ${v.ux.rem(2)}`,fontSize:v.ux.rem(.8125),lineHeight:v.ux.rem(3)},T={padding:`0 ${v.ux.rem(2)} 0 ${v.ux.rem(.5)}`,fontSize:v.ux.rem(.6875),lineHeight:v.ux.rem(2)},M={fill:y.Il.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:y.Il.CoreNeutral0}}},O={marginRight:v.ux.rem(.2)},_={color:y.Il.CoreGreen60,fontSize:v.ux.rem(.75),transition:"transform .2s ease-out",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{transform:"scale(1.05)"},"&:not([data-disabled='true']):active":{transition:"none",transform:"scale(1)"}}},P={color:y.Il.CoreGreen60},L={fill:y.Il.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:y.Il.CoreGreen60}}},N={fill:y.Il.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:y.Il.CoreGreen60}}},D=v.ux.stylesheet({base:[E],baseBig:[E,I],baseSmall:[E,k],baseUpHookRedesign:[E,C],baseBigUpHookRedesign:[I,C,A],baseSmallUpHookRedesign:[k,C,T],icon:[M],bigIcon:[M,O],link:[_],linkUpHookRedesign:[_,P],linkIconUpHookRedesign:[L],linkIcon:[N]});var R=n(98403),j=n(90845),F=n(77176),U=n(2844),z=n(2834),B=n(59312),G=n(57050),W=n(19962);const H=.8125,K={display:"flex",flexDirection:"column",maxHeight:"90vh",width:v.ux.rem(41.5),backgroundColor:y.Il.CoreNeutral0,textAlign:"left"},$={padding:`${v.ux.rem(1.125)} ${v.ux.rem(2)} ${v.ux.rem(1)}`,paddingBottom:v.ux.rem(1)},V={paddingBottom:0,backgroundColor:y.Il.CoreNeutral0,flexShrink:0,$nest:{"&:after":{position:"absolute",bottom:0,display:"block",width:`calc(100% - ${v.ux.rem(4)})`,height:v.ux.px(1),background:y.Il.CoreNeutral20,content:"''"}}},Y={display:"block",margin:`${v.ux.rem(H)} 0`,color:y.Il.CoreNeutral90,fontWeight:y.xv.SmallLightWeight,lineHeight:v.ux.rem(1.5)},Q={minHeight:v.ux.rem(4)},Z={display:"flex",$nest:{"&:not(:last-child)":{marginBottom:v.ux.rem(1.25),borderBottom:`1px solid ${y.Il.CoreNeutral20}`}}},q={marginBottom:v.ux.rem(-.5),maxWidth:v.ux.rem(27),justifyContent:"initial",flexWrap:"wrap",$nest:{"& > .setGoalsToneButton":{margin:`0 0 ${v.ux.rem(.5)}`,marginLeft:v.ux.important(0),$nest:{"&:not(:last-child)":{marginRight:v.ux.rem(.5)}}}}},J={width:v.ux.rem(7),textTransform:"capitalize",lineHeight:v.ux.rem(2)},X={marginTop:v.ux.rem(H)},ee={margin:`0 0 ${v.ux.rem(1.5)} ${v.ux.rem(7)}`},te={margin:`0 0 ${v.ux.rem(1.5)} ${v.ux.rem(7)}`},ne={position:"absolute",top:v.ux.rem(2.5)},re={display:"flex",width:v.ux.percent(100),justifyContent:"space-between"},ie={color:y.Il.CoreNeutral90,fontWeight:300,fontSize:v.ux.rem(.8125)},oe=v.ux.stylesheet({wrapper:[K],modalBody:[$],modalHeader:[V],itemDescription:[Y],modalFooter:[Q],row:[Z],toneButtons:[q],rowHeader:[J],extraContent:[X],title:[ee],description:[te],image:[ne],footerWrapper:[re],checkboxText:[ie]}),ae=({name:e,items:t,sticky:n,theme:i={},extraContent:o,children:a,isVisible:l})=>r.createElement(s.F.Fragment,null,l.view((s=>s?r.createElement("div",{className:oe.row},r.createElement("div",null,r.createElement(g.Z,{nodeType:"h3",styleType:g.Z.Type.H4,className:oe.rowHeader},e),o),r.createElement("div",null,r.createElement(f.zx.Group,{sticky:n,className:i.buttonsGroup},t.map((t=>{var{description:n}=t,o=(0,B._T)(t,["description"]);const a=W.g4(o.key);return r.createElement(r.Fragment,{key:o.key},r.createElement(f.zx.White,Object.assign({className:i.button,name:`context-${e}-${o.key}`,"aria-describedby":a},o)),r.createElement("span",{hidden:!0,id:a},e,": ",n))}))),r.createElement(g.Z.Small,{className:oe.itemDescription},a))):null))),se=({items:e,current:t,isVisible:n,shouldDisable:r,itemDescription:i,itemTitle:o=G.yR})=>({sticky:!0,isVisible:n,items:e.map((e=>({key:e,active:t.view((t=>t===e)),onClick:()=>t.set(e),disabled:r&&r(e),children:o(e),description:i(e)})))}),le=({blocks:e,features:t,showOnLoad:n,close:i,upgrade:a,reset:s,showOnLoadChanged:l})=>{const c=r.useContext(p.a.Context),u=R.Dx(t),d=R.Dx(e),m=R.Dx(n),f=R.Dx(i);return r.createElement(o.u_,{className:oe.wrapper,focusTrapMode:"dynamic",initialFocus:j.P.FocusTrap.InitialFocus.none},r.createElement(o.u_.Header,{className:oe.modalHeader},r.createElement(ue,null)),r.createElement(o.u_.Body,{name:"goalsBody",className:oe.modalBody},r.createElement(ce,{features:u,upgradeAction:a,blocks:d})),r.createElement(o.u_.Footer,{className:oe.modalFooter},r.createElement(de,{supportsSetGoalsLoader:u.pipe(F.U((e=>!e.demoMode&&c.has(p.a.Flag.supportsSetGoalsLoader)))),onDone:f,reset:s,showOnLoad:m,showOnLoadChanged:l})))},ce=({blocks:e,features:t,upgradeAction:n})=>{const i=r.useContext(m.m.Context).goals;return r.createElement(s.F.Fragment,null,U.aj(e,t).pipe(F.U((([{audience:e,formality:t,domain:o,intent:l,type:c,format:d},p])=>{const m=r.createElement(ae,Object.assign({name:"domain"},se(Object.assign(Object.assign({},o),{itemTitle:e=>"mail"===e?"email":e,itemDescription:e=>i.sections.domain[e]})),{extraContent:r.createElement(s.F.div,{className:oe.extraContent},p.isFree?r.createElement(x,{size:"link",upgradeAction:n}):null)}),o.current.view((e=>p.isFree?i.sections.domain.free:Boolean(e)?i.sections.domain[e]:""))),f=r.createElement(ae,Object.assign({name:"intent"},(({items:e,isVisible:t,current:n},r,i)=>({isVisible:t,items:e.map((e=>({key:e,active:n.view((t=>(0,a.pipe)(t,u.exists((t=>t.has(e)))))),description:i(e),onClick:()=>n.modify((t=>{const n=(0,a.pipe)(t,u.fold((()=>new Set),(e=>new Set(e))));return n.has(e)?n.delete(e):n.add(e),u.some(n)})),children:r(e)})))}))(l,(e=>i.sections.intent.options[e]),(e=>i.sections.intent.options[e]))),i.sections.intent.experimental),h=r.createElement(ae,Object.assign({name:"audience"},se(Object.assign(Object.assign({},e),{itemDescription:t=>i.sections.audience[t]((0,a.pipe)(e.default,u.exists((e=>e===t))))}))),e.current.view((t=>Boolean(t)&&i.sections.audience[t]((0,a.pipe)(e.default,u.exists((e=>e===t))))))),g=r.createElement(ae,Object.assign({name:"formality"},se(Object.assign(Object.assign({},t),{itemDescription:e=>i.sections.formality[e]}))),t.current.view((e=>Boolean(e)?i.sections.formality[e]:""))),y=r.createElement(ae,Object.assign({name:"type"},se(Object.assign(Object.assign({},c),{itemDescription:e=>i.sections.type.options[e]}))),c.current.view((e=>Boolean(e)?i.sections.type.options[e]:""))),v=r.createElement(ae,Object.assign({name:"format"},se(Object.assign(Object.assign({},d),{itemTitle:i.sections.format.formatTitle,itemDescription:e=>i.sections.format.options[e]}))),d.current.view((e=>Boolean(e)?i.sections.format.options[e]:"")));return p.isStudentsOFE?r.createElement(r.Fragment,null,m,f,h,g,y,v):r.createElement(r.Fragment,null,h,g,m,f)}))))},ue=()=>{const e=r.useContext(m.m.Context).goals,t=r.useContext(o.u_.TitleIdContext);return r.createElement(r.Fragment,null,r.createElement(g.Z,{nodeType:"h2",styleType:g.Z.Type.H1,id:t,className:oe.title},e.title),r.createElement(pe,null),r.createElement(o.u_.SpokenDescription,null,r.createElement(g.Z.Base,{className:oe.description},e.header)))},de=({supportsSetGoalsLoader:e,showOnLoad:t,showOnLoadChanged:n,reset:i,onDone:o})=>{const a=r.useContext(m.m.Context),u=l.h.create(!1);return j.P.useSubscriptionTo(t.pipe(z.b(R.wW(u)))),j.P.useSubscriptionTo(u.pipe(z.b(n))),r.createElement(s.F.div,Object.assign({},(0,c.Sh)(e.pipe(F.U((0,d.RN)(oe.footerWrapper,null))))),e.pipe(F.U((0,d.RN)(r.createElement(h.Ys,{checked:u,name:"set-goals"},r.createElement(g.Z.Small,{className:oe.checkboxText},a.goals.footer.showModalOnStart)),null))),r.createElement(f.zx.Group,null,r.createElement(f.zx.Ghost,{name:"reset",onClick:i},a.goals.footer.reset),o.pipe(F.U((e=>r.createElement(f.zx.Primary,{name:"closeSetContext",onClick:e},a.done))))))},pe=()=>r.createElement("svg",{"aria-hidden":!0,className:oe.image,width:"69",height:"80",viewBox:"0 0 69 80"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:"#4C7AF1"}),r.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13a5.564 5.564 0 1 0 0-11.128 5.565 5.565 0 0 0 .001 11.129z",fill:"#BCDBFB"}),r.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),r.createElement("path",{stroke:"#4C7AF1",strokeLinecap:"round",strokeWidth:"1.5",d:"M15.024 68.016L9.46 78.5m32.274-10.484L47.298 78.5"}),r.createElement("path",{d:"M61.96 13.367a.65.65 0 0 1 .645.656.65.65 0 0 1-.646.655h-6.075L29.35 41.7a.636.636 0 0 1-.913 0 .663.663 0 0 1 0-.927L54.972 13.75V7.59a.65.65 0 0 1 .645-.656.65.65 0 0 1 .646.656v5.777h5.696zm3.17-3.215a.65.65 0 0 1 .646.655.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V4.372a.65.65 0 0 1 .646-.655.65.65 0 0 1 .644.655v5.78h5.696zm3.17-3.218a.65.65 0 0 1 .647.656.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V1.155A.65.65 0 0 1 61.96.5a.65.65 0 0 1 .645.655v5.78H68.3z",fill:"#4C7AF1"}),r.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:"#FFF",strokeWidth:"1.3"})));var me,fe=n(50628);!function(e){let t;e.Modal=i.UI.Node.make((({state:e,view:n,notify:i})=>{j.P.useSubscriptionTo(n("source").pipe(fe.P(),z.b((e=>i({kind:t.open,source:e})()))));const a=e.pipe(F.U((e=>i({kind:t.close,source:e.source,context:e.context,showOnLoad:e.showOnLoad}))));return r.createElement(o.ay,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:a},r.createElement(le,{blocks:n("blocks"),features:n("features"),close:a,upgrade:i({kind:t.upgrade}),reset:i({kind:t.reset}),showOnLoad:n("showOnLoad"),showOnLoadChanged:e=>i({kind:t.showOnLoadChanged,value:e})()}))})),function(e){e.open="open",e.close="close",e.upgrade="upgrade",e.reset="reset",e.showOnLoadChanged="showOnLoadChanged"}(t=e.ActionsKind||(e.ActionsKind={}))}(me||(me={}))},87195:(e,t,n)=>{n.d(t,{q:()=>_e});var r,i=n(27378),o=n(5739),a=n(22232),s=n(34217),l=n(50474),c=n(12768),u=n(64757),d=n(13351),p=function(){return i.createElement("svg",{"aria-hidden":!0,width:"128",height:"177"},i.createElement("defs",null,i.createElement("rect",{id:"a",y:"14",width:"128",height:"128",rx:"64"})),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("ellipse",{fill:"#F1F2FA",cx:"64",cy:"173",rx:"48",ry:"4"}),i.createElement("path",{d:"M27 0h62a5 5 0 0 1 5 5v91a5 5 0 0 1-5 5H24a5 5 0 0 1-5-5V8a8 8 0 0 1 8-8z",fill:"#F1F2FA"}),i.createElement("mask",{id:"b",fill:"#fff"},i.createElement("use",{xlinkHref:"#a"})),i.createElement("use",{fill:"#A2BCFF",xlinkHref:"#a"}),i.createElement("path",{d:"M116.708 48.783a4.144 4.144 0 0 1 5.672-1.465 4.138 4.138 0 0 1 1.466 5.667l-17.955 30.462a4.141 4.141 0 0 1-3.57 2.039 4.145 4.145 0 0 1-2.879-1.164l-12.527-12.1a4.138 4.138 0 0 1-.099-5.855 4.144 4.144 0 0 1 5.858-.099l8.747 8.45 15.287-25.935zm-63.446 45.53h58.877a4.141 4.141 0 0 1 4.142 4.139 4.141 4.141 0 0 1-4.142 4.14H53.262a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zM8.793 17.33h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm0 17.526h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm4.99 68.985a4.74 4.74 0 0 1-4.686 4.794 4.74 4.74 0 0 1-.111-9.477 4.74 4.74 0 0 1 4.798 4.683zm16.757 16.106a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14c0 9.416-7.665 17.076-17.087 17.076S4.65 129.363 4.65 119.947a4.141 4.141 0 0 1 4.143-4.14 4.141 4.141 0 0 1 4.143 4.14c0 4.85 3.948 8.796 8.802 8.796 4.853 0 8.802-3.946 8.802-8.796zM8.793 76.46c-1.06 0-2.12-.405-2.93-1.213a4.138 4.138 0 0 1 0-5.855l4.274-4.27-4.273-4.27a4.138 4.138 0 0 1 0-5.855 4.145 4.145 0 0 1 5.859 0l4.273 4.27 4.273-4.27a4.144 4.144 0 0 1 5.858 0 4.138 4.138 0 0 1 0 5.855l-4.273 4.27 4.274 4.27a4.138 4.138 0 0 1-2.93 7.068c-1.06 0-2.12-.405-2.929-1.213l-4.273-4.27-4.273 4.27a4.133 4.133 0 0 1-2.93 1.213zm87.342 44.285l13.678 9.075a4.138 4.138 0 0 1 1.16 5.739 4.144 4.144 0 0 1-5.743 1.159l-11.387-7.555-11.386 7.555a4.143 4.143 0 0 1-4.378.128l-12.844-7.478-11.078 7.35c-.705.468-1.5.691-2.288.691a4.14 4.14 0 0 1-2.295-7.589l13.227-8.776a4.144 4.144 0 0 1 4.377-.128l12.844 7.478 11.53-7.65a4.145 4.145 0 0 1 4.583 0zM31.23 86.814a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14v19.402a4.141 4.141 0 0 1-4.143 4.14 4.141 4.141 0 0 1-4.142-4.14V86.814z",fill:"#BDCFFF",mask:"url(#b)"}),i.createElement("path",{d:"M36 12h65a5 5 0 0 1 5 5v88a8 8 0 0 1-8 8H36a5 5 0 0 1-5-5V17a5 5 0 0 1 5-5z",fill:"#7CA1FF",mask:"url(#b)"}),i.createElement("rect",{fill:"#FFF",x:"25",y:"6",width:"75",height:"101",rx:"5"}),i.createElement("path",{d:"M38 21h49a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm0 13h32a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z",fill:"#F1F2FA"})))},m=n(8965),f=n(1509),h=n(90845),g=n(77176),y=n(12187),v=n(76024);!function(e){function t(e,t){var n=t/60,r=v.nH(e/n);return r.s=r.h>0&&r.m>10?0:Math.floor(r.s),r}e.calculateReadingTime=function(e){return t(e,250)},e.calculateSpeakingTime=function(e){return t(e,130)},e.generateStats=function(t,n){var r={words:t,chars:n,sentences:Math.floor(t/5),readingTime:{},speakingTime:{},uniqueWords:40*Math.random(),uniqueWordsIndex:100*Math.random(),rareWords:20*Math.random(),rareWordsIndex:100*Math.random(),wordLength:5.4,wordLengthIndex:100*Math.random(),sentenceLength:16.7,sentenceLengthIndex:100*Math.random(),readabilityScore:73,readabilityDescription:"Your text is likely to be understood by a reader who has at least 7th grade education (age 12)"};return r.readingTime=e.calculateReadingTime(r.words),r.speakingTime=e.calculateSpeakingTime(r.words),r}}(r||(r={}));var b=n(5114),w=n(18208),S=n(44060),x=n(89894),E=n(24588),I=n(40219),k=n(31278),C=n(40327),A=n(38983),T=n(2844),M=n(66310),O=n(93508),_=n(16118),P=n(76974),L=n(13444);const N=e=>{const{score:t,documentIsEmpty:n,sidebarOpen:r=A.h.create(!0),successIcon:a,progressIcon:s,zeroIcon:l=null}=e,c=t.pipe(g.U(b.map((e=>e.rank)))),u=T.aj(t,n,((e,t)=>(0,C.pipe)(e,b.fold((()=>!1),(({rank:e})=>100===e&&!t))))),d=r.pipe(M.w((e=>e?c.pipe(O.O(b.none),_.G(),M.w((([e,t])=>(0,C.pipe)(t,b.fold((()=>P.of(l)),(t=>u.pipe(O.O(!1),_.G(),M.w((([n,r])=>r?P.of(a):(0,C.pipe)(e,b.filter((()=>!n)),b.fold((()=>P.of(s(t)).pipe(L.g(1),O.O(s(0)))),(()=>P.of(s(t)))))))))))))):P.of(null))),O.O(null));return i.createElement(o.F.Fragment,null,d)};var D=n(3656),R=n(98403);function j({value:e,className:t,leftCustomClass:n,rightCustomClass:r}){const a=A.h.create(!1);requestAnimationFrame((()=>requestAnimationFrame((()=>a.set(!0)))));const s=T.aj(R.Dx(e),a,((e,t)=>t?`${Math.max(5,Math.abs(e-50))}%`:0)),l=(e,t,n)=>R.Dx(e).pipe(g.U((e=>e<50?t:n)));return i.createElement(o.F.div,Object.assign({},(0,y.Sh)((e=>R.Dx(e).pipe(g.U((e=>e<50?G.leftSideWrapper:G.rightSideWrapper))))(e),t)),i.createElement(o.F.div,Object.assign({},(0,y.Sh)(l(e,G.leftSideProgress,G.rightSideProgress),Boolean(n)&&Boolean(r)&&l(e,n,r)),{style:{width:s}})))}!function(e){e.Label=({value:e,className:t})=>{const n=i.useContext(l.m.Context).performance,r=e>66?n.aboveAverage:e>50?n.average:n.belowAverage;return i.createElement(D.x4,{className:t},r)}}(j||(j={}));const F={position:"relative",zIndex:1,display:"flex",width:x.ux.percent(100),height:x.ux.rem(.25),borderRadius:x.ux.rem(I.fx)},U={height:x.ux.percent(100),backgroundColor:E.FW,transition:"width .8s ease-in-out 0s"},z={marginRight:x.ux.percent(50),borderTopLeftRadius:x.ux.rem(.25),borderBottomLeftRadius:x.ux.rem(.25)},B={marginLeft:x.ux.percent(50),borderTopRightRadius:x.ux.rem(.25),borderBottomRightRadius:x.ux.rem(.25)},G=x.ux.stylesheet({wrapper:[F],leftSideWrapper:[F,{justifyContent:"flex-end"}],rightSideWrapper:[F,{justifyContent:"flex-start"}],progress:[U],leftSideProgress:[U,z],rightSideProgress:[U,B]});var W=n(76457);const H={display:"flex",flexDirection:"column",maxHeight:"90vh",width:x.ux.rem(32),height:x.ux.rem(41),background:S.Il.CoreNeutral0},K={padding:`${x.ux.rem(2.75)} ${x.ux.rem(1)} 0 ${x.ux.rem(2)}`,minHeight:x.ux.rem(5.1),height:x.ux.rem(5.1),backgroundColor:S.Il.CoreNeutral0},$={marginRight:x.ux.rem(1),paddingBottom:x.ux.rem(.3),borderBottom:`1px solid ${E.xO}`},V={padding:`0 ${x.ux.rem(1)} ${x.ux.rem(1)} ${x.ux.rem(2)}`},Y={padding:`0 ${x.ux.rem(1.9)}`,minHeight:x.ux.rem(4),height:x.ux.rem(4)},Q={position:"absolute",top:x.ux.rem(-5.15),right:0,bottom:0,left:0,margin:"auto"},Z={display:"flex",flexDirection:"column",marginTop:x.ux.rem(7.15),marginBottom:x.ux.rem(2),paddingRight:x.ux.rem(1),alignItems:"center"},q={wordSpacing:x.ux.rem(.05),fontSize:x.ux.rem(.875),lineHeight:x.ux.rem(1.5)},J={padding:`${x.ux.rem(1.3)} ${x.ux.rem(2.6)}`,textAlign:"center"},X=x.ux.prefixedStylesheet("statistics",{wrapper:[H],modalHeader:[K],modalHeaderUnderline:[$],modalReady:[{transition:"opacity .2s"}],modalEmpty:[{opacity:0}],modalBody:[V],modalFooter:[Y],loader:[Q],zeroStateContainer:[Z],performanceText:[q],zeroStateText:[q,J]});var ee;!function(e){e.number="number",e.time="time",e.percentage="percentage"}(ee||(ee={}));const te=e=>{switch(e){case ee.number:case ee.percentage:return Me.numberRowData;case ee.time:return Me.timeRowData;default:return(0,a.vE)(e)}},ne=({type:e,value:t,info:n,children:r,dataName:o})=>i.createElement("div",{className:Me.row,"data-name":o},i.createElement("div",{className:te(e)},i.createElement("div",{className:Me.metricTitle},r),i.createElement("div",{className:Me.metric},((e,t)=>{switch(e){case ee.number:return(Math.round(10*t)/10).toLocaleString();case ee.time:return v.g2(t);case ee.percentage:return Math.round(t)+"%";default:return(0,a.vE)(e)}})(e,t))),Boolean(n)?i.createElement(u.RZ,{title:n}):null),re=({state:e})=>{const t=i.useContext(l.m.Context).performance,{stats:n,score:o,documentIsEmpty:a}=e;return i.createElement(i.Fragment,null,i.createElement("section",{className:Me.titleSection},i.createElement("div",{className:Me.titleColumns},i.createElement(d.u_.SpokenDescription,Object.assign({},(0,y.Sh)(X.performanceText,Me.headerDescription)),100===o.rank?t.score100:t.scoreUnder100(o.rank)),i.createElement(N,{score:P.of(b.some(o)),documentIsEmpty:P.of(a),successIcon:i.createElement(k.JO.CheckmarkAnimated,{key:"modal-checkmark",width:50,className:Me.checkmark}),progressIcon:e=>i.createElement(W.P,{key:"modal-performance-progress",colorType:W.P.ColorType.royalBlue,fontSize:W.P.FontSize.small,percentage:e,theme:Oe})}))),i.createElement("section",{className:Me.wordCountSection},i.createElement(f.Z.H3,{className:Me.sectionHeaderUnderline},t.wordCount),i.createElement("div",{className:Me.wordCountColumns},i.createElement("div",{className:Me.firstColumn},i.createElement(ne,{type:ee.number,value:Math.max(n.chars-1,0)},t.characters),i.createElement(ne,{type:ee.number,value:n.words},t.words),i.createElement(ne,{type:ee.number,value:n.sentences},w._6(n.sentences,t.sentence,t.sentences))),i.createElement("div",{className:Me.secondColumn},i.createElement(ne,{type:ee.time,value:r.calculateReadingTime(n.words)},t.readingTime),i.createElement(ne,{type:ee.time,value:r.calculateSpeakingTime(n.words)},t.speakingTime)))),i.createElement("section",{className:Me.readabilitySection},i.createElement("div",{className:Me.sectionHeaderWrapper},i.createElement(f.Z.H3,null,t.readability),i.createElement(f.Z.SmallLight,null,t.sectionTitleDescription)),i.createElement("div",{className:Me.readabilityColumns},i.createElement("div",{className:Me.firstColumn},i.createElement(ne,{type:ee.number,value:n.wordLength},t.wordLengthTitle)),i.createElement("div",{className:Me.secondColumn},i.createElement("div",{className:Me.row},i.createElement(j,{value:n.wordLengthIndex,className:Me.progressBar,leftCustomClass:Me.leftProgress,rightCustomClass:Me.rightProgress}),i.createElement(j.Label,{value:n.wordLengthIndex,className:Me.progressLabel})),i.createElement("div",{className:Me.verticalPillar}))),i.createElement("div",{className:Me.readabilityColumns},i.createElement("div",{className:Me.firstColumn},i.createElement(ne,{type:ee.number,value:n.sentenceLength},t.sentenceLengthTitle)),i.createElement("div",{className:Me.secondColumn},i.createElement("div",{className:Me.row},i.createElement(j,{value:n.sentenceLengthIndex,className:Me.progressBar,leftCustomClass:Me.leftProgress,rightCustomClass:Me.rightProgress}),i.createElement(j.Label,{value:n.sentenceLengthIndex,className:Me.progressLabel})),i.createElement("div",{className:Me.verticalPillarShort}))),i.createElement("div",{className:Me.readabilityColumns},i.createElement("div",{className:Me.firstColumn},i.createElement(ne,{type:ee.number,value:n.readabilityScore,info:t.readabilityDescription,dataName:"readability"},t.readabilityScore))),i.createElement(f.Z.SmallLight,{className:Me.readabilityDescr},n.readabilityDescription)),i.createElement("section",null,i.createElement("div",{className:Me.sectionHeaderWrapper},i.createElement(f.Z.H3,null,t.vocabulary),i.createElement(f.Z.SmallLight,null,t.sectionTitleDescription)),i.createElement("div",{className:Me.vocabularyColumns},i.createElement("div",{className:Me.firstColumn},i.createElement(ne,{type:ee.percentage,value:n.uniqueWords,info:t.uniqueWords},t.uniqueWordsTitle)),i.createElement("div",{className:Me.secondColumn},i.createElement("div",{className:Me.row},i.createElement(j,{value:n.uniqueWords,className:Me.progressBar,leftCustomClass:Me.leftProgress,rightCustomClass:Me.rightProgress}),i.createElement(j.Label,{value:n.uniqueWords,className:Me.progressLabel})),i.createElement("div",{className:Me.verticalPillar}))),i.createElement("div",{className:Me.vocabularyColumns},i.createElement("div",{className:Me.firstColumn},i.createElement(ne,{type:ee.percentage,value:n.rareWords,info:t.rareWords},t.rareWordsTitle)),i.createElement("div",{className:Me.secondColumn},i.createElement("div",{className:Me.row},i.createElement(j,{value:n.rareWords,className:Me.progressBar,leftCustomClass:Me.leftProgress,rightCustomClass:Me.rightProgress}),i.createElement(j.Label,{value:n.rareWords,className:Me.progressLabel})),i.createElement("div",{className:Me.verticalPillarShort})))))},ie={marginBottom:x.ux.rem(2.4)},oe={display:"flex",marginTop:x.ux.rem(.9),marginRight:x.ux.rem(1),justifyContent:"space-between"},ae={marginBottom:x.ux.rem(1.5)},se={display:"flex",marginTop:x.ux.rem(.8)},le={marginBottom:x.ux.rem(2.4)},ce={display:"flex",$nest:{"&:first":{marginTop:x.ux.rem(.8)}}},ue={display:"flex",$nest:{"&:first":{marginTop:x.ux.rem(.8)}}},de={flexBasis:x.ux.percent(50)},pe={position:"relative",paddingLeft:x.ux.rem(.5),flexBasis:x.ux.percent(50)},me={display:"flex",height:x.ux.rem(2),alignItems:"center"},fe={display:"flex",justifyContent:"space-between"},he={width:x.ux.rem(10),fontFeatureSettings:`${I.Q9}, ${I.g_}`},ge={width:x.ux.rem(13)},ye={marginRight:x.ux.rem(1),paddingBottom:x.ux.rem(.5),borderBottom:`1px solid ${E.xO}`},ve={width:x.ux.percent(80),whiteSpace:"pre-line"},be={display:"inline-block",color:S.Il.CoreBlue50,textAlign:"right",fontWeight:"bold",fontSize:x.ux.rem(.875),lineHeight:x.ux.rem(2)},we={display:"inline-block",color:S.Il.CoreNeutral90,fontSize:x.ux.rem(.875),lineHeight:x.ux.rem(2)},Se={width:x.ux.rem(3.2),height:x.ux.rem(3.2),fontWeight:"bold"},xe={width:x.ux.rem(6),backgroundColor:E.xO},Ee={marginLeft:x.ux.rem(1.125)},Ie={backgroundImage:E.BZ},ke={backgroundImage:E.Xd},Ce={display:"block",paddingTop:x.ux.rem(.5)},Ae={position:"absolute",top:x.ux.rem(.5),left:x.ux.rem(3.5),width:x.ux.rem(.0625),height:x.ux.rem(3),backgroundColor:E.jj},Te={height:x.ux.rem(1)},Me=x.ux.stylesheet({titleSection:[ie],titleColumns:[oe],wordCountSection:[ae],wordCountColumns:[se],readabilitySection:[le],readabilityColumns:[ce],vocabularyColumns:[ue],firstColumn:[de],secondColumn:[pe],row:[me],rowData:[fe],numberRowData:[fe,he],timeRowData:[fe,ge],sectionHeaderUnderline:[ye],sectionHeaderWrapper:[ye,{display:"flex",alignItems:"baseline",justifyContent:"space-between"}],headerDescription:[ve],metric:[be],metricTitle:[we],checkmark:[{alignItems:"center"}],circleProgressBar:[Se],progressBar:[xe],progressLabel:[Ee],leftProgress:[Ie],rightProgress:[ke],readabilityDescr:[Ce],verticalPillar:[Ae],verticalPillarShort:[Ae,Te]}),Oe={radialProgressBar:Me.circleProgressBar};var _e;!function(e){let t;e.ModalView=s.UI.Grid.make((({slots:n,state:r,notify:o})=>{const a=o({kind:t.close});return i.createElement(d.ay,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:a},i.createElement(e.ModalContent,{state:r,downloadButton:n.downloadButton,onClose:a}))})),function(e){e.close="close"}(t=e.ActionsKind||(e.ActionsKind={})),e.ModalContent=({state:t,downloadButton:n,onClose:r})=>i.createElement(d.u_,{className:X.wrapper,focusTrapMode:"dynamic",initialFocus:h.P.FocusTrap.InitialFocus.none},i.createElement(d.u_.Header,{className:X.modalHeader},i.createElement(e.Header,{state:t})),i.createElement(d.u_.Body,{name:"performanceBody",className:X.modalBody,wrapperClassName:t.pipe(g.U((e=>e.type===c.g.State.Type.EMPTY?X.modalEmpty:X.modalReady)))},i.createElement(e.Body,{state:t})),i.createElement(d.u_.Footer,{className:X.modalFooter},i.createElement(y,{downloadButton:n,onClose:r})));const n=()=>{const e=i.useContext(l.m.Context);return i.createElement("div",{className:X.zeroStateContainer},i.createElement(p,null),i.createElement(d.u_.SpokenDescription,{className:X.zeroStateText},e.performance.notEnoughTextToCalculateStats))};e.Header=({state:e})=>{const t=i.useContext(l.m.Context),n=i.useContext(d.u_.TitleIdContext);return i.createElement(o.F.Fragment,null,e.pipe(g.U((e=>i.createElement(f.Z.H2,{key:"statisticsHeader",id:n,className:e.type===c.g.State.Type.READY?X.modalHeaderUnderline:""},t.performance.title)))))};const r=()=>i.createElement(m.$,{size:64,className:X.loader,variation:"blue"});e.Body=({state:e})=>i.createElement(o.F.Fragment,null,e.pipe(g.U((e=>{switch(e.type){case c.g.State.Type.EMPTY:return null;case c.g.State.Type.LOADING:case c.g.State.Type.ERROR:return i.createElement(r,{key:"statisticsLoading"});case c.g.State.Type.SHORT_CONTENT:return i.createElement(n,{key:"statisticsEmpty"});case c.g.State.Type.READY:return i.createElement(re,{key:"statisticsContent",state:e});default:return(0,a.vE)(e)}}))));const y=({downloadButton:e,onClose:t})=>i.createElement(i.Fragment,null,e,i.createElement(u.zx.Primary,{name:"close-stats",onClick:t},"Close"))}(_e||(_e={}))},89379:(e,t,n)=>{n.d(t,{JT:()=>h,hM:()=>g,wK:()=>f});var r=n(40327),i=n(5114),o=n(8125),a=n(22232),s=n(93756),l=n(34217),c=n(27125),u=n(77176);function d(e){return{title:e.title,firstLine:i.fromNullable(e.firstLine)}}const p=(e,t)=>{const n=t.successLens;switch(e){case c.g.SuccessType.zero:return n.emptyText;case c.g.SuccessType.small:return n.smallText;case c.g.SuccessType.large:return n.largeText;case c.g.SuccessType.applied:return{title:n.fixedText.titles[(0,o.TN)(9)]};case c.g.SuccessType.premiumOnboardingStart:return n.premiumOnboardingStartText;case c.g.SuccessType.premiumOnboardingComplete:return n.premiumOnboardingCompleteText;default:return(0,a.vE)(e)}};function m(e){switch(e){case c.g.SuccessType.applied:case c.g.SuccessType.large:return"growComplete";case c.g.SuccessType.premiumOnboardingStart:return"premiumOnboardingStart";case c.g.SuccessType.premiumOnboardingComplete:return"premiumOnboardingComplete";default:return"growStart"}}function f(e,t){return()=>e.pipe(u.U((e=>{const n=p(e,t);return{kind:m(e),caption:i.some(d(n))}})))}function h(e,t){return()=>e.pipe(u.U((e=>{const n=p(e,t);return{kind:m(e),caption:i.some(d(n))}})))}function g(e){return l.Z.animatingFlow(e,(e=>(0,r.pipe)(e,i.fold((()=>i.some(s.F2("fadein"))),(()=>i.some(s.Hk("fadeout","fadein")))))))}},43805:(e,t,n)=>{n.d(t,{q:()=>R});var r=n(27378),i=n(40327),o=n(5739),a=n(83078),s=n(34217),l=n(44060),c=n(89894),u=n(3656),d=n(77176),p=n(34685);const m=s.UI.Node.make((()=>r.createElement("svg",{"aria-hidden":!0,width:"112",height:"126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip0)"},r.createElement("rect",{x:"27.482",y:"24.867",width:"57.037",height:"76.267",rx:"28.518",fill:"#D7F7F0"}),r.createElement("path",{d:"M62.399 71.25l11.766-6.85c1.994-1.14 4.587-.83 6.182.831L60.504 77.164",fill:"#D1CEF4"}),r.createElement("path",{d:"M62.399 71.25l11.766-6.85c1.994-1.14 4.587-.83 6.182.831L60.504 77.164",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M63.994 66.787l9.074-10.48c1.795-2.075 4.787-2.801 7.28-1.66L64.194 74.674",fill:"#D1CEF4"}),r.createElement("path",{d:"M63.994 66.787l9.074-10.48c1.795-2.075 4.787-2.801 7.28-1.66L64.194 74.674",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M62.897 59.213l2.393-5.396-.199-2.075c-.399-3.32 1.396-6.434 4.288-7.679l.997 10.377-5.883 20.234S47.442 87.229 46.743 89.2c-.598 1.66.2 11.311.698 15.046.4 3.217-20.64 4.047-19.943 1.246 1.297-4.462 4.587-15.046 5.186-17.537.997-3.528-.599-12.348 2.991-18.677 1.596-2.802 5.983-9.858 7.18-13.075 1.396-3.424 1.595-7.678 1.595-7.678 5.385 1.349 3.69 9.961 1.595 14.942-2.193 5.292 6.382 4.67 8.676.726 1.695-3.009 2.891-5.292 2.891-5.292l-.398-5.5-.4-.31c-2.492-2.283-3.29-6.019-1.794-9.235l6.382 7.263 1.495 8.094-1.495 11.206 1.495-11.206z",fill:"#D1CEF4"}),r.createElement("path",{d:"M62.897 59.213l2.393-5.396-.199-2.075c-.399-3.32 1.396-6.434 4.288-7.679l.997 10.377-5.883 20.234S47.442 87.229 46.743 89.2c-.598 1.66.2 11.311.698 15.046.4 3.217-20.64 4.047-19.943 1.246 1.297-4.462 4.587-15.046 5.186-17.537.997-3.528-.599-12.348 2.991-18.677 1.596-2.802 5.983-9.858 7.18-13.075 1.396-3.424 1.595-7.678 1.595-7.678 5.385 1.349 3.69 9.961 1.595 14.942-2.193 5.292 6.382 4.67 8.676.726 1.695-3.009 2.891-5.292 2.891-5.292l-.398-5.5-.4-.31c-2.492-2.283-3.29-6.019-1.794-9.235l6.382 7.263 1.495 8.094zm0 0l-1.495 11.206",stroke:"#0E101A",strokeMiterlimit:"10"})),r.createElement("path",{d:"M54.822 50.297c0 1.948-1.496 3.59-3.49 3.59-1.995 0-3.49-1.54-3.49-3.59 0-2.052 1.495-5.231 3.49-5.231 1.994 0 3.49 3.282 3.49 5.23z",fill:"#F6DF6C",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M58.411 32.86s-2.194-4.307 1.596-7.897c3.09-2.974 8.276-4.41 10.07-4.923.3-.102.6.205.6.513-.1 1.436-.5 5.026-1.995 7.795-1.695 3.18-6.183 6.359-10.27 4.513zM54.123 37.066s3.49-8.41-9.273-13.334c-.3-.102-.698.206-.599.513.2 1.026.5 3.077.699 5.026.398 4.82 1.396 10.462 9.173 7.795z",fill:"#15C39A",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M51.431 45.066c.598-4.41 2.393-9.334 7.28-12.513",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0"},r.createElement("rect",{x:"27.482",y:"24.867",width:"57.037",height:"76.267",rx:"28.518",fill:"#fff"})))))),f=s.UI.Node.make((()=>r.createElement("svg",{"aria-hidden":!0,width:"112",height:"126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{x:"28",y:"26.25",width:"56",height:"73.5",rx:"28",fill:"#DBEBFF"}),r.createElement("path",{d:"M78.5 103.284S73.702 64.99 25.9 42.79",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M73.797 88.742s-4.895-9.307 4.512-21.619c0 0 6.91 7.465-4.512 21.619z",fill:"#D7E8A9",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M73.701 88.839S69.958 78.95 54.696 77.98c0 0 .96 10.082 19.005 10.858zM63.239 71.195s-6.335-6.496-1.728-19.001c0 .096 7.583 4.362 1.728 19z",fill:"#D7E8A9",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M63.143 71.292s-5.567-7.174-18.43-4.072c0 0 3.36 8.143 18.43 4.072zM50.089 57.526s-5.952-4.363-3.84-15.027c0 0 6.623 2.52 3.84 15.026z",fill:"#D7E8A9",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M49.993 57.623s-5.376-5.042-15.358-.873c0 0 3.743 6.108 15.358.873z",fill:"#D7E8A9",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M42.314 52.097c-4.8-3.297-10.27-6.399-16.414-9.21",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M36.65 48.413s-4.607-2.327-4.319-9.986c0-.097 4.895.97 4.32 9.986z",fill:"#D7E8A9",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M36.65 48.51S32.331 45.6 25.9 49.673c0-.097 3.264 3.78 10.75-1.163z",fill:"#D7E8A9",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M42.778 85.615c0-2.917-2.194-5.216-4.978-5.216 2.785 0 4.978-2.298 4.978-5.216 0 2.918 2.194 5.216 4.979 5.216-2.785 0-4.979 2.299-4.979 5.216z",fill:"#D1CEF4",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M56.597 42.094c0-2.652-1.994-4.742-4.525-4.742 2.531 0 4.525-2.09 4.525-4.741 0 2.652 1.995 4.742 4.526 4.742-2.531 0-4.526 2.09-4.526 4.741z",fill:"#FCF5D0",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M80.06 61.062c0-3.13-2.354-5.596-5.341-5.596 2.987 0 5.34-2.465 5.34-5.595 0 3.13 2.354 5.595 5.341 5.595-2.987 0-5.34 2.466-5.34 5.596z",fill:"#F8C6DA",stroke:"#0E101A",strokeMiterlimit:"10",strokeLinejoin:"round"}),r.createElement("path",{d:"M77 43.212c5.412 0 9.8-4.43 9.8-9.895 0-5.464-4.388-9.894-9.8-9.894-5.412 0-9.8 4.43-9.8 9.894 0 5.465 4.388 9.895 9.8 9.895z",fill:"#15C39A",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M83.037 29.695c-.35-.353-1.05-.353-1.487 0l-6.125 6.184-2.625-2.65c-.35-.353-1.05-.353-1.487 0-.175.177-.263.442-.263.707 0 .265.088.53.263.706l3.412 3.446c.175.176.438.265.7.265.263 0 .525-.089.7-.265l6.825-6.89c.438-.443.438-1.061.087-1.503z",fill:"#fff"})))),h=s.UI.Node.make((()=>r.createElement("video",{className:y.premiumOnboardingStartVideo,autoPlay:!0,loop:!0,muted:!0,poster:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjY0IiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDI2NCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTIuODA5IDgxLjcwNDVDMTEyLjgwOSA4OS4xMDY3IDEyOS40NDEgOTcuOTcxMiAxMjkuNDQxIDk3Ljk3MTJMMTI0LjE0MSAxMDkuMzk0IiBzdHJva2U9IiMxRjI0M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8cGF0aCBkPSJNMTEzLjA4MyA4Mi44OTI1QzExMy45OTcgODIuNjE4MyAxMTQuNDU0IDgyLjA3IDExNC42MzYgODEuNjEzMUMxMTQuOTExIDgxLjA2NDggMTE0LjgxOSA4MC40MjUxIDExNC40NTQgNzkuOTY4MUwxMTAuOTgxIDc1Ljk0NzFMMTEwLjM0MSA4MS4yNDc1QzExMC4yNSA4MS43OTU4IDExMC41MjQgODIuNDM1NSAxMTEuMDcyIDgyLjcwOTdDMTExLjUyOSA4Mi45ODM5IDExMi4xNjkgODMuMTY2NiAxMTMuMDgzIDgyLjg5MjVaIiBmaWxsPSIjMTVDMzlBIiBzdHJva2U9IiMxQzI1M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMTguNjU4IDcyLjIwMDRDMTE3LjEwNCA3NS43NjQ1IDExNC44MTkgNzguNTk3NCAxMTIuMDc4IDc5LjQxOTlDMTA1LjU4OSA4MS40MzA0IDk0Ljg5NzMgNzIuNjU3MyA5Mi42MTI2IDY0Ljk4MDlDOTAuNDE5NCA1Ny42NzAxIDk0LjI1NzYgNTAuMDg1IDEwMS4yMDMgNDcuMzQzNUMxMDEuNTY4IDQ3LjE2MDcgMTAxLjkzNCA0Ny4wNjkzIDEwMi4zIDQ2Ljk3NzlDMTA5Ljg4NSA0NC42OTMzIDExOC4wMTggNDguOTg4NCAxMjAuMzAzIDU2LjU3MzRDMTIxLjU4MiA2MS4wNTEzIDEyMC43NTkgNjcuMjY1NiAxMTguNjU4IDcyLjIwMDRaIiBmaWxsPSIjMTVDMzlBIiBzdHJva2U9IiMxQzI1M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIG9wYWNpdHk9IjAuNSIgZD0iTTEwMS41NjggNzEuMDEyM0MxMDMuODUzIDY5LjgyNDMgMTAwLjE5OCA2MS40MTY4IDk2Ljk5OSA2My4wNjE3QzkzLjE2MDggNjUuMDcyMiA5OC4wOTU2IDcyLjg0IDEwMS41NjggNzEuMDEyM1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIG9wYWNpdHk9IjAuMjUiIGQ9Ik0xMjAuMjExIDU2LjY2NDdDMTIxLjU4MiA2MS4wNTEzIDEyMC43NTkgNjcuMzU2OSAxMTguNjU3IDcyLjIwMDNDMTEwLjYxNSA2My45NzU2IDEwMS4xMTEgNTIuMjc4MiAxMDEuMTExIDQ3Ljg5MTdDMTAxLjExMSA0Ny43MDg5IDEwMS4xMTEgNDcuNTI2MiAxMDEuMjAzIDQ3LjM0MzRDMTAxLjU2OCA0Ny4xNjA2IDEwMS45MzQgNDcuMDY5MiAxMDIuMjk5IDQ2Ljk3NzhDMTA5Ljg4NCA0NC42OTMyIDExNy45MjYgNDguOTg4MyAxMjAuMjExIDU2LjY2NDdaIiBmaWxsPSIjMUYyNDNDIiBzdHJva2U9IiMxRjI0M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8cGF0aCBkPSJNMTUxLjAwOCA3Mi42NTczQzE0NS43MDggODQuNTM3NSAxMjkuNDQxIDk3Ljk3MTIgMTI5LjQ0MSA5Ny45NzEyTDEzNC41NTkgMTA3LjExIiBzdHJva2U9IiMxRjI0M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8cGF0aCBkPSJNMTUwLjkxNyA3My45MzY3QzE1MC4wMDMgNzMuNjYyNSAxNDkuNTQ2IDczLjExNDIgMTQ5LjM2MyA3Mi42NTczQzE0OS4wODkgNzIuMTA4OSAxNDkuMTggNzEuNDY5MiAxNDkuNTQ2IDcxLjAxMjNMMTUzLjAxOSA2Ni45OTEzTDE1My42NTggNzIuMjkxN0MxNTMuNzUgNzIuODQgMTUzLjQ3NiA3My40Nzk3IDE1Mi45MjcgNzMuNzUzOUMxNTIuNDcgNzQuMDI4IDE1MS44MzEgNzQuMTE5NCAxNTAuOTE3IDczLjkzNjdaIiBmaWxsPSIjODc4MEU0IiBzdHJva2U9IiMxQzI1M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNzEuMzg3IDU2LjAyNTFDMTY5LjEwMyA2My42MTAxIDE1OC41MDIgNzIuNDc0NiAxNTEuOTIyIDcwLjQ2NDFDMTQ1LjQzNCA2OC40NTM2IDE0MS40MTMgNTUuMjk0IDE0My42OTcgNDcuNzA5QzE0NS45ODIgNDAuMTI0IDE1NC4wMjQgMzUuNzM3NCAxNjEuNyAzOC4xMTM1QzE2OS4zNzcgNDAuMzA2NyAxNzMuNjcyIDQ4LjM0ODcgMTcxLjM4NyA1Ni4wMjUxWiIgZmlsbD0iIzg3ODBFNCIgc3Ryb2tlPSIjMUMyNTNDIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0xNjcuOTE1IDUyLjkxOEMxNjMuODk0IDU0LjE5NzQgMTYxLjA2MSA0NC42MDE5IDE2NS4zNTYgNDQuMjM2M0MxNjkuMjg1IDQzLjg3MDggMTcwLjU2NSA1Mi4wOTU1IDE2Ny45MTUgNTIuOTE4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggb3BhY2l0eT0iMC4yNSIgZD0iTTE2Mi43OTcgMzguOTM1OUMxNjIuNzk3IDQzLjMyMjUgMTUzLjM4NCA1NC45Mjg1IDE0NS4zNDIgNjMuMTUzMkMxNDMuMjQgNTguMzA5NyAxNDIuNTA5IDUyLjA5NTUgMTQzLjc4OSA0Ny43MDlDMTQ2LjA3MyA0MC4xMjQgMTU0LjExNSAzNS43Mzc0IDE2MS43OTIgMzguMTEzNUMxNjIuMDY2IDM4LjIwNDkgMTYyLjQzMSAzOC4yOTYyIDE2Mi43MDUgMzguMzg3NkMxNjIuNzA1IDM4LjU3MDQgMTYyLjc5NyAzOC43NTMyIDE2Mi43OTcgMzguOTM1OVoiIGZpbGw9IiMxRjI0M0MiIHN0cm9rZT0iIzFGMjQzQyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+CjxwYXRoIGQ9Ik0xMjkuNDQxIDY2LjgwODdWMTEyLjEzNiIgc3Ryb2tlPSIjMUYyNDNDIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiLz4KPHBhdGggZD0iTTEyOS40NDEgNzQuNTc2NUMxMjguNDM2IDc0LjU3NjUgMTI3Ljc5NiA3NC4yMTEgMTI3LjQzMSA3My43NTQxQzEyNi45NzQgNzMuMjk3MSAxMjYuODgyIDcyLjU2NjEgMTI3LjE1NiA3Mi4wMTc3TDEyOS41MzIgNjYuNjI2TDEzMS45MDggNzIuMDE3N0MxMzIuMTgzIDcyLjU2NjEgMTMyLjA5MSA3My4yOTcxIDEzMS42MzQgNzMuNzU0MUMxMzEuMDg2IDc0LjIxMSAxMzAuNDQ2IDc0LjU3NjUgMTI5LjQ0MSA3NC41NzY1WiIgZmlsbD0iI0ZGQzk0MCIgc3Ryb2tlPSIjMUYyNDNDIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiLz4KPHBhdGggZD0iTTE0My41MTQgMjQuNDA1N0MxNDEuNDEzIDIzLjU4MzIgMTE3LjU2MSAyMy41ODMyIDExNS40NTkgMjQuNDA1N0MxMTMuMzU3IDI1LjIyODEgMTAyLjU3NCAzNS4zNzIgMTAyLjU3NCAzOS4zMDE2QzEwMi41NzQgNDUuOTcyNyAxMjUuNzg2IDcwLjY0NjkgMTI5LjUzMiA3MC42NDY5QzEzMy4yNzkgNzAuNjQ2OSAxNTYuNDkxIDQ1Ljk3MjcgMTU2LjQ5MSAzOS4zMDE2QzE1Ni40IDM1LjQ2MzQgMTQ1LjYxNiAyNS4yMjgxIDE0My41MTQgMjQuNDA1N1oiIGZpbGw9IiNGRkM5NDAiIHN0cm9rZT0iIzFGMjQzQyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+CjxwYXRoIG9wYWNpdHk9IjAuOCIgZD0iTTE0MS41MDQgMjYuMzI0OEMxMzkuMjE5IDI2LjIzMzQgMTM5LjIxOSAyOC44ODM2IDE0MC41OSAzMS4wNzY5QzE0Mi45NjYgMzUuMDA2NSAxNDYuMjU2IDM2LjY1MTQgMTQ3LjYyNyAzNi4xMDMxQzE1MS42NDggMzQuNjQwOSAxNDYuMzQ3IDI2LjQxNjIgMTQxLjUwNCAyNi4zMjQ4WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC44Ii8+CjxwYXRoIGQ9Ik0xNTYuNCAzOS4yMTAyTDE0MC44NjQgNDEuNjc3NkgxMTguMDE4TDEwMi40ODIgMzkuMjEwMiIgc3Ryb2tlPSIjMUYyNDNDIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiLz4KPHBhdGggZD0iTTEzNS4wMTUgMjQuMDQwMkMxMzcuNTc0IDI4Ljc5MjIgMTQwLjg2NCAzOS45NDEzIDE0MC44NjQgNDEuNjc3NkMxNDAuODY0IDQzLjQxNCAxMzUuODM4IDU5LjA0MDkgMTI5LjQ0MSA3MC42NDY5IiBzdHJva2U9IiMxRjI0M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8cGF0aCBkPSJNMTIzLjg2NiAyNC4wNDAyQzEyMS4zMDggMjguNzkyMiAxMTguMDE4IDM5Ljk0MTMgMTE4LjAxOCA0MS42Nzc2QzExOC4wMTggNDMuNDE0IDEyMy4wNDQgNTkuMDQwOSAxMjkuNDQxIDcwLjY0NjkiIHN0cm9rZT0iIzFGMjQzQyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+CjxwYXRoIG9wYWNpdHk9IjAuOCIgZD0iTTExNy41NjEgNTUuNzUxMUMxMTYuMTkgNTYuMDI1MyAxMTAuNjE1IDUwLjM1OTQgMTA4LjMzMSA0Ni4zMzg0QzEwNy4yMzQgNDQuNDE5MyAxMDguMjM5IDQzLjMyMjcgMTA5LjMzNiA0My4wNDg1QzExMi41MzQgNDIuMjI2IDExMy45MDUgNDQuMzI3OSAxMTYuMDA3IDQ3Ljg5MkMxMTcuOTI2IDUxLjA5MDUgMTE5LjIwNiA1NS4zODU2IDExNy41NjEgNTUuNzUxMVoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuOCIvPgo8cGF0aCBkPSJNMTQxLjg2OSA5OS44OTA0QzE0My44OCA5MC4zODYzIDEyOS40NDEgOTcuNzg4NSAxMjkuNDQxIDk3Ljc4ODVDMTI5LjQ0MSA5Ny43ODg1IDE0MC4wNDIgMTA5LjAyOSAxNDEuODY5IDk5Ljg5MDRaIiBzdHJva2U9IiMxRjI0M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8cGF0aCBkPSJNMTE3LjAxMyA5OS44OTA0QzExNS4wMDIgOTAuMzg2MyAxMjkuNDQxIDk3Ljc4ODUgMTI5LjQ0MSA5Ny43ODg1QzEyOS40NDEgOTcuNzg4NSAxMTguODQgMTA5LjAyOSAxMTcuMDEzIDk5Ljg5MDRaIiBzdHJva2U9IiMxRjI0M0MiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8L3N2Zz4K"},r.createElement("source",{src:`${p.yr}premiumOnboardingStart.mp4`})))),g=s.UI.Node.make((()=>r.createElement("svg",{"aria-hidden":!0,width:"130",height:"82",viewBox:"0 0 130 82",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{opacity:"0.25",d:"M82.084 40.757L72.7367 30.3437C72.1869 29.6495 71.4996 29.3718 70.6748 29.3718H46.8943C46.0695 29.3718 45.3822 29.6495 44.8324 30.3437L35.4851 40.757C34.5229 41.8677 34.5229 43.5338 35.4851 44.6446L57.3412 68.9421C57.7536 69.3586 58.3034 69.6363 58.8533 69.6363C59.4031 69.6363 59.953 69.3586 60.3653 68.9421L82.084 44.6446C83.1837 43.5338 83.1837 41.8677 82.084 40.757Z",fill:"#494393"}),r.createElement("path",{d:"M66.1044 65.0148L87.9605 40.7173C88.6478 39.8843 88.6478 38.6347 87.9605 37.8016L78.4758 27.3884C78.0634 26.9719 77.5136 26.6942 76.8263 26.6942H53.1832C52.6333 26.6942 51.946 26.9719 51.5336 27.3884L42.1864 37.8016C41.4991 38.6347 41.4991 39.8843 42.1864 40.7173L64.0425 65.0148C64.5923 65.7091 65.5546 65.7091 66.1044 65.0148Z",fill:"#FFDF80",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M88.5103 39.3289H41.6365",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M60.4684 26.6942L55.7947 38.4958C55.6573 39.0512 55.6573 39.6066 55.7947 40.0231L65.142 65.5702",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("path",{d:"M69.6783 26.6942L74.3519 38.4958C74.4894 39.0512 74.4894 39.6066 74.3519 40.0231L65.0046 65.5702",stroke:"#0E101A",strokeMiterlimit:"10"}),r.createElement("rect",{x:"77.5491",y:"1",width:"8",height:"8",rx:"2",transform:"rotate(14.9627 77.5491 1)",fill:"#F8C6DA",stroke:"#0E101A"}),r.createElement("rect",{x:"13",y:"53.5762",width:"8",height:"8",rx:"2",transform:"rotate(-36.5938 13 53.5762)",fill:"#B8B4EF",stroke:"#0E101A"}),r.createElement("circle",{cx:"96",cy:"73",r:"4",fill:"#87E8D1",stroke:"#0E101A"}),r.createElement("path",{d:"M37 66V72",stroke:"#0E101A"}),r.createElement("path",{d:"M37 76V82",stroke:"#0E101A"}),r.createElement("path",{d:"M45 74L39 74",stroke:"#0E101A"}),r.createElement("path",{d:"M35 74L29 74",stroke:"#0E101A"}),r.createElement("path",{d:"M37.5 10V14.125",stroke:"#0E101A"}),r.createElement("path",{d:"M37.5 16.875V21",stroke:"#0E101A"}),r.createElement("path",{d:"M43 15.5L38.875 15.5",stroke:"#0E101A"}),r.createElement("path",{d:"M36.125 15.5L32 15.5",stroke:"#0E101A"}),r.createElement("path",{d:"M103 21V27",stroke:"#0E101A"}),r.createElement("path",{d:"M103 31V37",stroke:"#0E101A"}),r.createElement("path",{d:"M111 29L105 29",stroke:"#0E101A"}),r.createElement("path",{d:"M101 29L95 29",stroke:"#0E101A"})))),y=c.ux.stylesheet({premiumOnboardingStartVideo:[{width:264,height:120}]}),v=s.UI.Node.make((({view:e})=>r.createElement("div",{"data-name":"success-lens-text",className:N.newSuccessText},r.createElement(u.H4,{key:"title"},e("title")),r.createElement("div",{className:N.newSuccessDescription},r.createElement(o.F.div,{className:N.newSuccessDescriptionText},(0,i.pipe)(e("firstLine"),d.U(a.QP))))))),b=s.UI.Union.asOption(v),w=s.UI.Grid.make((({slots:e})=>r.createElement(o.F.div,{className:N.newSuccessContainer},e.image,e.caption))),S=s.UI.Knot.make(w,{image:m,caption:b}),x=s.UI.Knot.make(w,{image:f,caption:b}),E=s.UI.Knot.make(s.UI.Grid.make((({slots:e})=>r.createElement(o.F.div,{className:N.premiumOnboardingStartSuccessContainer},e.animation,e.caption))),{animation:h,caption:b}),I=s.UI.Knot.make(w,{image:g,caption:b}),k=s.UI.Union.make("kind",{growStart:S,growComplete:x,premiumOnboardingStart:E,premiumOnboardingComplete:I}),C=c.ux.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),A=c.ux.keyframes({"0%":{opacity:1},"100%":{opacity:0}}),T={animation:`${C} 300ms linear forwards`},M={position:"absolute",top:0,width:c.ux.percent(100),animation:`${A} 200ms linear forwards`},O={textAlign:"center",background:l.Il.CoreNeutral0,padding:c.ux.rem(.5)},_={width:c.ux.percent(100),marginTop:c.ux.rem(.5)},P={marginTop:c.ux.rem(.25)},L={fontSize:c.ux.rem(l.xv.NewSuccessDescriptionSize),color:l.Il.CoreNeutral50,letterSpacing:l.xv.NewSuccessDescriptionLetterSpacing,lineHeight:c.ux.rem(l.xv.NewSuccessDescriptionLineHeight),fontWeight:l.xv.NewSuccessDescriptionWeight},N=c.ux.stylesheet({success_fadein:[T],success_fadeout:[M],premiumOnboardingStartSuccessContainer:[O],newSuccessContainer:[{textAlign:"center"}],newSuccessText:[_],newSuccessDescription:[P],newSuccessDescriptionText:[L]}),D=s.UI.Transition.make({fadein:N.success_fadein},{fadeout:N.success_fadeout}),R=s.UI.Animated.make(D,k)},38819:(e,t,n)=>{n.d(t,{r:()=>g});var r=n(27378),i=n(40327),o=n(5114),a=n(34217),s=n(89894),l=n(94785),c=n(50474),u=n(31278),d=n(3656);const p=a.UI.Grid.make((({slots:e})=>r.createElement("div",{className:w.grid},r.createElement("div",{className:w.iconWrapper},e.icon),r.createElement("div",{className:w.titleWrapper},e.title),r.createElement("div",{className:w.bottomWrapper},e.bottom)))),m=a.UI.Node.make((()=>{const e=r.useContext(c.m.Context).successLens.paidView;return r.createElement(d.H4,null,e.title)})),f=a.UI.Node.make((()=>r.createElement(u.JO.GreenOk,{width:32}))),h=a.UI.Knot.make(p,{icon:f,title:m,bottom:a.UI.Union.make("kind",{[l.n.State.hidden]:a.UI.Node.empty,[l.n.State.expanded]:l.n.TogglableExpandedPanel})}),g=(0,i.pipe)(a.UI.squash(h),a.UI.contramapState((e=>(0,i.pipe)(e,o.fold((()=>({bottom:{kind:l.n.State.hidden}})),(e=>({bottom:{kind:l.n.State.expanded,showCloseButton:!1,alertsState:e}}))))))),y={marginTop:s.ux.rem(3.5)},v={marginTop:s.ux.rem(1.375)},b={marginTop:s.ux.rem(2.675)},w=s.ux.stylesheet({grid:[{display:"flex",flexDirection:"column",alignItems:"center"}],iconWrapper:[y],titleWrapper:[v],bottomWrapper:[b]})},70023:(e,t,n)=>{n.d(t,{d:()=>d});var r=n(57050),i=n(5114),o=n(22232),a=n(77176),s=n(60797),l=n(93508),c=n(66310),u=n(94785);function d(e){return(0,r.ls)(a.U((e=>{switch(e.key){case u.n.State.expanded:switch(e.action.kind){case"collapse":return i.some(u.n.State.minimized);case"upgrade":case"onUpgradeButtonMount":return i.none;default:return(0,o.vE)(e.action)}case u.n.State.minimized:return"onClick"===e.action.action?i.some(u.n.State.expanded):(0,o.vE)(e.action.action);default:return(0,o.vE)(e)}})),s.oA,l.O(u.n.State.minimized),c.w((t=>e.pipe(a.U(i.fold((()=>({kind:u.n.State.hidden})),(e=>{switch(t){case u.n.State.minimized:return{kind:u.n.State.minimized,alertsCount:e.count};case u.n.State.expanded:return{kind:u.n.State.expanded,showCloseButton:!0,alertsState:{count:e.count,alerts:e.alerts()}};case u.n.State.hidden:return{kind:u.n.State.hidden};default:return(0,o.vE)(t)}})))))))}},94785:(e,t,n)=>{n.d(t,{n:()=>K});var r=n(34217),i=n(27378),o=n(40327),a=n(5739),s=n(5114),l=n(22232),c=n(50474),u=n(64757),d=n(62295),p=n(31278),m=n(3656),f=n(77176),h=n(44060),g=n(89894),y=n(40219);const v={position:"relative",borderRadius:g.ux.rem(y.fx),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:h.Il.CoreNeutral0},b={padding:`${g.ux.rem(1)} ${g.ux.rem(2)}`},w={position:"absolute",top:g.ux.rem(.75),left:g.ux.rem(.5)},S={display:"flex",boxSizing:"border-box",padding:g.ux.rem(.5),height:g.ux.rem(2.5),cursor:"pointer",justifyContent:"flex-start",alignItems:"center"},x={marginLeft:g.ux.rem(.8),fontSize:g.ux.rem(.85),lineHeight:g.ux.rem(1)},E={display:"flex",width:g.ux.percent(100),alignItems:"center",justifyContent:"space-between"},I={position:"absolute",top:g.ux.rem(.2),right:g.ux.rem(.3),cursor:"pointer"},k={paddingRight:g.ux.rem(1),textAlign:"left",fontSize:g.ux.rem(.75),lineHeight:g.ux.rem(1.15)},C={marginTop:g.ux.rem(.6),fontSize:g.ux.rem(.875),flexShrink:0},A={display:"flex",marginBottom:g.ux.rem(.6),justifyContent:"flex-end",flexShrink:0},T={marginRight:"auto",lineHeight:g.ux.rem(1.3125)},M={marginTop:g.ux.rem(.21),minWidth:g.ux.rem(1.5),flexShrink:0},O={marginTop:g.ux.rem(1)},_={display:"flex",justifyContent:"center",alignItems:"center",height:g.ux.rem(2),backgroundColor:h.Il.CoreGreen60,borderRadius:g.ux.rem(.25),fontSize:g.ux.rem(.875),fontWeight:700,color:h.Il.CoreNeutral0,lineHeight:g.ux.rem(2),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:g.ux.color(h.Il.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:g.ux.color(h.Il.CoreGreen60).tint(.2).toRGBA().toString()}}},P=g.ux.stylesheet({wrapper:[v],maximizedWrapper:[b],minimizedWrapper:[S],maximizedWrapperIcon:[w],shadowWrapper:[{position:"relative",zIndex:1}],minimizedText:[x],minimizedContent:[E],maximizedCloseButtonContainer:[I],maximizedHeader:[k],alertCategoryContainer:[C],alertCategory:[A],categoryHumanContainer:[T],alertCounterContainer:[M],premiumButtonContainer:[O],premiumButton:[_]});var L=n(12187);const N=(e,t)=>r.UI.Grid.make((({slots:n})=>i.createElement(a.F.div,Object.assign({},(0,L.Sh)(P.wrapper,e)),i.createElement(p.JO.UpgradeHookPanel.TitleDiamond,{className:t}),n.body))),D=r.UI.Node.make((({notify:e})=>i.createElement(a.F.div,{className:P.maximizedCloseButtonContainer},i.createElement(m.zx,{name:"close",onClick:e("onClick")},i.createElement(p.JO.Arrow,{width:11,direction:p.n4.up})))));var R;!function(e){let t,n;!function(e){e.onUpgrade="onUpgrade",e.onUpgradeButtonMount="onUpgradeButtonMount"}(t=e.ActionsKind||(e.ActionsKind={})),function(e){e.isOnUpgrade=function(e){return"onUpgrade"===e.kind},e.isOnUpgradeButtonMount=function(e){return"onUpgradeButtonMount"===e.kind}}(n=e.Actions||(e.Actions={}))}(R||(R={}));const j=r.UI.Node.make((({state:e,notify:t})=>{const n=i.useContext(c.m.Context);return i.createElement(i.Fragment,null,i.createElement("div",{className:P.maximizedHeader},i.createElement(a.F.Fragment,null,e.pipe(f.U((({count:e})=>e>0?e>1?i.createElement(i.Fragment,{key:"plural"},n.sidebar.content.premiumIssues.foundTitlePlural.description1,"Â ",e,"Â ",n.sidebar.content.premiumIssues.foundTitlePlural.description2):i.createElement(i.Fragment,{key:"singular"},n.sidebar.content.premiumIssues.foundTitleSingular.description1,"Â ",e,"Â ",n.sidebar.content.premiumIssues.foundTitleSingular.description2):null))))),i.createElement(a.F.div,{className:P.alertCategoryContainer},e.pipe(f.U((({alerts:e})=>e.map((e=>i.createElement("div",{key:e.category,className:P.alertCategory},i.createElement("div",{className:P.categoryHumanContainer},e.categoryHuman),i.createElement("div",{className:P.alertCounterContainer},i.createElement(d.x.Counter,{count:e.count,type:"yellowPremium"}))))))))),i.createElement("div",{className:P.premiumButtonContainer},i.createElement("div",{ref:e=>{t({type:"upgradeHookAction",kind:R.ActionsKind.onUpgradeButtonMount,element:s.fromNullable(e)})()}},i.createElement(u.zx,{name:"upgrade",className:P.premiumButton,onClick:t({type:"upgradeHookAction",kind:R.ActionsKind.onUpgrade})},i.createElement(p.JO.UpgradeHookPanel.ButtonDiamond,null),n.goPremium))))})),F=r.UI.Composite.make(N(P.maximizedWrapper,P.maximizedWrapperIcon),r.UI.Group.make({closeButton:r.UI.Union.make("kind",{hidden:r.UI.Node.empty,visible:D}),content:j})),U=(0,o.pipe)(r.UI.squash(F),r.UI.mapAction((e=>{switch(e.key){case"content":switch(e.action.kind){case R.ActionsKind.onUpgrade:return{kind:"upgrade"};case R.ActionsKind.onUpgradeButtonMount:return{kind:"onUpgradeButtonMount",element:e.action.element};default:return(0,l.vE)(e.action)}case"closeButton":return"onClick"===e.action.action?{kind:"collapse"}:(0,l.vE)(e.action.action);default:return(0,l.vE)(e)}})),r.UI.contramapState((e=>({closeButton:{kind:e.showCloseButton?"visible":"hidden"},content:e.alertsState}))));var z=n(28706);const B=r.UI.Node.make((({state:e})=>{const t=i.useContext(c.m.Context);return i.createElement(a.F.div,{className:P.minimizedContent},i.createElement("div",{className:P.minimizedText},t.premiumSuggestions),e.pipe(f.U((({alertsCount:e})=>e>0&&i.createElement(d.x.Counter,{type:"yellowPremium",key:"advancedCounter-counter",count:e})))))})),G=r.UI.Grid.make((({slots:e,notify:t})=>i.createElement("div",Object.assign({role:"button",className:P.shadowWrapper},z.rl(t("onClick"))),e.body))),W=r.UI.Knot.make(G,{body:r.UI.Composite.make(N(P.minimizedWrapper),B)}),H=(0,o.pipe)(r.UI.squash(W),r.UI.contramapState((e=>({body:e}))));var K;!function(e){let t;!function(e){e.hidden="hidden",e.minimized="minimized",e.expanded="expanded"}(t=e.State||(e.State={})),e.TogglableExpandedPanel=r.UI.Union.make("kind",{[t.hidden]:r.UI.Node.empty,[t.expanded]:U}),e.TogglablePanel=r.UI.Union.make("kind",{[t.hidden]:r.UI.Node.empty,[t.minimized]:H,[t.expanded]:U})}(K||(K={}))},5920:(e,t,n)=>{n.d(t,{l:()=>r});var r,i=n(40327),o=n(5114);!function(e){e.update=function(e,t,n){return e.update(t,n)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,n){return(0,i.pipe)(e.get(t),o.filter((e=>n(e.value))))},e.find=function(e,t){return e.find(t)}}(r||(r={}))},21619:(e,t,n)=>{n.d(t,{mN:()=>I});var r,i,o=n(71249),a=n(57050),s=n(40327),l=n(38983),c=n(5114),u=n(45701),d=n(89943),p=n(8125),m=n(55415),f=n(83078),h=n(66896),g=n(77176),y=n(32952),v=n(67434),b=n(28043),w=n(41398),S=n(19751),x=n(17594),E=n(35416);!function(e){const t=e=>t=>(0,s.pipe)(t,c.map((0,a.ls)(o.DZ((t=>e.getAlertByMark(t))),o.DY(u.contramap((({alert:{lensType:e,lensPriority:t}})=>({type:e,priority:t})))(h.R.ord)))));e.fromMarksEvents=(e,n)=>({activeHighlights:(0,s.pipe)(n.activeMarks,g.U(t(e))),hoveredHighlights:(0,s.pipe)(n.hoveredMarks,g.U(t(e)))})}(r||(r={})),function(e){e.Mock=class{constructor(){this.alertHovered=new y.xQ,this.alertClicked=new y.xQ,this.highlightedAlert=l.h.create(c.none)}}}(i||(i={}));class I{constructor(e,t,n,i,o,a){this._ded=e,this._state=t,this._markAlertMapper=n,this._alertsReader=i,this._getActiveItemWithAlert=o,this._resolveClickedAlert=a,this._impl=new k(r.fromMarksEvents(this._markAlertMapper,this._ded),this._state,this._alertsReader,this._getActiveItemWithAlert,this._resolveClickedAlert),this.alertHovered=this._impl.alertHovered,this.alertClicked=this._impl.alertClicked}}class k{constructor(e,t,n,r,i){this._highlightEvents=e,this._state=t,this._alertsReader=n,this._getActiveItemWithAlert=r,this._resolveClickedAlert=i,this._focusedItem=this._state.view(E.nL.getActiveItem(this._getActiveItemWithAlert)),this._focusedLens=this._state.view("currentLens"),this.alertHovered=this._highlightEvents.hoveredHighlights.pipe(g.U(c.map(o.UI((({alert:e})=>e)))),v.R(((e,t)=>(0,s.pipe)(t,c.chain((t=>(0,s.pipe)(e,c.filter((e=>-1!==t.indexOf(e))),c.fold((()=>c.fromNullable(t[0])),c.some)))))),c.none),g.U(c.filter((e=>this._alertsReader.isInteractable(e.id)&&!x.$.isPlagiarism(e)))),b.x()),this.alertClicked=this._highlightEvents.activeHighlights.pipe(w.M(this._focusedItem,this._focusedLens),v.R(((e,[t,n,r])=>{const i=t=>(0,s.pipe)(e,c.exists((e=>e.alert.id===t.alert.id))),o=e=>(0,s.pipe)(n,c.exists((t=>t.activeAlert.id===e.alert.id))),a=e=>r.meta.filter(e.alert);return(0,s.pipe)(t,c.chain((e=>{var t;return(0,s.pipe)(e,null!==(t=this._resolveClickedAlert)&&void 0!==t?t:d.N6([(0,p.W9)(i,o),o,(0,p.W9)(i,a),a,i]),c.fold((()=>c.fromNullable(e[0])),c.some),c.map((e=>m.Vx(e,{highlightIndex:e.alert.hasNestedHighlights?0:e.highlightIndex}))))})))}),f.cS()),S.shareReplay({refCount:!0,bufferSize:1}))}}},54216:(e,t,n)=>{n.d(t,{t:()=>h});var r=n(57050),i=n(40327),o=n(28043),a=n(77176),s=n(8125),l=n(83078),c=n(74660),u=n(66896),d=n(35416),p=n(6100);const m=(0,s.W9)(c.bZ.isRegistered,(0,r.ff)(c.bZ.isMuted)),f=e=>t=>(0,s.W9)(m,e(t));var h;!function(e){e.create=function(e,t){const n=f((t=>e[t]));return{lensFilters:new Map(Object.entries(e)),alertVisibleInText:(e,n)=>(0,s.W9)(f((e=>t[e]))(e),(e=>t=>e||c.bZ.isPriority(t))(n)),alertVisibleInSidebar:n,getLensesFilter:t=>e[t],alertCanBeDisplayed:m,alertIsBulkAcceptable:e=>(0,s.W9)(n(e),c.bZ.isBulkAcceptable)}};const t=e=>t=>e===t.lensId,n=()=>e=>(0,i.pipe)(e.freePremium,l.FX("unlocked")),h=e=>(0,s.W9)(t(u.R.OutcomeId.fromPriorityOutcomeId(e)),c.bZ.isPriority);e.getAlertVisibleInTextFilter=function(e,t){return t.pipe(o.x(((e,t)=>!(e.currentLens.id!==t.currentLens.id||d.nL.isWithPriorityList(e)&&d.nL.isWithPriorityList(t)&&p.v.WithPriority.isNonPriorityListOpened(e.currentLens)!==p.v.WithPriority.isNonPriorityListOpened(t.currentLens)))),a.U((t=>({filter:(0,s.Kg)(e.alertVisibleInText(t.currentLens.id,p.v.WithPriority.nonPriorityAlertsVisible(t)),c.bZ.isBulkApplied),lensId:t.currentLens.id}))))},e.defaultLensFilters={[u.R.SpecialId.Clarity]:t(u.R.SpecialId.Clarity),[u.R.SpecialId.Correctness]:t(u.R.SpecialId.Correctness),[u.R.SpecialId.Delivery]:t(u.R.SpecialId.Delivery),[u.R.SpecialId.Engagement]:t(u.R.SpecialId.Engagement),[u.R.SpecialId.Vox]:t(u.R.SpecialId.Vox),[u.R.SpecialId.FreePremiumAlerts]:(0,s.Kg)(n(),t(u.R.SpecialId.Premium)),[u.R.SpecialId.ClarityPriority]:h(u.R.SpecialId.ClarityPriority),[u.R.SpecialId.CorrectnessPriority]:h(u.R.SpecialId.CorrectnessPriority),[u.R.SpecialId.DeliveryPriority]:h(u.R.SpecialId.DeliveryPriority),[u.R.SpecialId.EngagementPriority]:h(u.R.SpecialId.EngagementPriority),[u.R.SpecialId.VoxPriority]:h(u.R.SpecialId.VoxPriority),[u.R.SpecialId.Plagiarism]:t(u.R.SpecialId.Plagiarism),[u.R.SpecialId.DraftAI]:r.jv,[u.R.SpecialId.Cheetah]:r.jv,[u.R.SpecialId.Premium]:t(u.R.SpecialId.Premium),[u.R.SpecialId.AllAlerts]:c.bZ.belongsToAllAlerts,[u.R.SpecialId.Closed]:r.jv,[u.R.SpecialId.Priority]:c.bZ.belongsToPriorityLens,[u.R.SpecialId.PredictionTakeaways]:c.bZ.belongsToPredictionTakeaways,[u.R.SpecialId.PredictionEmogenie]:c.bZ.belongsToPredictionEmogenie,[u.R.SpecialId.RealTimeProofit]:t(u.R.SpecialId.RealTimeProofit)},e.defaultTextFilters=Object.assign(Object.assign({},e.defaultLensFilters),{[u.R.SpecialId.Closed]:c.bZ.isInline,[u.R.SpecialId.FreePremiumAlerts]:(0,s.Kg)(n(),t(u.R.SpecialId.Premium)),[u.R.SpecialId.Premium]:e.defaultLensFilters[u.R.SpecialId.Premium]}),e.priorityTextFilters=e=>({[u.R.SpecialId.Premium]:(0,s.W9)(e[u.R.SpecialId.Premium],c.bZ.isPriority)})}(h||(h={}))},59368:(e,t,n)=>{n.d(t,{Bd:()=>o,Oe:()=>r,rG:()=>i});var r,i,o,a=n(73975),s=n(74660);!function(e){e.eq=(0,a.Uz)((e=>e.alert))(s.h$.ordId),e.isPending=e=>null!==e.state.scheduled&&(e.state.scheduled.visualState!==e.state.current.visualState||e.state.scheduled.updateRanges||e.state.scheduled.forceUpdate),e.isOneOf=(...e)=>t=>e.some((e=>e===t.state.current.visualState)),e.notAnyOf=(...e)=>t=>e.every((e=>e!==t.state.current.visualState)),e.canBeChanged=t=>n=>Boolean(t)&&o.applied===n.state.current.visualState?t===o.disposed:s.bZ.State.isBulkApplied(n.alert.state)||e.notAnyOf(o.applied,o.disposed)(n),e.isOrWillBe=e=>t=>null===t.state.scheduled?t.state.current.visualState===e:t.state.scheduled.visualState===e,e.willBe=e=>t=>null!==t.state.scheduled&&t.state.scheduled.visualState===e}(r||(r={})),function(e){e.updateRanges=function(e,t){return Object.assign(Object.assign({},e),{updateRanges:t})},e.forceUpdate=function(e,t){return Object.assign(Object.assign({},e),{forceUpdate:t})},e.updateVisualState=function(e,t){return Object.assign(Object.assign({},e),{visualState:t})},e.from=function(e){return{visualState:e,updateRanges:!1,forceUpdate:!1}}}(i||(i={})),function(e){e.initial="initial",e.highlighted="highlighted",e.visible="visible",e.faded="faded",e.hidden="hidden",e.success="success",e.applied="applied",e.disposed="disposed"}(o||(o={})),function(e){e.isApplied=function(t){return t===e.applied}}(o||(o={}))},16746:(e,t,n)=>{n.d(t,{v:()=>x});var r=n(71249),i=n(57050),o=n(40327),a=n(49524),s=n(25656),l=n(24645),c=n(87969),u=n(95195),d=n(5114),p=n(22232),m=n(83078),f=n(89943),h=n(68983),g=n(8125),y=n(81531),v=n(74660),b=n(17594),w=n(36156),S=n(59368);class x{constructor(e,t,n,r,s,l,c,p){this._alert=e,this._alertsService=t,this._alertRangeService=n,this._changeMarksInDEd=r,this._create=s,this._update=l,this._remove=c,this._onTransitionEnd=p,this._currentState=S.rG.from(S.Bd.initial),this._scheduledState=S.rG.from(S.Bd.visible),this.id=this._alert("id").id,this._marksMap=new Map,this._alertRef=this._alertsService.takeReference(this._alert("_alertRef"),"mark"),this._shouldInitMark=!0,this._tryToUpdateRangesInAlert=e=>{if(!e.to.updateRanges||!(0,o.pipe)(this._alertRangeService.hasNewRangesForUpdate(this.id),u.g_(i.jv,a.y)))return d.none;const t=(0,o.pipe)(this._alertRangeService.applyPendingRangesUpdate(this.id),u.Vn((e=>E("markAlert").error("cannot apply pending ranges",e))),d.fromEither,d.chain(a.y),d.filter((({addedHighlightedRanges:e,removedHighlightedRanges:t})=>e.length>0||t.length>0)));return(0,o.pipe)(t,d.map((e=>({commit:()=>e.removedHighlightedRanges[1](),ranges:{added:e.addedHighlightedRanges,removed:e.removedHighlightedRanges[0]}}))))},this._dispose=()=>{this._marksMap.clear(),u.wE.map(this._alertRef,(e=>e.dispose()))},this._disposeIfEmpty=()=>{0===this._marksMap.size&&this._dispose()},u.wE.mapLeft(this._alertRef,(e=>E("markAlert").warn("can not take alertRef",e)))}get state(){return{current:this._currentState,scheduled:this._scheduledState}}get alert(){return this._alert()}scheduleApply(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),(0,p.kG)(e!==S.Bd.initial,`Cannot schedule change ${this.id} from ${this._currentState.visualState} to initial state`),this._currentState.visualState!==S.Bd.initial||e!==S.Bd.disposed&&!S.Bd.isApplied(e)?this._scheduledState&&this._scheduledState.forceUpdate?this._scheduledState=S.rG.updateVisualState(this._scheduledState,e):this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=S.rG.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=S.rG.from(S.Bd.disposed),this._dispose()),this}scheduleUpdate(){this._throwWhenInFinaleState(),this._scheduledState=S.rG.updateRanges(this._scheduledState||this._currentState,!0)}scheduleForceUpdate(){this._throwWhenInFinaleState(),this._scheduledState=S.rG.forceUpdate(this._scheduledState||this._currentState,!0)}apply(){if(!S.Oe.isPending(this))return;this._throwWhenInFinaleState();const e=this._getTransition();(0,o.pipe)(this.change(),d.filter((e=>e.rawMark.length>0)),d.map((t=>{this._handleBasicEvent(t.rawMark),t.commit(),this._onTransitionEnd(e,this)})))}applyWith(e){const t=[this,...e];this._handleMultipleHighlights(t,(e=>e.change()))}markByIndex(e){try{return this._throwWhenInFinaleState(),this._shouldInitMark&&(this._shouldInitMark=!1,this.apply()),this._markbyIndex(e)}catch(e){return d.none}}get mark(){return this.markByIndex(0)}_iterateOverMarkAlerts(e,t){e.forEach((({change:e,ma:n})=>{e.rawMark.forEach((e=>{"create"===e.action?n._setMarkAndCheckFinaleState(e.id,(0,o.pipe)(t.created.get(e.id)||u.t$(new Error("Cannot get unknown mark")),d.fromEither)):"remove"===e.action&&n._removeMark(e.id)})),e.commit(),n._disposeIfEmpty()}))}_handleMultipleHighlights(e,t){const n=e.map((e=>[e,t(e)])).filter((([e,t])=>(0,o.pipe)(t,d.filter((t=>0!==t.rawMark.length||(E("markAlert").warn("rawAction must have rawMark array",{rawAction:t.action,state:Object.assign(Object.assign({},e.toJSON()),{alert:void 0})}),!1))),d.isSome))).map((([e,t])=>({ma:e,change:m.MH(t)})));if(0===n.length)return;const r=f.VS(n.map((e=>e.change.rawMark))),i=this._changeMarksInDEd(r);this._iterateOverMarkAlerts(n,i)}get _mark(){return this._markbyIndex(0)}_markbyIndex(e){return this._marksMap.size>e?0===e?this._marksMap.values().next().value:Array.from(this._marksMap.values())[e]:d.none}_setMarkAndCheckFinaleState(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)}_setMark(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)}_removeMark(e){this._marksMap.delete(e)}change(){(0,p.kG)(S.Oe.isPending(this),"Next state should be scheduled to change it",(()=>JSON.stringify({currentState:this._currentState,aid:this.id})));const e=this._commitTransition();return e.from.visualState!==e.to.visualState||e.to.forceUpdate||e.to.updateRanges?d.some(this._getRawActionForApply(e)):d.none}_handleBasicEvent(e){const t=this._changeMarksInDEd(e);e.forEach((e=>{if(e.action===l.v.Change.ActionType.remove)this._removeMark(e.id);else{const n=(0,o.pipe)(d.fromNullable(this._marksMap.get(e.id)),d.chain(a.y),d.alt((()=>(0,o.pipe)((e.action===l.v.Change.ActionType.create?t.created.get(e.id):t.updated.get(e.id))||u.t$(new Error("Cannot get unknown mark")),d.fromEither))));this._setMark(e.id,n)}})),this._disposeIfEmpty()}_getTransition(){return(0,p.kG)(S.Oe.isPending(this),"Next state should be scheduled to change it",(()=>JSON.stringify({currentState:this._currentState,aid:this.id}))),{from:this._currentState,to:this._scheduledState}}_commitTransition(){const e=this._getTransition();return this._currentState=Object.assign(Object.assign({},e.to),{updateRanges:!1,forceUpdate:!1}),this._scheduledState=null,e}_getRawActionForApply(e){if(e.from.visualState===S.Bd.initial)return(0,o.pipe)(this._tryToUpdateRangesInAlert(e),d.map((e=>e.commit()))),{action:"create",commit:s.Z,rawMark:this._getHighlightRanges((t=>this._create((()=>t),e)(t.meta.id)))};switch(e.to.visualState){case S.Bd.disposed:const t=S.Bd.isApplied(e.from.visualState)||v.bZ.State.isRemoved(this.alert.state)&&b.$.isApplicableAlert(this.alert)&&this._getAppliedRanges(i.Q1).length>0?this._getAppliedRanges(((e,t)=>({id:t().meta.id,range:t}))):this._getHighlightRanges((e=>({id:e.meta.id,range:()=>e}))),n=(0,o.pipe)(this._tryToUpdateRangesInAlert(e),d.map((({commit:e})=>e)),d.getOrElse((()=>i.Q1)));return{action:"remove",commit:n,rawMark:t.map((e=>this._remove(e.range)(e.id)))};case S.Bd.applied:const r=this._getHighlightRanges((e=>this._remove((()=>e))(e.meta.id)));return{action:"replace",commit:(0,o.pipe)(this._tryToUpdateRangesInAlert(e),d.map((({commit:e})=>e)),d.getOrElse((()=>i.Q1))),rawMark:[...r,...this._getAppliedRanges(((t,n)=>this._create(n,e)(n().meta.id)))]};default:const l=()=>v.bZ.State.isBulkApplied(this._alert("_getRawActionForApply").state)?this._getAppliedRanges(((e,t)=>t())):this._getHighlightRanges(a.y);return(0,o.pipe)(this._tryToUpdateRangesInAlert(e),d.map((({commit:t,ranges:n})=>this._getReplaceAction(e,l(),n.removed,t))),d.getOrElse((()=>({action:"update",commit:s.Z,rawMark:l().map((t=>this._update((()=>t),e)(t.meta.id)))}))))}}_getReplaceAction(e,t,n,r){return{action:"replace",commit:r,rawMark:[...n.map((e=>this._remove((()=>e))(e.meta.id))),...t.map((t=>this._create((()=>t),e)(t.meta.id)))]}}_getAppliedRanges(e){return(0,o.pipe)(this._alertRangeService.getAppliedRanges(this.id),u.g_((e=>(E("markAlert").error("cannot get applied ranges",{error:e.message,alert:b.$.snapshot(this._alert("_getAppliedRanges"))}),[])),r.Su(e)))}_getHighlightRanges(e){return(0,o.pipe)(this._alertRangeService.getHighlightRanges(this.id),u.g_((t=>(E("markAlert").warn("cannot get highlight ranges via range service",{error:t,alert:this._alert("_getHighlightRanges")}),(0,o.pipe)(this._alert("_getHighlightRanges_Fallback").getHighlightRanges(),r.UI(e)))),r.UI(e)))}_throwWhenNotAllowedState(e){const t=this._alert("_throwWhenNotAllowedState");(0,p.kG)(!!b.$.isApplicableAlert(t)||(!Boolean(e)||v.bZ.State.isBulkApplied(t.state)||!S.Bd.isApplied(e)),`Applied state isn't allowed for ${this.id}`)}_throwWhenInFinaleState(e){(0,p.kG)(Boolean(e)&&S.Oe.isOneOf(S.Bd.applied)(this)?e===S.Bd.disposed||v.bZ.State.isBulkApplied(this._alert("_throwWhenInFinaleState").state):S.Oe.notAnyOf(S.Bd.disposed)(this),`'${this._currentState.visualState}' MarkAlert '${this.id}' cannot be changed${Boolean(e)?` to '${e}' `:""}`)}toJSON(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:(0,o.pipe)(this._mark,d.map((e=>e.id)),d.toUndefined),range:(0,o.pipe)(this._mark,d.map((e=>e.range)),d.toUndefined)},alert:this._alert("toJSON")}}equals(e){return S.Oe.eq.equals(this,e)}hashCode(){return(0,w.AC)(this.id)}}!function(e){e.compareTo=e=>{const t=(0,h.W)(c.SV.distanceFrom)(e);return(e,n)=>(0,g.qu)(Math.min(...e.alert.getHighlightRanges().map(t)),Math.min(...n.alert.getHighlightRanges().map(t)))}}(x||(x={}));const E=(0,g.HP)(y.C8.Logging.getLogger)},25980:(e,t,n)=>{n.d(t,{v:()=>r});var r,i=n(57050),o=n(59443),a=n(5114),s=n(95195),l=n(22232),c=n(81531),u=n(60797),d=n(77176),p=n(66310),m=n(28043),f=n(17343),h=n(98403),g=n(91224),y=n(40151),v=n(38194),b=n(76974),w=n(24209),S=n(74238),x=n(4890);!function(e){let t;!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(t=e.Animation||(e.Animation={}));const n=c.C8.Logging.root.getLogger("AlignmentViewModel");function r(e,t){return(0,i.zG)(e,s.g_((({kind:e,reason:t})=>{switch(e){case"error":n.error("Cannot align card to mark",{reason:t});break;case"notFound":n.info("Item does not exist, alignment is canceled",{reason:t});break;default:(0,l.vE)(e)}return y.E}),(e=>b.of({mark:t,card:e}))))}e.alignMarkToItem=function(e,s){return({animation:l,suggestedPosition:c})=>({id:b,renderOptions:{features:w},activeHighlightIndex:E,activeAlert:I})=>(0,i.zG)(e.getMarkAlertPosition({alert:I,highlightIndex:E}),u.oA,d.U((e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(b,w.has(x.j.Features.showLabel),a.none,"cardContentTop")}))),p.w((({cardPosition:e,mark:t})=>r(e,t))),p.w((({card:e,mark:t})=>s.setCardPosition(b,w.has(x.j.Features.showLabel),!1,S.r.FromWindowTop.ISO.modify(S.L.concatC(-e.contentOffset))(t)).pipe(m.x(),f.h((0,i.zG)(c,a.filter((t=>s.willFitViewport(b,S.r.FromWindowTop.ISO.modify(S.L.concatC(-e.contentOffset))(t)))),a.getOrElse((()=>S.r.FromWindowTop.ISO.modify(S.L.concatC(e.contentOffset))(e.top)))))))),p.w((n=>e.moveAlertHighlightInViewport({alert:I,highlightIndex:E},n,l===t.ANIMATE_ALL?o.uq.fake:o.uq.none))),f.h(h.PU),g.K((e=>(n.error("Cannot align mark to card",e),y.E))),v.B())},e.alignItemToMark=function(t,s){return({animation:l,fitCardIntoViewport:c})=>({id:u,renderOptions:{features:m},activeAlert:E,activeHighlightIndex:I})=>(0,i.zG)(t.getMarkAlertPosition({alert:E,highlightIndex:I}),p.w(a.fold((()=>y.E),(e=>b.of(e)))),d.U((e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(u,m.has(x.j.Features.showLabel),a.some(e),"cardContentTop")}))),p.w((({cardPosition:e,mark:t})=>r(e,t))),p.w((({card:n,mark:r})=>w.T(s.setCardPosition(u,m.has(x.j.Features.showLabel),l===e.Animation.ANIMATE_ALL,S.r.FromWindowTop.ISO.modify(S.L.concatC(-n.contentOffset))(r)),h.Ft(t.moveAlertHighlightInViewport({alert:E,highlightIndex:I},S.r.FromWindowTop.ISO.modify(S.L.concatC(n.contentOffset))(n.top),l===e.Animation.ANIMATE_ALL?o.uq.initial:o.uq.none))(c)))),f.h(h.PU),g.K((e=>(n.error("Cannot align card to mark",e),y.E))),v.B())}}(r||(r={}))},52658:(e,t,n)=>{n.d(t,{eZ:()=>H,UC:()=>K});var r=n(57050),i=n(40327),o=n(49524),a=n(12447),s=n(22232),l=n(5114),c=n(95195),u=n(95574),d=n(83078),p=n(8125),m=n(55415),f=n(74660),h=n(66896),g=n(76974),y=n(77176),v=n(17343),b=n(93508),w=n(28043),S=n(40151),x=n(60797),E=n(66310),I=n(98403),k=n(598),C=n(83401),A=n(41398),T=n(85089),M=n(55721),O=n(95093),_=n(24209),P=n(16118),L=n(85985),N=n(25980),D=n(15646),R=n(74238),j=n(91402),F=n(35416),U=n(14990),z=n(99116);var B,G,W;!function(e){e.CARD_CONTENT_OFFSET_REM=3.4,e.WITH_LABEL_CARD_CONTENT_OFFSET_REM=e.CARD_CONTENT_OFFSET_REM+1,e.contentOffsetGetter=(t=e.CARD_CONTENT_OFFSET_REM,n=e.WITH_LABEL_CARD_CONTENT_OFFSET_REM)=>(e,r)=>Math.round((e?n:t)*r)}(B||(B={})),function(e){e.cardPositionGetter=(e,t)=>(n,o)=>{const a=new U.Db.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return(0,i.pipe)(e.view(F.nL.getLens).get(),c.Yo((()=>({kind:"error",reason:"Current lens is not WithItemsLensState"}))),c.tS((({items:e,id:t})=>(0,i.pipe)(e.get(n),c.Yo((()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`}))),c.UI((({value:e})=>(0,i.pipe)(o,l.fold((()=>(0,r.ls)(R.L.AbsTop.ISO.wrap,a.converters.absTopToViewportTop,a.converters.viewportToWindow)(e.positionState.absTop)),r.yR))))))))},e.cardPositionInViewportGetter=(e,t)=>(n,o)=>{const a=new U.Db.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return(0,i.pipe)(e.view(F.nL.getLens).get(),c.Yo((()=>({kind:"error",reason:"Current lens is not WithItemsLensState"}))),c.tS((({items:e,id:t})=>(0,i.pipe)(e.get(n),c.Yo((()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`}))),c.tS((({value:t})=>{return(0,i.pipe)(o,l.map(a.converters.windowToViewport),l.alt((()=>l.some((0,r.ls)(R.L.AbsTop.ISO.wrap,a.converters.absTopToViewportTop)(t.positionState.absTop)))),l.map((s=t,u=((e,t)=>(0,i.pipe)(t.get(e),l.map((({index:e})=>({before:(0,i.pipe)(t.getAt(e-1),l.map((e=>e.positionState.height)),l.getOrElse((()=>0))),after:(0,i.pipe)(t.getAt(e+1),l.map((e=>e.positionState.height)),l.getOrElse((()=>0)))}))),l.getOrElse((()=>({before:0,after:0})))))(n,e),d=a.viewport,e=>{const t=(0,z.v_)({cardTop:e,cardHeight:s.positionState.height,viewportHeight:d.height,padding:u});return R.L.FromViewportTop.ISO.modify(R.L.concatC(-t))(e)})),l.map(a.converters.viewportToWindow),c.Yo((()=>({kind:"error",reason:"Cannot get card position in viewport"}))));var s,u,d}))))))}}(G||(G={})),function(e){const t=(e,t,n,r)=>{const o=r.viewport.get(),a=r.scrollTop.get(),c=R.L.converters(a,R.r.FromWindowTop.ISO.unwrap(o.top),r.paddingTop.get());return u.vM((()=>(0,i.pipe)(F.nL.getLens(n),l.chain((t=>t.items.get(e))),l.map((e=>R.L.AbsTop.ISO.wrap(e.value.positionState.absTop))),l.map((e=>c.absTopToViewportTop(e))),l.fold((()=>{throw new s.ej("Cannot get offset for unknown card")}),(e=>{const n=c.windowToViewport(t);return R.L.FromViewportTop.ISO.unwrap(e)-R.L.FromViewportTop.ISO.unwrap(n)})))))};e.moveCardToPositionSyncGetter=(e,n)=>r=>(0,i.pipe)(t(r.id,r.position,e.get(),n),c.tS((e=>n.moveCardsBy(e,"moveCardToPositionAnimated")))),e.moveCardToPositionAnimatedGetter=(e,n)=>r=>(0,i.pipe)(t(r.id,r.position,e.get(),n),c.g_((e=>j._(e)),(e=>n.moveCardsByAnimated(e,"moveCardToPositionAnimated"))))}(W||(W={}));var H,K,$,V,Y=n(71841);class Q extends s.sH{}!function(e){e.cardSuggestedPositionGetter=(e,t)=>(n,r,o,a)=>{const s="cardTop"===a?0:t(r);return(0,i.pipe)(e(n,(0,i.pipe)(o,l.map(R.r.FromWindowTop.ISO.modify(R.L.concatC(-s))))),c.UI((e=>({top:e,contentOffset:s}))))},e.getSuperScrollMapper=(t,n,r)=>{const o=W.moveCardToPositionAnimatedGetter(t,n),a=W.moveCardToPositionSyncGetter(t,n),s=B.contentOffsetGetter();return{setCardPosition:(e,t,n,i)=>{const l={top:i,contentOffset:s(t,r.get())};return(n?o({id:e,position:i}):g.of(a({id:e,position:i})).pipe(y.U(u.MH))).pipe(v.h(l),b.O(l),w.x())},getCardSuggestedPosition:e.cardSuggestedPositionGetter(G.cardPositionGetter(t,n),(e=>s(e,r.get()))),getCardSuggestedPositionInViewport:e.cardSuggestedPositionGetter(G.cardPositionInViewportGetter(t,n),(e=>s(e,r.get()))),willFitViewport:(e,r)=>(0,i.pipe)(t.get(),(t=>!!F.nL.hasItems(t)&&((e,t)=>(n,r)=>{const o=new U.Db.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return(0,i.pipe)(e.currentLens.items,(e=>(0,i.pipe)(e.get(n),l.map((({value:e})=>0===(0,z.v_)({cardTop:o.converters.windowToViewport(r),cardHeight:e.positionState.height,viewportHeight:o.viewport.height,padding:{before:0,after:0}}))))),d.MH)})(t,n)(e,r))),isAboveViewportTop:(c=n,e=>R.r.FromWindowTop.ISO.modify(R.L.concatC(c.scrollTop.get()+c.paddingTop.get()))(e)<c.viewport.get().top)};var c}}(H||(H={})),function(e){e.getMapper=(e,t,n)=>({moveAlertHighlightInViewport:(t,n,r)=>e.ensureAlertHighlightInViewport(t,R.r.FromWindowTop.ISO.unwrap(n),r),getMarkAlertPosition:r=>(0,i.pipe)(e.getMarkByAlert(r),c.Yo((()=>new Q("getMarkByAlert returned O.none"))),c.tS((o=>(0,i.pipe)(o.getRect(),c.UI(a.n.relativeToViewport),c.UI((e=>e.top)),c.vx((()=>(n.debug("Cached alert is missing, falling back to flush"),(n=>(t.flushChanges(),(0,i.pipe)(e.getMarkByAlert(n),c.Yo((()=>new Error("getMarkByAlert returned O.none"))),c.tS((e=>(0,i.pipe)(e.getRect(),c.UI(a.n.relativeToViewport),c.UI((e=>e.top))))))))(r)))),c.UI(R.r.FromWindowTop.ISO.wrap)))),c.Vn((e=>(e instanceof Q||n.warn("Cannot getMarkAlertPosition",e),e))),l.fromEither,(e=>g.of(e)))})}(K||(K={}));!function(e){e.Mock=class{constructor(){this.alignCardToMark=()=>S.E,this.alignCardTo=()=>S.E,this.alignMarkTo=()=>S.E,this.alignMarkToCard=()=>S.E}}}($||($={})),function(e){let t,n;!function(e){let t;!function(e){e.below="below",e.above="above",e.intersects="intersects"}(t=e.RelativePosition||(e.RelativePosition={})),e.getRelativePosition=(e,n,r)=>n.top+r>e.bottom?t.below:e.top>n.bottom?t.above:t.intersects}(t||(t={})),e.createAlignmentOnTypingEffect=(e,t,n,r,o)=>{const a=e.view(F.nL.mapper((({currentLens:e})=>(0,i.pipe)(l.some(e),l.filter((0,z.Bk)(o)))))).pipe(y.U(l.chain(r),l.filter(o.isValidToAlign)),x.cp((e=>n.pipe(E.w(I.b2.rafScheduler),E.w((()=>t.alignCardToMark(e,N.v.Animation.NO_ANIMATION,!1)))))));return{id:"alignmentOnTyping",when:h.R.isWithAlertsId,what:F.nL.Effect.Applicator.create(a.pipe(k.c(C.C)))}},e.createAlignOnDisjointedAreasEffect=(e,n,a,c)=>{const u=e.view((0,r.ls)(F.nL.getLens,l.filter((e=>l.isNone(F.In.getActiveItem(e))&&e.isCardsHeightValid&&e.items.size>0)))),p=u.pipe(y.U(l.isSome),w.x(),E.w(I.Ft(a.changes.pipe(b.O(I.PU),E.w(I.b2.rafScheduler),y.U((()=>l.some((e=>{const t=e.viewport.getValue();return{top:Math.min(t.text.top,t.wrapper.top),bottom:t.text.bottom}})(a)))),y.U(l.filter((e=>e.top-e.bottom!=0)))))),A.M(u.pipe(y.U(l.map((({items:e})=>e)))),d.vB(((r,o)=>(0,i.pipe)(Y.YA(e,c),l.map((e=>({top:R.r.FromWindowTop.ISO.unwrap(e.top),bottom:R.r.FromWindowTop.ISO.unwrap(e.bottom)}))),l.chain((e=>(0,i.pipe)(((e,n,r)=>{const o=(0,i.pipe)(e.getAt(0),l.map((e=>e.positionState.height)),l.getOrElse((()=>0))),a=t.getRelativePosition(n,r,o);switch(a){case t.RelativePosition.above:return(0,i.pipe)(e.getAt(0),l.map((e=>({card:e,top:n.top}))));case t.RelativePosition.below:return(0,i.pipe)(e.getAt(0),l.map((e=>({card:e,top:n.bottom-e.positionState.height}))));case t.RelativePosition.intersects:return l.none;default:return(0,s.vE)(a)}})(o,r,e),l.map((({card:e,top:t})=>n.alignCardTo(e,R.r.FromWindowTop.ISO.wrap(t),N.v.Animation.NO_ANIMATION)))))),l.getOrElse((()=>S.E)))))),E.w(l.fold((()=>S.E),o.y)));return{id:"alignOnDisjointedAreas",when:h.R.isWithAlertsId,what:F.nL.Effect.Applicator.create(p.pipe(k.c(C.C)))}},e.createAlignOnResizeSideEffect=(e,t,n,r,o,a=I.b2.rafScheduler)=>{const s=e.view(F.nL.mapper((({currentLens:e,alertSource:t})=>l.some({currentLens:e,alertSource:t})))).view(l.filter((({currentLens:e})=>(0,z.Bk)(o)(e)))).view(l.chain((({currentLens:e,alertSource:t})=>(0,i.pipe)(r(e),l.filter(o.isValidToAlign),l.map((n=>({item:n,source:t,lensId:e.id}))))))),c=T.Qr.pipe(M.p(100),O.T(n),A.M(s,((e,t)=>t)),E.w(a),E.w(l.fold((()=>S.E),(({item:e})=>t.alignCardToMark(e,N.v.Animation.NO_ANIMATION,!1)))));return{id:"alignOnResizeSideEffect",when:h.R.isWithAlertsId,what:F.nL.Effect.Applicator.create(c.pipe(k.c(C.C)))}},function(e){e.skip="skip"}(n=e.SkipAlertActionSource||(e.SkipAlertActionSource={})),e.createAlignmentSideEffect=(t,n,r=((e,t)=>t),i,o,a,s,l=I.b2.rafScheduler)=>{const c=e._createAlignmentSource(t,n,r,i,o,a,s,l);return{id:"alignmentSideEffect",when:h.R.isWithAlertsId,what:F.nL.Effect.Applicator.create(c.pipe(k.c(S.E)))}},e._createAlignmentSource=(e,t,a=((e,t)=>t),s,c,u,h,g=I.b2.rafScheduler)=>{const x=(0,p.Kg)(D.lY.isAlertMinicardButtonClick,D.lY.isSwitchToClosestByViewport,D.lY.isAlertCardShow,D.eI.isCardExpand,D.lY.isBulkAcceptItemShow,D.lY.isBulkHighlight),k=_.T(e.pipe(y.U(F.nL.mapper((({currentLens:e,alertSource:t})=>l.some({currentLens:e,alertSource:t})))),b.O(l.none),y.U(l.map((e=>e.currentLens.id))),P.G(),L.h((([e,t])=>(0,i.pipe)(d.vB(((e,t)=>e!==t))(e,t),l.exists(o.y)))),v.h(l.none)),e.pipe(y.U(F.nL.mapper((({currentLens:e,alertSource:t})=>l.some({currentLens:e,alertSource:t})))),L.h(l.exists((({currentLens:e})=>(0,z.Bk)(c)(e)))),y.U(l.chain((({currentLens:e,alertSource:t})=>(0,i.pipe)(s(e),l.filter(c.isValidToAlign),l.map((n=>({item:n,source:t,lensId:e.id}))))))))).pipe(w.x((0,r.ls)(d.vB(((e,t)=>e.lensId===t.lensId&&e.source===t.source&&e.item.activeAlert.id===t.item.activeAlert.id&&e.item.visualState.transition.type===t.item.visualState.transition.type&&e.item.activeHighlightIndex===t.item.activeHighlightIndex)),l.exists(o.y)))),T=(0,p.Kg)(D.lY.isBulkHighlight,D.lY.isAlertMinicardButtonClick),M=t.pipe(L.h(x),y.U(l.some),b.O(l.none),P.G(),L.h((0,r.ls)((0,r.og)(d.vB(((e,t)=>!D.lY.isAlertCardShow(t)||!D.lY.isAlertMinicardButtonClick(e)))),l.getOrElse(r.jv))),y.U((([,e])=>(0,i.pipe)(e,l.filter(T)))),b.O(l.none)).pipe(E.w((e=>k.pipe(L.h(l.exists((e=>e.source===f.l$.sidebar))),y.U(l.chain((t=>l.some(Object.assign(Object.assign({},t),{clickPoint:(0,i.pipe)(e,l.map(m.ei("clickPoint")))}))))))))),O=k.pipe(L.h(l.exists((e=>e.source!==f.l$.sidebar))),y.U((e=>(0,i.pipe)(e,l.chain((e=>l.some(Object.assign(Object.assign({},e),{clickPoint:l.none}))))))));return _.T(M,O).pipe(b.O(l.none),P.G(),y.U((([e,t])=>(0,i.pipe)(t,l.map((n=>({lensId:n.lensId,card:n.item,source:n.source,animate:(0,i.pipe)(e,d.wo((({lensId:e})=>e===n.lensId))),clickPoint:(0,i.pipe)(t,l.chain(m.ei("clickPoint")),l.map((0,r.ls)(m.ei("y"),R.r.FromWindowTop.ISO.wrap)))})))))),E.w(l.fold((()=>S.E),g)),A.M(e),E.w((([{card:e,source:t,animate:r,clickPoint:o,lensId:s},l])=>(0,i.pipe)(a(e,t),(t=>F.nL.hasItems(l)&&l.currentLens.items.has(e.id)&&s===l.currentLens.id&&t!==n.skip?((e,t,n,r)=>{if(n===f.l$.text)return(0,i.pipe)(e,h({animation:t?N.v.Animation.ANIMATE_ALL:N.v.Animation.NO_ANIMATION,fitCardIntoViewport:!0}));if(n===F.h8.forceText)return(0,i.pipe)(e,h({animation:N.v.Animation.NO_ANIMATION,fitCardIntoViewport:!1}));{const o=n===f.l$.sidebar?t?N.v.Animation.ANIMATE_ALL:N.v.Animation.ANIMATE_MARK:N.v.Animation.NO_ANIMATION;return(0,i.pipe)(e,u({animation:o,suggestedPosition:r}))}})(e,r,t,o):C.C)))))}}(V||(V={}))},54466:(e,t,n)=>{n.d(t,{sU:()=>be,dv:()=>ve,Xx:()=>Ae});var r={};n.r(r),n.d(r,{handleGbPrompt:()=>te,sendToIdeasGallery:()=>ee,sendToSignIn:()=>X});var i,o=n(11064),a=n(57050),s=n(40327),l=n(32952),c=n(38983),u=n(63513),d=n(5114),p=n(22232),m=n(83078),f=n(73975),h=n(55415),g=n(95195),y=n(8125),v=n(31668),b=n(71249),w=n(59312);function S(e,t){return{map:function(n,r){return e.map(n,(function(e){return t.map(e,r)}))}}}function x(e){var t,n,r=(t=e,n=d.Applicative,{map:S(t,n).map,of:function(e){return t.of(n.of(e))},ap:function(e,r){return t.ap(t.map(e,(function(e){return function(t){return n.ap(e,t)}})),r)}}),i=e.of(d.none);return{map:r.map,ap:r.ap,of:r.of,chain:function(t,n){return e.chain(t,(0,d.fold)((function(){return i}),n))},alt:function(t,n){return e.chain(t,(0,d.fold)(n,(function(t){return e.of((0,d.some)(t))})))},fold:function(t,n,r){return e.chain(t,(0,d.fold)(n,r))},getOrElse:function(t,n){return e.chain(t,(0,d.fold)(n,e.of))},fromM:function(t){return e.map(t,d.some)},none:function(){return i}}}!function(e){var t;e.URI="IOOption",e.ioOption=(0,w.pi)({URI:e.URI},x(o.io)),t=(0,s.pipeable)(e.ioOption),e.map=t.map,e.chain=t.chain,e.ap=t.ap,e.alt=t.alt,e.apFirst=t.apFirst,e.apSecond=t.apSecond,e.of=e.ioOption.of,e.fold=function(t,n){return function(r){return e.ioOption.fold(r,t,n)}},e.fromM=e.ioOption.fromM}(i||(i={}));var E=n(81531),I=n(46680),k=n(33678),C=n(74660),A=n(79227),T=n(66896),M=n(15646),O=n(598),_=n(40151),P=n(76974),L=n(66310),N=n(91402),D=n(77176),R=n(28043),j=n(60797),F=n(44586),U=n(83401),z=n(9922),B=n(77843),G=n(93508),W=n(95093),H=n(85985),K=n(36919),$=n(95983),V=n(2834),Y=n(67434),Q=n(38194),Z=n(5920),q=n(25980),J=n(24209);const X=(e,t)=>(0,a.ls)(H.h((e=>e.type===M.lY.Type.toSignIn)),D.U((()=>n=>(e.actions.openUrl(new v.Z(t.funnel.signin).addParams({utm_medium:"internal",utm_source:"upHook",utm_campaign:"editorDenalianonymousUserGenericSignInPrompt"})),n)))),ee=(e,t)=>(0,a.ls)(H.h(M.lY.isOpenIdeasGallery),V.b((()=>e.actions.openPopup(new v.Z(t.ideas.galleryURL)))),O.c(_.E)),te=(e,t,n)=>r=>J.T((0,s.pipe)(r,H.h(M.lY.isGbPromptShow),V.b((e=>ne(e,n))),O.c(_.E)),(0,s.pipe)(r,H.h(M.lY.isGbPromptApply),V.b((r=>re(e,t,r,n))),O.c(_.E)),(0,s.pipe)(r,H.h(M.lY.isGbPromptCreateRule),V.b((e=>ie(e,n))),O.c(_.E)),(0,s.pipe)(r,H.h(M.lY.isGbPromptDismiss),V.b((e=>oe(e,n))),O.c(_.E))),ne=({patternName:e},t)=>t.onShow(e),re=(e,t,n,r)=>C.BY.isVox(n.gbPrompt)?ae(e,t,n,r):ce(e,t,n,r),ie=(e,t)=>C.BY.isVox(e.gbPrompt)?pe(e,t):he(),oe=(e,t)=>C.BY.isVox(e.gbPrompt)?ge(e,t):ye(e,t),ae=(e,t,n,r)=>"redirect"===n.gbPrompt.promptType?se(e,t,n,r):le(),se=(e,t,{gbPrompt:{styleGuideId:n},source:r,target:i,patternName:o},a)=>{e.actions.openPopup(new v.Z(t.account.styleGuide).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",action:"createRule",source:r,target:i,styleGuideId:n})),a.onAccept(o)},le=()=>{},ce=(e,t,n,r)=>"redirect"===n.gbPrompt.promptType?ue(e,t,n,r):de(n,r),ue=(e,t,{gbPrompt:n,patternName:r},i)=>{e.actions.openPopup(new v.Z(t.account.writingStyle).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",categoryTitle:n.categoryTitle})),i.onAccept(r)},de=({patternName:e},t)=>t.onAccept(e),pe=(e,t)=>"redirect"===e.gbPrompt.promptType?me():fe(e,t),me=()=>{},fe=({patternName:e},t)=>t.onAccept(e),he=()=>{},ge=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e),ye=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e);var ve,be,we=n(17594),Se=n(26027),xe=n(20594),Ee=n(16892),Ie=n(48521),ke=n(35416),Ce=n(6100);!function(e){const t=(e,t,n,r)=>(0,s.pipe)(r((t=>(t.lensId===e.id||T.R.isMainLens(e.id))&&!C.bZ.isPremium(t)),"middleOfTheViewport"),d.fold((()=>_.E),(r=>(0,s.pipe)(n(e),d.filter((e=>e.activeAlert.id===r.alert.id)),d.fold((()=>P.of(r)),(e=>((e,n)=>(0,s.pipe)(t,d.map((t=>t.alignMarkToCard(e,q.v.Animation.ANIMATE_ALL,d.none).pipe(O.c(_.E)))),d.getOrElse((()=>P.of(n)))))((0,a.MZ)(e),r)))))));e.changeAlertEffect=(e,n,r,i,o,a,l,c)=>({id:"changeAlertEffect",when:T.R.isWithAlertsId,what:ke.nL.Effect.SwitchAlert.create(n.actionEvents.pipe(L.w((n=>{const u=e.get();if(!ke.nL.hasCards(u))return N._(new p.ej("Cannot update state without cards"));switch(n.type){case M.lY.Type.alertMinicardButtonClick:return(0,s.pipe)(o.getRegistered(n.alertHighlight.alert.id),d.fold((()=>(c.error("somehow we got click on non registered alert",{alert:we.$.snapshot(n.alertHighlight.alert),alertInRepo:(0,s.pipe)(o.getById(n.alertHighlight.alert.id),d.map(we.$.fromModel),d.map(we.$.snapshot)),state:ke.nL.snapshot(xe.Mq.snapshot,i)(u)}),_.E)),(()=>P.of(n.alertHighlight))));case M.lY.Type.cardMatchesNavigationButtonClick:const e=n.transitionTo;switch(e.kind){case"anotherAlert":return(0,s.pipe)("right"===n.direction?r.nextAlert(e.card):(0,s.pipe)(r.prevAlert(e.card),m.vx(r.anyRegisteredAlert(e.card))),d.fold((()=>_.E),(e=>P.of({alert:e,highlightIndex:0}))));case"sameAlert":return(0,s.pipe)(o.getRegistered(e.card.activeAlert.id),d.fold((()=>_.E),(()=>P.of({alert:e.card.activeAlert,highlightIndex:e.highlightIndex}))));default:return(0,p.vE)(e)}case M.lY.Type.switchToClosestByViewport:return t(u.currentLens,a,i,l);default:return _.E}})),D.U((e=>({alertHighlight:e,alertSource:C.l$.sidebar,options:{order:"lensOrder"}})))))}),e.createSendActiveAlertFeedbacksEffect=function(e,t,n,r,i){const o=e.pipe(D.U(ke.nL.getActiveAlert(t)),R.x(d.getEq(f.f7(((e,t)=>we.$.eq.equals(e,t)&&e.patternName===t.patternName))).equals),D.U((0,a.ls)(d.map(h.ei("id")),d.chain(r.getValidForFeedback))),j.cp((t=>F.y.create((()=>((0,s.pipe)(r.getValidForFeedback(t.id),m.bw((()=>(0,s.pipe)(n.applyFeedback(t.id,{kind:u.PZ.LOOKED,subtype:A.J.getSubTypeFromLens(e.get().currentLens.id)},C.l$.sidebar),g.g_((e=>i.error("Failed to send LOOKED feedback",e)),y.Q1))))),()=>(0,s.pipe)(r.getValidForFeedback(t.id),m.bw((()=>(0,s.pipe)(n.applyFeedback(t.id,{kind:u.PZ.CLOSED,subtype:A.J.getSubTypeFromLens(e.get().currentLens.id)},C.l$.sidebar),g.g_((e=>i.error("Failed to send CLOSED feedback: ",e)),y.Q1)))))))))));return{id:"sendActiveAlertFeedbacksEffect",when:a.W8,what:ke.nL.Effect.Applicator.create(o.pipe(O.c(U.C)))}}}(ve||(ve={}));class Ae{constructor(e,t,n,r,i,o,c,f,h,v,b,w,S,x=new k.A,T={bufferTransitions:!0,showGbPrompt:!1},O=y.Q1){this._ops=e,this._navigationEvents=t,this._cardFactory=n,this._alertsService=r,this._alertsReader=i,this._markOnboardingAsSeen=o,this._markMuteQuotedAdviceAsDismissed=c,this._sendToUrlExperiment=h,this._getActiveItemWithAlert=b,this._checksFeedCapabilities=w,this._lensState=S,this._platformEnvironment=x,this._settings=T,this._setDocumentCitationStyle=O,this._log=E.C8.Logging.getLogger("CardsViewModelImpl",I.i.DEBUG),this._subs=new z.w.Keeper,this._flushCompleteTransition=new l.xQ,this._flushPositionAnimation=new l.xQ,this.actionEvents=new l.xQ,this.completePositionAnimation=new l.xQ,this.changePosition=new l.xQ,this._transitionBuffer=B.F(100).pipe(G.O(0),W.T(this._flushCompleteTransition)),this._positionAnimationBuffer=B.F(100).pipe(G.O(0),W.T(this._flushPositionAnimation)),this._startTransitionStateChanges=this.actionEvents.pipe(H.h(M.eI.isStartTransitionTo),D.U((e=>t=>be.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,e.transition]]),t)))),this._completeTransitionStateChanges=this.actionEvents.pipe(H.h(M.eI.isCompleteTransitionTo),this._settings.bufferTransitions?K.f(this._transitionBuffer):D.U((e=>[e])),H.h(y.Dw),D.U((e=>t=>{const n=t.currentLens,r=this._applyCompleteVSChange(n,e.map((e=>[e.id,e.transitionId])));return this._log.isEnabled(I.i.TRACE)&&this._log.trace("batch transition complete",{events:e,diff:$.aW.diff(n.items,r.items)}),ke.nL.Prism.getLens().set(r,t)}))),this._changePositionEffect=this.changePosition.pipe(D.U((({id:e,height:t})=>n=>{const r=(0,s.pipe)(Z.l.update(n.currentLens.items,e,(e=>this._checksFeedCapabilities.changePosition(Ee.s.PositionState.changeHeight(e.positionState,t))(e))),g.g_((()=>n.currentLens.items),a.yR));return be.itemsLens.set(r,n)}))),this._transitionEndStateChanges=this.completePositionAnimation.pipe(K.f(this._positionAnimationBuffer),H.h(y.Dw),D.U((e=>t=>{const n=t.currentLens.items,r=e.map((e=>[e,!1])).reduce(((e,[t,n])=>(0,s.pipe)(Z.l.update(e,t,(e=>this._checksFeedCapabilities.changePosition(Ee.s.PositionState.changeAnimationInProgress(e.positionState,n))(e))),g.g_((()=>e),a.yR))),n);return be.itemsLens.set(r,t)}))),this._switchToNextChanges=this.actionEvents.pipe(H.h((e=>e.type===M.lY.Type.switchToNext)),D.U((()=>e=>e.patch({currentLens:(0,s.pipe)(ke.nL.hasItems(e)?this._checksFeedCapabilities.findNextAlert(e.currentLens):d.none,d.fold((()=>(0,s.pipe)(ke.nL.getActiveAlert(this._getActiveItemWithAlert)(e),d.fold((()=>{throw new p.ej("Can not switch from non-existing card")}),(t=>this._checksFeedCapabilities.release(t)(e.currentLens))))),(t=>ke.nL.hasItems(e)?this._checksFeedCapabilities.selectItemByAlert(t)(e.currentLens):e.currentLens))),switchOrder:"lensOrder",alertSource:C.l$.sidebar})))),this._dismissMuteQuotedAdvice=this.actionEvents.pipe(H.h(M.lY.isDismissMuteQuotedAdvice),V.b(this._markMuteQuotedAdviceAsDismissed),D.U((()=>e=>{const t=e.currentLens.items.filter((0,a.ls)(this._checksFeedCapabilities.hasActiveAlert,d.map((e=>e.alert)),d.exists(we.$.isInQuotes))).keys().map((e=>[e,!1])).reduce(((e,[t])=>(0,s.pipe)(Z.l.update(e,t,this._cardFactory.hideMuteQuotedAdvice),g.g_((()=>e),a.yR))),e.currentLens.items);return be.itemsLens.set(t,e)}))),this._changeUserInput=this.actionEvents.pipe(H.h(M.lY.isChangeUserInput),V.b((({alertId:e,userInput:t})=>{this._alertsService.changeGapValue(e,t)})),D.U((({cardId:e,userInput:t})=>n=>{const r=(0,s.pipe)(n.currentLens.items.update(e,this._checksFeedCapabilities.updateUserInput(Boolean(t)?d.some(t):d.none)),g.g_((()=>n.currentLens.items),a.yR));return be.itemsLens.set(r,n)}))),this._shortenItDismissEdit=this.actionEvents.pipe(H.h(M.ut.isDismissEdit),D.U((({alertId:e,group:t,itemId:n})=>r=>(0,s.pipe)(this._alertsService.dismissShortenItTransformGroup(e,t),g.UI((e=>({newAlert:e,itemId:n}))),g.Zl((({newAlert:e,itemId:t})=>Z.l.update(r.currentLens.items,t,this._checksFeedCapabilities.updateWithAlerts([e])))),g.g_((e=>(this._log.error("Error updating card/alert with dismissed transform groups.",e),r)),(e=>be.itemsLens.set(e,r))))))),this._focusChecksFeedItem=this.actionEvents.pipe(H.h(M.lY.isMiniItemClick),D.U((e=>t=>t.patch({currentLens:(0,s.pipe)(t.currentLens.items.find((t=>t.id===e.id)),d.fold((()=>(this._log.error("Can not switch from non-existing item"),t.currentLens)),(()=>(0,a.MZ)((0,s.pipe)(t.currentLens,this._checksFeedCapabilities.selectItemById(e.id)))))),switchOrder:"lensOrder",alertSource:C.l$.sidebar})))),this._collapseChecklistItem=this.actionEvents.pipe(H.h(M.lY.isChecklistItemCollapseButtonClick),D.U((()=>e=>e.patch({currentLens:ke.nL.hasItems(e)?this._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:C.l$.sidebar})))),this._toneAIChangeToneAlternative=this.actionEvents.pipe(H.h(M.lY.isToneAIChangeToneAlternativeAction),D.U((({itemId:e,alertId:t,selectedToneAlternativeIdx:n})=>(0,s.pipe)(this._alertsService.changeToneAIToneAlternative(t,n),g.UI((t=>({newAlert:t,itemId:e})))))),D.U((e=>this._updateToneAICard(e)))),this._synfonyDrilldown=this.actionEvents.pipe(H.h(M.GM.isDrilldown),D.U((({cardId:e,wordIndex:t})=>n=>(0,s.pipe)(Z.l.update(n.currentLens.items,e,(e=>{const n=e;return Se.X.changeSynfonySelection((0,s.pipe)(n.synfonySelection,d.getOrElse((()=>[])),(e=>d.some(e.concat([t])))))(n)})),g.g_((()=>n),(e=>ke.nL.Prism.getLens().compose(Ce.v.Prism.items).set(e,n))))))),this._synfonyBack=this.actionEvents.pipe(H.h(M.GM.isBack),D.U((({cardId:e})=>t=>(0,s.pipe)(Z.l.update(t.currentLens.items,e,(e=>{const t=e;return Se.X.changeSynfonySelection((0,s.pipe)(t.synfonySelection,d.map((e=>e.slice(0,-1)))))(t)})),g.g_((()=>t),(e=>ke.nL.Prism.getLens().compose(Ce.v.Prism.items).set(e,t))))))),this._sendToUrl=(0,s.pipe)(this._sendToUrlExperiment,d.map((e=>Object.entries(e).filter((([e])=>"handleGbPrompt"!==e||this._settings.showGbPrompt)).map((([e,t])=>[t(this.actionEvents),e]))))),this._sendFeedback=(e,t)=>(0,s.pipe)(e,d.fromPredicate(this._alertsReader.isValidForFeedback),m.bw((()=>(0,s.pipe)(this._alertsService.applyFeedback(e,Object.assign(Object.assign({},t),{subtype:A.J.getSubTypeFromLens(this._lensState.get().currentLens.id)}),C.l$.sidebar),g.g_((e=>this._log.error("error calling alert service to send a feedback",e)),y.Q1))))),this._showSurveyForm=new l.xQ,this._showSurveyFormEffect=(0,s.pipe)(this._showSurveyForm,D.U((e=>t=>be.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,"survey"===e.formType?Object.assign({type:"feedback_form",formType:"survey",clockwise:!0,survey:e.survey},e.submitActionType===M.lY.Type.alertApplyFormSubmit?{submitActionType:M.lY.Type.alertApplyFormSubmit,alertApplyActionProps:e.alertApplyActionProps}:{submitActionType:M.lY.Type.alertIgnoreFormSubmit}):{type:"feedback_form",formType:"gbPrompt",clockwise:!0,gbPrompt:e.gbPrompt,alertApplyActionProps:e.alertApplyActionProps}]]),t)))),this._showMutedAlertSuccessEffect=this.actionEvents.pipe(H.h(M.lY.isMuteCategoryAction),D.U((e=>t=>be.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"muted",clockwise:!0}]]),t)))),this._undoMutedAlertEffect=this.actionEvents.pipe(H.h(M.lY.isUndoMuteCategoryAction),D.U((e=>t=>be.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"focused",clockwise:!0}]]),t)))),this._handleAlertIgnore=(0,a.ls)(Te((({alertId:e,drilldownSuggestionIds:t})=>()=>this._sendFeedback(e,{kind:u.PZ.IGNORE,drilldownSuggestionIds:t})),(e=>()=>this._showSurveyForm.next(e)),this._settings.showGbPrompt),(e=>this.actionEvents.pipe(H.h(M.lY.isAlertIgnoreAction)).subscribe((t=>e(t)())))),this._handleApplyAlerts=(0,a.ls)(Te((e=>()=>this._applyAlert(e)),(e=>()=>this._showSurveyForm.next(e)),this._settings.showGbPrompt),(e=>this.actionEvents.pipe(H.h(M.lY.isAlertApplyAction)).subscribe((t=>e(t)())))),this.hovered=this.actionEvents.pipe(H.h(M.lY.isHoverAction),V.b((()=>this._ops.flush())),Y.R(((e,t)=>"hover"===t.kind?d.some(t.id):(0,s.pipe)(e,d.filter((e=>e!==t.id)))),d.none),Q.B()),this.flushTransitionTo=()=>this._flushCompleteTransition.next(),this.flushPositionAnimation=()=>this._flushPositionAnimation.next(),this._subs.push(this._handleAlertFeedbacks(),this._applyTakeawayFeedbacks(),this._sendTakeawayFeedbacks(),this._handleIgnoreFormSubmit(),this._handleApplyFormSubmit(),this._handleGbPromptDismiss(),this._handleGbPromptApply(),this._handleAlertIgnore(v),this._handleAlertResolve(),this._handleApplyAlerts(v),this._dismissAlertsBatch(),this._newFeatureSeen(),this._handleDrilldown(),this._handleSnippetsOpenExternalLink(),this._handleEssayDetectionSetAcademicDomainAndCitationStyle()),(0,s.pipe)(f,m.bw((({model:e,openSuggestionsManagement:t})=>this._subs.push(this._handleCommitMuteCategories(e),this._handleSuggestionsManagementClick(t)))))}_applyStartVSChange(e,t){return t.reduce(((e,[t,n])=>(0,s.pipe)(Z.l.update(e,t,(e=>this._checksFeedCapabilities.transitionTo(n)(e))),g.g_((()=>e),a.yR))),e)}_applyCompleteVSChange(e,t){return t.reduce(((e,[t,n])=>(0,s.pipe)(e.items.get(t),d.map((({value:e})=>e)),d.fold((()=>e),(r=>Ie.o.isAnimatable(r)&&"removed"===r.visualState.transition.type?this._checksFeedCapabilities.removeItemById(t)(e):(0,s.pipe)(Z.l.update(e.items,t,(e=>Ie.o.isAnimatable(e)&&e.visualState.transitionId===n?this._checksFeedCapabilities.completeTransition(n)(e):e)),g.g_((()=>e),(t=>Ce.v.Prism.items.set(t,e)))))))),e)}_handleSnippetsOpenExternalLink(){return this.actionEvents.pipe(H.h(M.lY.isSnippetsOpenExternalLink)).subscribe((({externalLink:e})=>this._platformEnvironment.actions.openPopup(new v.Z(e))))}_updateToneAICard(e){return t=>(0,s.pipe)(e,g.Zl((({newAlert:e,itemId:n})=>Z.l.update(t.currentLens.items,n,this._checksFeedCapabilities.updateWithAlerts([e])))),g.g_((e=>(this._log.error("Error updating card with ToneAI alert.",e),t)),(e=>ke.nL.Prism.getLens().compose(Ce.v.Prism.items).set(e,t))))}_handleAlertFeedbacks(){return this.actionEvents.pipe(H.h(M.lY.isAlertFeedbackAction)).subscribe((({alertId:e,feedbackType:t})=>this._sendFeedback(e,{kind:t})))}_applyTakeawayFeedbacks(){return this.actionEvents.pipe(H.h(M.lY.isTakeawayDetectionFeedbackAction)).subscribe((({alertId:e,type:t})=>this._alertsService.changeTakeawayFeedback(e,t===M.lY.Type.takeawayCorrectlyDetected?C.TO.correctlyDetected:t===M.lY.Type.takeawayIncorrectlyDetected?C.TO.incorrectlyDetected:(0,p.vE)(t))))}_sendTakeawayFeedbacks(){return this.actionEvents.pipe(H.h(M.lY.isTakeawayAction)).subscribe((e=>{switch(e.type){case M.lY.Type.takeawayCorrectlyDetected:return e.isLikelyToBeRead?this._sendFeedback(e.alertId,{kind:u.PZ.ACKNOWLEDGED,text:e.takeawayText}):this._sendFeedback(e.alertId,{kind:u.PZ.ACCEPTED,replacementText:e.takeawayText});case M.lY.Type.takeawayIncorrectlyDetected:return this._sendFeedback(e.alertId,{kind:u.PZ.IGNORE});case M.lY.Type.takeawayDismiss:return this._sendFeedback(e.alertId,{kind:u.PZ.IGNORE,pnameQualifier:e.isLikelyToBeRead?u.N_.likelyToBeReadTakeaway:u.N_.unlikelyToBeReadTakeaway});case M.lY.Type.takeawayResolve:return this._sendFeedback(e.alertId,{kind:u.PZ.ACKNOWLEDGED,pnameQualifier:e.isLikelyToBeRead?u.N_.likelyToBeReadTakeaway:u.N_.unlikelyToBeReadTakeaway});default:(0,p.vE)(e)}}))}_handleEssayDetectionSetAcademicDomainAndCitationStyle(){return this.actionEvents.pipe(H.h(M.Wh.isSetAcademicDomainAndCitationStyleAction)).subscribe((({citationStyle:e})=>{this._setDocumentCitationStyle(e)}))}_handleAlertResolve(){return this.actionEvents.pipe(H.h(M.lY.isAlertResolveAction)).subscribe((({alertId:e})=>this._sendFeedback(e,{kind:u.PZ.ACKNOWLEDGED})))}_handleIgnoreFormSubmit(){return this.actionEvents.pipe(H.h(M.lY.isAlertIgnoreFeedbackFormSubmit)).subscribe((({alertId:e,reason:t})=>{this._sendFeedback(e,{kind:u.PZ.IGNORE,reason:t})}))}_handleApplyFormSubmit(){return this.actionEvents.pipe(H.h(M.lY.isAlertApplyFeedbackFormSubmit)).subscribe((e=>{this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{reason:e.reason})),e.alertApplyActionProps.actionsToDispatchAfterSurvey&&e.alertApplyActionProps.actionsToDispatchAfterSurvey.forEach((e=>this.actionEvents.next(e)))}))}_handleGbPromptDismiss(){return this.actionEvents.pipe(H.h(M.lY.isGbPromptDismiss)).subscribe((e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:{feedback:u.Kd.DISMISSED,source:e.source,target:e.target,description:e.description}}))))}_handleGbPromptApply(){return this.actionEvents.pipe(H.h(M.lY.isGbPromptApply)).subscribe((e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:{feedback:u.Kd.ACCEPTED,source:e.source,target:e.target,description:e.description}}))))}_handleCommitMuteCategories(e){return this.actionEvents.pipe(H.h(M.lY.isMutedAlertCardDismissedAction)).subscribe((t=>(0,s.pipe)(e.muteCategories([t.categoryId]),g.g_((e=>this._log.error("error calling categories model to commit muted category",e)),y.Q1))))}_handleSuggestionsManagementClick(e){return this.actionEvents.pipe(H.h(M.lY.isMutedAlertSuggestionsManagementClick)).subscribe(e)}_applyAlert(e){return(0,s.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:C.l$.sidebar,feedbackSubtype:A.J.getSubTypeFromLens(this._lensState.get().currentLens.id),drilldownSuggestionIds:e.drilldownSuggestionIds,reason:e.reason,gbPrompt:e.gbPrompt}),g.g_((e=>this._log.error("error calling alert service to apply an alert",e)),y.Q1))}_handleDrilldown(){return this.actionEvents.pipe(H.h(M.GM.isDrilldown)).subscribe((e=>this._sendFeedback(e.alertId,{kind:u.P2.DRILLDOWN,drilldownSuggestionIds:e.drilldownSuggestionIds,alternativeIndex:e.alternativeId})))}_dismissAlertsBatch(){return this.actionEvents.pipe(H.h(M.FG.isDismissAlertsBatchAction)).subscribe((e=>(0,s.pipe)(this._alertsService.dismissBatch(e.alerts,A.J.getSubTypeFromLens(this._lensState.get().currentLens.id)),g.g_((e=>this._log.error("error calling alert service to dismiss alerts batch",e)),y.Q1))))}_newFeatureSeen(){return this.actionEvents.pipe(H.h(M.lY.isOnboardingClose)).subscribe((e=>(0,s.pipe)(this._markOnboardingAsSeen(e.value))))}getApplicatorEffects(){return(0,s.pipe)([[this._startTransitionStateChanges,"startTransitionStateChanges"],[this._completeTransitionStateChanges,"completeTransitionStateChanges"],[this._changePositionEffect,"changePositionEffect"],[this._transitionEndStateChanges,"transitionEndStateChanges"],[this._switchToNextChanges,"switchToNextChanges"],[this._dismissMuteQuotedAdvice,"dismissMuteQuotedAdvice"],[this._changeUserInput,"changeUserInput"],[this._toneAIChangeToneAlternative,"toneAIChangeToneAlternative"],[this._synfonyDrilldown,"synfonyDrilldown"],[this._synfonyBack,"synfonyBack"],[this._focusChecksFeedItem,"focusChecksFeedItem"],[this._collapseChecklistItem,"collapseChecklistItem"],[this._shortenItDismissEdit,"shortenItDismissEdit"],[this.actionEvents.pipe(H.h(M.lY.isNavigation),V.b(this._navigationEvents),O.c(_.E)),"navigationEvents"],...(0,s.pipe)(this._sendToUrl,d.getOrElse((0,a.a9)([]))),[this._showSurveyFormEffect,"showIgnoreFormEffect"],[this._showMutedAlertSuccessEffect,"showMutedAlertSuccessEffect"],[this._undoMutedAlertEffect,"undoMutedAlertEffect"]],b.UI((([e,t])=>({id:`cardsViewModel.effects.${t}`,when:T.R.isWithAlertsId,what:ke.nL.Effect.Applicator.create(e)}))))}dispose(){this._subs.dispose()}}!function(e){e.itemsLens=ke.nL.Prism.getLens().compose(Ce.v.Prism.items);e.Mock=class{constructor(){this.animate=c.h.create(!0),this.clockwise=c.h.create(!0),this.toggleAnimations=()=>this.animate.modify((e=>!e)),this.completePositionAnimation=new l.xQ,this.actionEvents=new l.xQ,this.flushTransitionTo=y.Q1,this.sideEffect={id:"cardsViewModelMock",when:T.R.isWithAlertsId,what:ke.nL.Effect.Applicator.create(_.E)},this.changePosition=new l.xQ,this.dispose=y.Q1}},e.Experiments=r}(be||(be={}));const Te=(e,t,n)=>r=>a=>(0,s.pipe)(Me(a,n),o.of,i.chain((e=>(0,s.pipe)(r,o.UI((t=>t?d.none:d.some(e)))))),i.fold((()=>e(a)),(e=>t(e)))),Me=(e,t)=>M.lY.isAlertApplyAction(e)?Oe(e,t):_e(e),Oe=(e,t)=>(0,s.pipe)(e.eligibleForGbPrompt,d.filter((0,a.a9)(t)),d.map((t=>({id:e.id,formType:"gbPrompt",alertApplyActionProps:e,gbPrompt:t}))),m.vx((0,s.pipe)(e.eligibleForSurvey,d.map((t=>({id:e.id,formType:"survey",submitActionType:M.lY.Type.alertApplyFormSubmit,alertApplyActionProps:e,survey:t})))))),_e=e=>(0,s.pipe)(e.eligibleForSurvey,d.map((t=>({id:e.id,formType:"survey",submitActionType:M.lY.Type.alertIgnoreFormSubmit,survey:t}))))},92485:(e,t,n)=>{n.d(t,{$y:()=>Y});var r,i=n(71249),o=n(57050),a=n(40327),s=n(36991),l=n(67394),c=n(95195),u=n(5114),d=n(26328),p=n(74660),m=n(22232),f=n(63513),h=n(95574),g=n(98637);function y(e,{text:t,ops:n}){n.reduce(((t,n,r)=>l.JU.isInsertString(n)?(e.insertString(n.insert,n,r),t):l.JU.isInsertGap(n)?(e.insertGap("",n,r),t):l.JU.isInsert(n)?t:l.JU.isDelete(n)?(e.remove(t.slice(0,n.delete),n,r),t.slice(n.delete)):l.JU.isRetain(n)?(e.retain(t.slice(0,n.retain),n,r),t.slice(n.retain)):(0,m.vE)(n)),t)}function v(e){return 0===e.replace(/ /g,"").length}function b(e,t){(0,a.pipe)(e,i.Z$,u.fold((()=>{v(t.text)||e.push(t)}),(n=>{n.type===t.type?n.text+=t.text:e.push(t)})))}function w(e,t){return(0,a.pipe)(h.vM((()=>(0,a.pipe)(e,d.UI((n=>{const r=[];return y({insertString(t,{type:n}){if(n===l.JU.Type.Main)throw new D("Remove transform contains main insert",e)},insertGap(){throw new D("Remove transform contains gap insert",e)},retain(e,{type:t}){l.JU.isOptionalType(t)||b(r,{type:g.GP.Text,text:e})},remove(e,{type:n}){b(r,{type:n!==l.JU.Type.Main||v(e)&&t?g.GP.Text:g.GP.Delete,text:e})}},n),r})),i.xH))),c.tS((0,o.ls)(c.DT((e=>e.length>0),(()=>new D("Remove transform contains no data",e))),c.UI((e=>({type:r.Type.Remove,remove:e}))))))}function S(e,t){return(0,a.pipe)(h.vM((()=>(0,a.pipe)(e,d.UI((n=>{const r=[];return y({insertString(t,{type:n}){if(n===l.JU.Type.Main)throw new D("Multi-remove transform contains main insert",e)},insertGap(){throw new D("Multi-remove transform contains gap insert",e)},retain(e,{type:t}){l.JU.isOptionalType(t)||b(r,{type:g.GP.Text,text:e})},remove(e,{type:n}){b(r,{type:n!==l.JU.Type.Main||v(e)&&t?g.GP.Text:g.GP.Delete,text:e})}},n),r}))))),c.tS((0,o.ls)(c.DT((e=>e.length>=2&&e.every((e=>e.length>=2))),(()=>new D("Incomplete multi-remove",e))),c.UI((e=>({type:r.Type.RemoveOr,removes:e}))))))}function x(e){return(0,a.pipe)(h.vM((()=>(0,a.pipe)(e,d.UI((t=>{const n=[];return y({insertString(e,{type:t}){b(n,{type:l.JU.isOptionalType(t)?g.GP.Text:g.GP.Insert,text:e})},insertGap(){throw new D("Insert transform contains gap insert",e)},retain(e,{type:t}){(!l.JU.isOptionalType(t)||n.length>0)&&b(n,{type:g.GP.Text,text:e})},remove(t,{type:n}){if(n===l.JU.Type.Main)throw new D("Insert transform contains main delete",e)}},t),n}))))),c.tS((0,o.ls)(d.nI,c.Yo((()=>new D("Incomplete insert",e))),c.UI((e=>({type:r.Type.Insert,inserts:e}))))))}function E(e){const{substitutions:t,longestSubstitution:n,inserts:o}=e.reduce(((e,[t,n])=>{const r=t.map((e=>e.text)).join("");return e.substitutions.push(r),e.inserts.push(n),r.length>e.longestSubstitution.length&&(e.longestSubstitution=r),e}),{substitutions:[],inserts:[],longestSubstitution:""}),s=(0,a.pipe)(t,d.UI((e=>n.split(e).join(""))));return(0,a.pipe)(i.yL(o,s,((e,t)=>(t&&e.push({type:g.GP.Text,text:t}),e))),d.nI,c.Yo((()=>new Error("Substitution processing error"))),c.UI((e=>({type:r.Type.Substitution,remove:[{type:g.GP.Delete,text:n}],inserts:e}))))}function I(e,t){return(0,a.pipe)(k(e),c.tS((n=>(0,a.pipe)(h.vM((()=>{(0,m.kG)(t.length>0,"Drilldown transform - empty drilldown tree");const e=(0,a.pipe)(t,d.UI((function e([t,r]){return(0,m.kG)(void 0!==n.inserts[t],"Drilldown transform - alternative insert not found"),{alternativeId:t,label:n.inserts[t],subLabels:r.map(e)}})));return{inserts:e,remove:n.remove,type:r.Type.Drilldown}})),c.Vn(D.fromError(e))))))}function k(e){return(0,a.pipe)(h.vM((()=>(0,a.pipe)(e,d.UI((t=>{const n=[[],[]];return y({insertString(e){b(n[1],{type:g.GP.Insert,text:"\n"===e?"Â¶ ":e})},insertGap(){throw new D("Substitution transform contains gap insert",e)},remove(e){b(n[0],{type:g.GP.Delete,text:e})},retain(e,{type:t}){if(!l.JU.isOptionalType(t)||0!==n[0].length){const t={type:g.GP.Text,text:e};n[0].push(t),n[1].push(t)}}},t),(0,m.kG)(n[0].length>0,"Substituted part is empty"),(0,m.kG)(n[1].length>0,"Inserts are empty"),n}))))),c.tS(E),c.Vn(D.fromError(e)))}function C(e){if(!("list"in e))return u.none;switch(e.list){case"bullet":case"dashed":case"ordered":return u.some({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return u.none}}function A(e){return(0,a.pipe)(e,c.DT((e=>1===e.length),(()=>new D("Expected citation transform to have 1 alternative",e))),c.UI(d.YM),c.tS(c.DT((e=>e.isCitation),(()=>new D("Expected citation to have isCitation set to true",e)))),c.tS(N),c.UI((e=>({ops:e,type:r.Type.Citation}))))}function T(e){return(0,a.pipe)(e,c.DT((e=>1===e.length),(()=>new D("Expected full-sentence transform to have 1 alternative",e))),c.UI((0,o.ls)(d.YM,(t=>{let n={blockStart:0,ops:[],kind:g._k.PlainText};return y({insertString(e,t){const r=e.split("\n");if(1===r.length)n.ops.push({type:g.GP.Insert,text:e,shouldBeCollapsed:!1});else{const e=(0,a.pipe)(t.attributes,C,u.fold((()=>o.Q1),(({kind:e,indent:t})=>()=>{n.ops.splice(n.blockStart,1,{type:g.GP.List,kind:e,indent:t}),n={kind:g._k.WithFormatting,ops:n.ops,blockStart:n.blockStart}})));for(let t=0,i=r.length-1;t<=i;t++){const o=r[t];o&&n.ops.push({type:g.GP.Insert,text:o}),t<i&&(e(),n.blockStart=n.ops.length,n.ops.push({type:g.GP.Insert,text:"\n"}))}}},insertGap(){throw new D("Full sentence transform contains gap insert",e)},retain(e,t){n.ops.push({type:g.GP.Text,text:e,shouldBeCollapsed:M(t.type,e)})},remove(e,t){n.ops.push({type:g.GP.Delete,text:e,shouldBeCollapsed:M(t.type,e)})}},t),n}))),c.tS((0,o.ls)(u.fromPredicate((e=>e.ops.length>0)),c.Yo((()=>new D("Got empty full sentence transform",e))),c.UI((({ops:e,kind:t})=>({type:r.Type.FullSentence,ops:e,kind:t}))))))}!function(e){let t;!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.ShortenIt=7]="ShortenIt",e[e.ToneAI=8]="ToneAI",e[e.Citation=9]="Citation"}(t=e.Type||(e.Type={})),function(e){e.parse=function(t,n){const r=t[0];if(r.isFullSentence)return e.FullSentence;if(u.isSome(n.drilldown))return e.Drilldown;if(r.isCitation)return e.Citation;if(r.isShortenIt)return e.ShortenIt;if(r.isToneAI)return e.ToneAI;switch(r.type){case l.r3.Type.Insert:return e.Insert;case l.r3.Type.Remove:return t.length>1?e.RemoveOr:e.Remove;case l.r3.Type.Substitution:return r.ops.find(l.JU.isInsertGap)?e.OneGap:e.Substitution;default:return(0,m.vE)(r.type)}}}(t=e.Type||(e.Type={})),e.create=function(t){return n=>{const r=e.Type.parse(n,t);switch(r){case e.Type.Remove:return w(n,t.ignoreWhitespaceRemoves);case e.Type.RemoveOr:return S(n,t.ignoreWhitespaceRemoves);case e.Type.Insert:return x(n);case e.Type.Substitution:return k(n);case e.Type.Drilldown:return I(n,(0,a.pipe)(t.drilldown,u.getOrElse((()=>f.H5.empty))));case e.Type.FullSentence:return T(n);case e.Type.OneGap:return O(n);case e.Type.ShortenIt:return _(n);case e.Type.ToneAI:return P(n);case e.Type.Citation:return A(n);default:return(0,m.vE)(r)}}}}(r||(r={}));const M=(e,t)=>e===l.JU.Type.Optional&&t.length>3;function O(e){return(0,a.pipe)(h.vM((()=>((0,m.kG)(1===e.length,"One gap transform does not contain exactly one alternative"),(0,a.pipe)(e,d.YM,(e=>{const t=[],n=[];let r=!1;return y({insertString(e,{type:i}){b(r?n:t,{type:l.JU.isOptionalType(i)?g.GP.Text:g.GP.Insert,text:e})},insertGap(){(0,m.kG)(!r,"One gap transform does not contain exactly one gap insert"),r=!0},retain(e,{type:i}){const o=r?n:t;(!l.JU.isOptionalType(i)||o.length>0)&&b(o,{type:g.GP.Text,text:e})},remove:o.Q1},e),(0,m.kG)(r,"One gap transform does not contain exactly one gap insert"),(0,m.kG)(t.length>0||n.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:n}}))))),c.Pd(D.fromError(e),(({left:e,right:t})=>({type:r.Type.OneGap,left:e,right:t}))))}function _(e){return(0,a.pipe)(e,c.DT((e=>1===e.length),(()=>new D("Expected shorten-it transform to have 1 alternative",e))),c.tS(d.fw(c.wE)(L)),c.UI(d.YM),c.UI((e=>({type:r.Type.ShortenIt,ops:e}))))}function P(e){return(0,a.pipe)(h.vM((()=>(0,a.pipe)(e,d.UI((t=>{const n=[];return y({insertString(e){b(n,{type:g.GP.Insert,text:e})},insertGap(){throw new D("ToneAI transform should not include gap insert",e)},retain(e){b(n,{type:g.GP.Text,text:e})},remove(e){b(n,{type:g.GP.Delete,text:e})}},t),n}))))),c.tS((0,o.ls)(d.nI,c.Yo((()=>new D("Incomplete ToneAI transform",e))),c.UI((e=>({type:r.Type.ToneAI,transformParts:e}))))))}function L(e){const t=[];return y({insertString(e,{group:n}){t.push({type:g.GP.Insert,text:e,group:n})},insertGap(){throw new D("ShortenIt transform contains gap insert",[e])},retain(e,{group:n}){t.push({type:g.GP.Text,text:e,group:n})},remove(e,{group:n}){t.push({type:g.GP.Delete,text:e,shouldBeCollapsed:!0,group:n})}},e),(0,a.pipe)(t,c.DT((e=>e.length>0),(()=>new D("Got empty ShortenIt transform",[e]))))}function N(e){const t=[];return y({insertString(e){t.push({type:g.GP.Insert,text:e})},insertGap(){throw new D("Citation transform contains gap insert",[e])},retain(e){t.push({type:g.GP.Text,text:e})},remove(e){t.push({type:g.GP.Delete,text:e})}},e),(0,a.pipe)(t,c.DT((e=>e.length>0),(()=>new D("Got empty Citation transform",[e]))))}class D extends m.sH{constructor(e,t){super(e),this.alternatives=t}static fromError(e){return t=>{const n=new D(t.message,e);return n.stack=t.stack,n}}toString(){return`Hydration error: ${this.message}\n  ops: ${this.alternatives.map((e=>e.ops.map(l.JU.anonymize)))}`}}var R=n(8125),j=n(81531);const F=(e,t)=>{switch(e.kind){case"replacement":return function(e,t){(0,m.kG)((0,R.Dw)(e),"transforms should have at least one element");const[n]=e;return U(n)>-1?g.nV.create(z(n),e.map(B),t,!0):g.zE.create(e,t)}(e.content.map((e=>[{type:g.GP.Insert,text:e}])),t);case"transform":return function(e,t){(0,m.kG)((0,R.Dw)(e),"transforms should have at least one element");const[n]=e;return U(n)>-1?g.nV.create(z(n),e.map(B),t):function(e){return 2===e.length&&W(e)}(e)?g.fi.create(e[0],e[1],t):W(e)?g.zE.create(e,t):g.n6.create(e,t)}(e.content.map($),t);default:return(0,m.vE)(e.kind)}};function U(e){return e.findIndex((e=>"arrow"===e.type))}function z(e){return e.slice(0,U(e))}function B(e){return e.slice(U(e)+1)}function G(e){return e.every((e=>"delete"!==e.type))}function W(e){return e.every(G)}function H(e,t){return{re:new RegExp(`^(${e})([\\s\\S]*)$`),createResult:t}}const K=[H("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",(e=>({type:g.GP.Delete,text:e[2]}))),H("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",(e=>({type:g.GP.Insert,text:e[2]}))),H("(â)",(e=>({type:g.GP.Arrow}))),H("([^<>â]+)",(e=>({type:g.GP.Text,text:e[1]})))];function $(e){function t(e){for(const t of K){const n=e.match(t.re);if(null!==n)return[t.createResult(n),n[n.length-1]]}}function n(t){let n=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","â"].map((e=>t.indexOf(e)));if(n.findIndex((e=>0===e))>0)throw new Error(`Couldn't parse transform: ${e}`);if(n=n.filter((e=>e>0)),(0,R.Dw)(n)){const e=Math.min(...n);return[{type:g.GP.Text,text:t.substring(0,e)},t.substring(e)]}return[{type:g.GP.Text,text:t},""]}const r=[];let i,o=e,a=!1,s=0;for(;(0,R.Dw)(o);){const e=t(o);void 0===e&&(a=!0);const[l,c]=e||n(o);i&&i.type===g.GP.Text&&l.type===g.GP.Text?i.text+=l.text:(i&&i.type===g.GP.Delete&&l.type===g.GP.Insert&&(r.push({type:g.GP.Arrow}),s++),r.push(l)),l.type===g.GP.Arrow&&s++,i=r[r.length-1],o=c}return(a||!(0,R.Dw)(r)||s>1)&&j.C8.Logging.getLogger("model.editor.alert_replacement").warn("Bad parsing of transform",{transformHtml:e,transformPartCount:r.length,arrowCount:s}),r}const V={ignoreWhitespaceRemoves:!0},Y=(0,o.ls)((function(e,t=V){return n=>(0,a.pipe)(n.alternatives,Q(e,{isFullSentence:p.eT.isFullSentence(n.cardType),isShortenIt:p.eT.isShortenIt(n.cardType),isToneAI:p.eT.isToneAI(n.cardType),isCitation:p.eT.isCitation(n.cardType)}),c.tS(r.create(Object.assign(Object.assign({},t),{drilldown:n.drilldown}))))}),(e=>t=>(0,a.pipe)(t.content,c.g_((e=>c.F2(F(e,t.todo))),(0,o.ls)(e,c.Pd((e=>({kind:"default",error:e})),(e=>function(e,t){switch(e.type){case r.Type.Drilldown:return g.ey.create(e.remove,e.inserts,t);case r.Type.Substitution:return g.nV.create(e.remove,e.inserts,t);case r.Type.Insert:return 2===e.inserts.length?g.fi.create(e.inserts[0],e.inserts[1],t):g.zE.create(e.inserts,t);case r.Type.Remove:return g.n6.create([e.remove],t);case r.Type.RemoveOr:return g.fz.create(e.removes,t);case r.Type.FullSentence:return function(e,t){switch(e.kind){case g._k.WithFormatting:return g.i3.createWithFormatting(e.ops,t);case g._k.PlainText:return g.i3.createPlainText(e.ops,t);default:return(0,m.vE)(e)}}(e,t);case r.Type.Citation:return function(e,t){return{type:g.b$.Type.Citation,tooltipText:t,labels:e.ops}}(e,t);case r.Type.OneGap:return g.G7.create(e,t);case r.Type.ShortenIt:return function(e,t){return{type:g.b$.Type.ShortenIt,tooltipText:t,labels:e.ops}}(e,t);case r.Type.ToneAI:return function(e,t){return{type:g.b$.Type.ToneAI,tooltipText:t,labels:e.transformParts}}(e,t);default:return(0,m.vE)(e)}}(e,t.todo))))))));function Q(e,t){const n=(0,o.ls)(e,(e=>e.delta.reduce(((e,t)=>s.s.isInsertString(t)?e+t.insert:e),"")));return(0,o.ls)(function(e,{isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}){return s=>(0,a.pipe)(s,i.DZ((i=>(0,a.pipe)(i.type,u.map((a=>{if(l.r3.hasOptionalContext(i.ops)){const[s,...c]=i.ops,u=l.JU.length(s);return{text:e(u,i.lengthAffected-u),ops:c,type:a,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}}return{text:e(0,i.lengthAffected),ops:i.ops,type:a,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}}))))),d.nI)}(n,t),c.Yo((()=>new Error("Alternative array is empty"))))}},83167:(e,t,n)=>{n.d(t,{Dv:()=>O,Py:()=>D,VC:()=>_,u0:()=>P,vM:()=>N});var r=n(35214),i=n(57050),o=n(40327),a=n(38983),s=n(5114),l=n(22232),c=n(8125),u=n(83078),d=n(95195),p=n(81531),m=n(74660),f=n(66896),h=n(16118),g=n(50628),y=n(77176),v=n(93508),b=n(85985),w=n(66310),S=n(19751),x=n(9922),E=n(24209),I=n(2834),k=n(98403),C=n(41398),A=n(35416),T=n(6100),M=n(73841);const O=(e,t,n,r=(()=>s.none))=>i=>{if(!e(i))return t(i);const{currentLens:a}=i;return a.kind===A._L.abstract?s.none:(0,o.pipe)(s.fromPredicate(A.nL.hasItems)(i),s.chain((e=>n.findNextAlert(e.currentLens))),s.alt((()=>r(i))),s.map(M.l.toLensAlert))},_=(e,t,n,r,i=T.v.WithSuccess.State.isInGlobalSuccess(r),a=(()=>!0))=>l=>{const{currentLens:c}=l;return c.kind===A._L.abstract?s.none:c.kind===A._L.persistent?(0,o.pipe)(s.fromPredicate(A.nL.hasItems)(l),s.chain((e=>r.getActiveAlert(e.currentLens))),s.fold((()=>A.nL.hasItems(l)?r.findNextAlert(l.currentLens):s.none),(t=>e.findNextAlertInTextByLens(t,c.id,T.v.WithPriority.nonPriorityAlertsVisible(l)))),s.alt((()=>a()&&(i(l)||f.R.isOutcomeId(l.currentLens.id)&&e.hasZeroFreeAlerts(n))?e.findPremiumAlert():s.none)),s.map(M.l.toLensAlert)):(0,o.pipe)((i=>{const a=s.fromPredicate(A.nL.hasItems)(i);return(0,o.pipe)(a,s.chain((e=>r.findNextAlert(e.currentLens))),s.map(M.l.toLensAlert),s.alt((()=>(0,o.pipe)(a,s.chain((e=>r.getActiveAlert(e.currentLens))),s.fold((()=>t(m.bZ.isRegisteredApplicableAlert,"cursor")),(t=>e.findNextAlertInText(t,m.bZ.isApplicableAlert))),s.map((({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:n.get()})))))))})(l),s.alt((()=>(0,o.pipe)(e.findPremiumAlert(),s.map(M.l.toLensAlert)))))};function P(e,t){return(n,r)=>t.findClosestAlertHighlight(e(r),n)}const L=e=>e.pipe(h.G(),g.P((([e,t])=>"idle"!==e&&"idle"===t)),y.U((()=>{})));class N{constructor(e,t){this._subs=new x.w.Keeper,this.firstOpeningOfDocumentWithAlerts=a.h.create(!1);const n=L(e),r=(e=>(0,o.pipe)(e,b.h((e=>A.nL.hasCards(e)&&s.isSome(A.In.getActiveItem(e.currentLens)))),y.U((()=>{}))))(t);this._subs.push((0,o.pipe)(t,g.P((e=>A.nL.hasCards(e))),w.w((()=>(0,o.pipe)(E.T(r,n),y.U(i.jv),v.O(!0)))),I.b(k.wW(this.firstOpeningOfDocumentWithAlerts))).subscribe())}dispose(){this._subs.dispose()}}var D;!function(e){const t=(0,c.HP)(p.C8.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,n,r,i,a)=>{const l=L(n),c=n.pipe(v.O("idle"),h.G(),g.P((([e,t])=>"idle"===t)),b.h((([e])=>"full"===e)),y.U((()=>{})));const u=((e,t)=>{const n=L(e);return t.bigPaste.pipe(w.w((()=>n)),y.U((()=>{})),S.shareReplay({bufferSize:1,refCount:!0}))})(n,i);return(0,o.pipe)(E.T(l,c,u),C.M(e,a,r),b.h((([e,t,n,r])=>r&&!n&&A.nL.hasCards(t)&&s.isNone(A.In.getActiveItem(t.currentLens)))),y.U((()=>A.nL.Effect.FocusBehavior.focusFirst)),I.b((e=>t("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e))))},e.getSideEffect=(e,t)=>{const n=(0,o.pipe)(e,y.U((e=>t=>n=>{switch(t.kind){case A.nL.Effect.FocusBehaviorType.noFocus:return n;case A.nL.Effect.FocusBehaviorType.unFocus:return A.nL.Prism.getLensWithItems().modify(e.unselectItem(),n);case A.nL.Effect.FocusBehaviorType.focusFirst:return(0,o.pipe)(e.findFirstAlert(n.currentLens),s.fold((()=>n),(t=>A.nL.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n))));case A.nL.Effect.FocusBehaviorType.focusNext:return(0,o.pipe)(e.findNextAlert(n.currentLens),s.fold((()=>n),(t=>A.nL.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n))));case A.nL.Effect.FocusBehaviorType.focusAlert:return A.nL.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:(0,l.vE)(t)}})(t)));return{id:"autoFocusEffect",when:f.R.isWithAlertsId,what:A.nL.Effect.ItemsApplicator.create(n)}},e.whenFirstOpeningDocumentWithAlerts=e=>()=>e.firstOpeningOfDocumentWithAlerts.get(),e.whenShouldVerifyCurrentLens=(e,n)=>r=>{const i="AutoFocus.stateValidator.whenShouldVerifyCurrentLens";return!(!A.nL.hasItems(r)||!n.shouldVerify(r.currentLens))&&((0,o.pipe)(A.nL.getActiveAlert(e)(r),s.filter(m.bZ.isInDuplicatedState),s.fold((()=>t(i).debug("Current alert removed, should verify current lens...")),(e=>t(i).info("Current alert removed as it's a duplicate, should verify current lens...",e.toString())))),!0)},e.whenNoActiveCard=e=>e.currentLens.items.size>0&&s.isNone(A.In.getActiveItem(e.currentLens)),e.behaviorToEffect=e=>n=>r=>(0,o.pipe)(n(r)?e(r):s.none,u.bw((e=>t("AutoFocus.stateValidator").debug(`'behavior triggered: ${e.kind}`)))),e.getDefaultBehavior=(t,n)=>(0,o.pipe)([(0,o.pipe)(e.whenShouldVerifyCurrentLens(t,n),e.behaviorToEffect((()=>s.some(A.nL.Effect.FocusBehavior.focusNext))))],(0,r.fold)((0,r.getFunctionMonoid)(s.getFirstMonoid())())),e.getAlwaysFocusBehavior=(t,n)=>(0,o.pipe)([(0,o.pipe)((0,c.Kg)(e.whenNoActiveCard,e.whenShouldVerifyCurrentLens(t,n)),e.behaviorToEffect((()=>s.some(A.nL.Effect.FocusBehavior.focusNext))))],(0,r.fold)((0,r.getFunctionMonoid)(s.getFirstMonoid())())),e.getFocusFromCacheBehavior=(t,n,a,l,u,d)=>(0,o.pipe)([(0,o.pipe)(e.whenShouldVerifyCurrentLens(l,u),e.behaviorToEffect((()=>s.some(A.nL.Effect.FocusBehavior.focusNext)))),(0,o.pipe)((0,c.W9)((()=>n.get()),(0,c.W9)((0,c.W9)((0,c.W9)(e.whenFirstOpeningDocumentWithAlerts(a),(()=>t)),e.whenNoActiveCard),(0,o.pipe)(d,s.map((e=>(0,i.ff)(e.willShowBulkAccept))),s.getOrElse((()=>i.W8))))),e.behaviorToEffect((()=>s.some(A.nL.Effect.FocusBehavior.focusFirst))))],(0,r.fold)((0,r.getFunctionMonoid)(s.getFirstMonoid())())),e.getFirstApiAlignmentOverride=function(){const e=a.h.create(!0);return(t,n)=>{let r=n;return e.get()&&n===m.l$.api&&(r=m.l$.text),e.set(!1),r}},e.getShouldAutoFocus=(e,t,n)=>r=>e.get()&&(0,o.pipe)(r,A.nL.getActiveAlert(n),s.chain((({id:e})=>t.getById(e))),s.filter((0,c.Kg)((e=>"APPLIED"===e.state.type&&"ByCard"===e.state.method),m.bZ.isDuplicated,m.bZ.isCapiDone)),s.isSome),e.getShouldAutoFocusSDUI=()=>e=>(0,o.pipe)(e,A.nL.getLens,s.chain(s.fromPredicate((e=>e.items.size>0))),s.isSome),e.getStateTransformer=(e,n,r,i,a,c,u)=>({state:p,metadata:m})=>{const f=t("AutoFocus.stateTransformer");if(!A.nL.hasCards(p)||!A.nL.hasItems(p))return f.trace("state has no items, returning original state"),d.t$({state:p,metadata:m});const h=e(p);if(f.trace("effect: ",{state:p,metadata:m,effect:h}),s.isNone(h))return f.trace("no effect selected, returning original state"),d.t$({state:p,metadata:m});if(c(h.value),h.value.kind===A.nL.Effect.FocusBehaviorType.unFocus||h.value.kind===A.nL.Effect.FocusBehaviorType.noFocus)return d.t$({state:A.nL.Prism.getLensWithItems().modify(i.unselectItem(),p),metadata:m});const g=a(p);return f.trace("shouldAutoFocus",{alertSource:p.alertSource,shouldAutoFocus:g}),(0,o.pipe)(h,s.chain((e=>{switch(e.kind){case A.nL.Effect.FocusBehaviorType.noFocus:case A.nL.Effect.FocusBehaviorType.unFocus:return s.none;case A.nL.Effect.FocusBehaviorType.focusFirst:return(0,o.pipe)(i.findFirstAlert(p.currentLens),s.map((e=>Object.assign(Object.assign({},e),{lensId:p.currentLens.id}))));case A.nL.Effect.FocusBehaviorType.focusNext:return n(p);case A.nL.Effect.FocusBehaviorType.focusAlert:return s.some(Object.assign(Object.assign({},e.alertHighlight),{lensId:p.currentLens.id}));default:(0,l.vE)(e)}})),s.map((e=>((0,l.kG)(s.isSome(r.getRegistered(e.alert.id)),"lens alert should be in registered state",(()=>e.alert.toString())),e))),s.fold((()=>(f.trace("no alert selected, returning original state"),p.currentLens.kind===A._L.active?d.F2(d.F2({lensId:u.get(),alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:A.nL.Effect.FocusBehavior.noFocus}})):d.t$({state:p,metadata:m}))),(({alert:e,highlightIndex:t,lensId:n})=>{if(f.trace("selected alert to focus",e),p.currentLens.meta.filter(e)){if(g){f.trace("shouldAutoFocus: true, selecting alert");const n={alert:e,highlightIndex:t},r=A.nL.Prism.getLensWithItems().modify(i.selectItemByAlert(n),p);return d.t$({state:r,metadata:{sourceId:"LSM.updateActiveState"}})}return f.trace("shouldAutoFocus: false"),d.t$({state:p,metadata:m})}return f.trace("alert is not from current lens, recreating lens view"),d.F2(g?d.t$({alertHighlight:{alert:e,highlightIndex:t},alertSource:p.alertSource,options:{lensId:n,order:p.switchOrder,toFocus:A.nL.Effect.FocusBehavior.focusFirst}}):d.F2({lensId:n,alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:A.nL.Effect.FocusBehavior.noFocus}}))})))}}(D||(D={}))},20291:(e,t,n)=>{n.d(t,{R7:()=>b,XU:()=>w});var r=n(40327),i=n(5114),o=n(66896),a=n(15646),s=n(48521),l=n(98403),c=n(77176),u=n(66310),d=n(85985),p=n(2834),m=n(24209),f=n(598),h=n(83401),g=n(35416),y=n(99116);const v={cardsBeyondViewport:5,cardsAroundActive:100},b=(e,t,n,r,u=v,d=l.b2.rafScheduler)=>{const p=e=>!e.positionState.visible&&s.o.isAnimatable(e)&&e.visualState.incomplete?(r.next({type:a.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),n.completeTransition(e.visualState.transitionId)(e)):e,m=e.pipe(c.U(g.nL.mapper((({currentLens:e,alertSource:t})=>i.some({currentLens:e,alertSource:t}))))),f=(0,y.nM)(n)(m,t.viewport,t.scrollTop,t.paddingTop,d).pipe(c.U((({viewport:e,scrollTop:t,paddingTop:n})=>({viewport:e,scrollTop:t,paddingTop:n,completeTransition:p}))),c.U((0,y.GC)({cardsBeyondViewport:u.cardsBeyondViewport,cardsAroundActive:u.cardsAroundActive,changePosition:n})));return{id:"manageCardsVisibility",when:o.R.isWithAlertsId,what:g.nL.Effect.Applicator.create(f)}},w=(e,t,n)=>{const a=(0,r.pipe)(e,c.U(g.nL.mapper((({currentLens:e,alertSource:t})=>i.some({currentLens:e,alertSource:t})))),(0,y.SW)(n),u.w(l.b2.rafScheduler),d.h((e=>0!==e)),p.b((e=>t.moveCardsBy(e,"freezeActiveCardOnCardsListUpdate"))));return{id:"freezeActiveCardOnCardsListUpdate",when:o.R.isWithAlertsId,what:g.nL.Effect.Applicator.create(m.T(m.T(a).pipe(f.c(h.C))))}}},71841:(e,t,n)=>{n.d(t,{YA:()=>f,i$:()=>m});var r=n(57050),i=n(40327),o=n(5114),a=n(98403),s=n(55935),l=n(93508),c=n(19751),u=n(35416),d=n(74238),p=n(14990);const m=e=>a.Hl(e.scrollTop.pipe(s.T(1)),100,!0).pipe(l.O(!1),c.shareReplay({bufferSize:1,refCount:!0})),f=(e,t)=>{const n=new p.Db.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return(0,i.pipe)(e.view(u.nL.getLens).get(),o.chain((({items:e,cardsHeight:t})=>(0,i.pipe)(e.getAt(0),o.map((e=>{const i=(0,r.ls)(d.L.AbsTop.ISO.wrap,n.converters.absTopToViewportTop,n.converters.viewportToWindow)(e.positionState.absTop);return{top:i,bottom:d.r.FromWindowTop.ISO.modify(d.L.concatC(t))(i)}}))))))}},35607:(e,t,n)=>{n.d(t,{o:()=>g});var r=n(40327),i=n(38983),o=n(95195),a=n(8125),s=n(81531),l=n(32952),c=n(44586),u=n(61722),d=n(16118),p=n(77176),m=n(93508),f=n(2834),h=n(74238);class g{constructor(e){this._validateOffset=e,this._log=s.C8.Logging.getLogger("CardsListScrollManager"),this.scrollTop=i.h.create(0),this.paddingTop=i.h.create(0),this.viewport=i.h.create({top:h.r.FromWindowTop.ISO.wrap(0),height:0}),this.scrollOffset=new l.xQ,this.moveCardsBy=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),this.scrollOffset.next(e),o.F2(void 0)),this.moveCardsByAnimated=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),c.y.create((t=>(0,r.pipe)(this._validateOffset(e,this),o.g_((e=>(t.thrownError(e),a.Q1)),(()=>{const n=2*this.viewport.get().height,r=Math.abs(e)>n?(e>0?1:-1)*n:e,i=e-r,o=u.f.createAnimationObservable(0,r,200).pipe(d.G(),p.U((([e,t])=>t-e)),m.O(i),f.b((e=>this.scrollOffset.next(e)))).subscribe({error:e=>t.error(e),complete:()=>t.complete()});return()=>o.unsubscribe()}))))))}}},74238:(e,t,n)=>{n.d(t,{L:()=>i,r:()=>r});var r,i,o=n(73975),a=n(99930),s=n(64681);!function(e){let t;!function(e){e.ISO=(0,s.k4)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(r||(r={})),function(e){let t,n,r;!function(e){e.ISO=(0,s.k4)(),e.equals=(0,s.Eh)(o.lr).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=(0,s.k4)()}(n=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=(0,s.k4)()}(r=e.CardTop||(e.CardTop={})),e.concatC=e=>t=>e+t;const i=e=>new a.aD(e);e.converters=function(t,n,r){const o=i(e.concatC(r)).get,a=i(e.concatC(-t)).get;return{windowToViewport:i(e.concatC(-n)).get,viewportToWindow:i(e.concatC(n)).get,cardTopToViewport:a,viewportToCardTop:i(e.concatC(t)).get,absTopToViewportTop:e=>a(o(e)),absTopToCardTop:o}}}(i||(i={}))},14990:(e,t,n)=>{n.d(t,{Db:()=>i});var r,i,o,a=n(73975),s=n(74238);!function(e){e.above="above",e.below="below",e.hidden="hidden"}(r||(r={})),function(e){e.Impl=class{constructor(e,t,n){this.scrollTop=e,this.viewport=t,this.converters=s.L.converters(e,s.r.FromWindowTop.ISO.unwrap(t.top),n)}}}(i||(i={})),function(e){const t=(0,a.MW)({top:a.lr,height:a.lr});e.eqDimensionsTuple=(0,a.IP)(t,t)}(o||(o={}))},99116:(e,t,n)=>{n.d(t,{Bk:()=>E,GC:()=>O,SW:()=>A,Sd:()=>T,nM:()=>M,v_:()=>k});var r=n(17771),i=n(12271),o=n(57050),a=n(40327),s=n(83078),l=n(5114),c=n(73975),u=n(89943),d=n(95983),p=n(77176),m=n(16118),f=n(85985),h=n(28043),g=n(66310),y=n(98403),v=n(2844),b=n(16892),w=n(35416),S=n(6100),x=n(74238);const E=e=>t=>t.isCardsHeightValid&&(0,a.pipe)(w.In.getActiveItem(t),s.wo((t=>!e.isScheduledToDispose(t)))),I=e=>t=>t.isCardsHeightValid&&(0,a.pipe)(w.In.getActiveItem(t),s.wo((t=>!e.isScheduledToDispose(t))));function k({cardTop:e,cardHeight:t,viewportHeight:n,padding:r}){const i=x.L.FromViewportTop.ISO.unwrap(e),o=i+t;return t>n?i:i<0?t+r.before<n?i-r.before:i:o>n?t+r.after<n?o-n+r.after:o-n:i<r.before?t+r.after+r.before<n?i-r.before:t+r.after<n?i-r.after:r.before:n-o<r.after&&t+r.after<n?r.after-(n-o):0}const C=(e,t,n,r)=>({from:Math.max(0,d.aW.lowerBound(e,(e=>e.positionState.absTop+e.positionState.height<n))-r),to:Math.min(e.size,d.aW.lowerBound(e,(e=>e.positionState.absTop<n+t.height))+r)}),A=e=>t=>t.pipe(T(e),p.U(l.map((e=>e.currentLens))),m.G(),f.h((([e,t])=>(0,a.pipe)((0,o.bc)(e,t),(0,o.og)(s.vB(((e,t)=>e.id===t.id&&(0,a.pipe)((0,o.bc)(w.In.getActiveItem(e),e.cardIndex,w.In.getActiveItem(t),t.cardIndex),(0,o.og)(r.g(l.option)),l.map((([e,t,n,r])=>e.id===n.id&&t!==r)))))),l.getOrElse((()=>!1))))),p.U((0,o.ls)(i.Pd(l.chain(w.In.getActiveItem),l.chain(w.In.getActiveItem)),(0,o.og)(s.vB(((e,t)=>t.positionState.absTop-e.positionState.absTop))),l.getOrElse((()=>0))))),T=e=>t=>t.pipe(p.U(l.filter((({currentLens:t})=>I(e)(t))))),M=e=>(t,n,r,i,o)=>{const s=(e=>l.getEq(c.f7(((t,n)=>{const r=w.In.getActiveItem(t),i=w.In.getActiveItem(n);return l.getEq(e.visualStateEq).equals(r,i)&&t.items.size===n.items.size&&u.Hx(t.items.keys(),n.items.keys(),((e,t)=>e===t))}))))(e);return t.pipe(p.U(l.map((e=>e.currentLens.id))),h.x(c.w4.equals),p.U(l.isSome),g.w(y.Ft(v.aj(n,r,i,T(e)(t).pipe(p.U(l.map((e=>e.currentLens))),h.x(s.equals),g.w(o))))),f.h((([t,n,r,i])=>(0,a.pipe)(i,l.exists(I(e))))),p.U((([e,t,n])=>({viewport:e,scrollTop:t,paddingTop:n}))))},O=({cardsBeyondViewport:e,cardsAroundActive:t,changePosition:n})=>({viewport:r,scrollTop:i,paddingTop:c,completeTransition:u})=>d=>{const p=d.currentLens,m=((e,t,n,r)=>e.size<2||Math.floor(t.height/Math.min(s.MH(e.getAt(0)).positionState.height,s.MH(e.getAt(1)).positionState.height))>=e.size?{from:0,to:e.size}:C(e,t,n,r))(p.items,r,i-c,e);let f=!1;const h=p.items.map(((e,r,i)=>{const s=(0,o.ls)((c=n,d=e.positionState.watched||(e=>m.from<=e&&m.to>e||(0,a.pipe)(p.cardIndex,l.exists((n=>e>=n-t&&e<=n+t))))(i),e=>e.positionState.visible!==d?c.changePosition(b.s.PositionState.changeVisible(e.positionState,d))(e):e),(e=>t=>!t.positionState.visible&&t.positionState.animationInProgress?e.changePosition(b.s.PositionState.changeAnimationInProgress(t.positionState,!1))(t):t)(n),u)(e);var c,d;return s!==e?(f=!0,s):e}));return f?w.nL.Prism.getLens().compose(S.v.Prism.items).set(h,d):d}},33806:(e,t,n)=>{n.d(t,{E:()=>o,c:()=>i});var r=n(86775);class i{constructor(e,t,n,r,i,o){this._checklistItemFactory=e,this._checklistItems=t,this._alertsReader=n,this._lensPredicate=r,this._inner=i,this._itemEq=o}create(e,t){return this._lensPredicate(t)?r.G.create(this._checklistItemFactory,this._checklistItems.get(),this._alertsReader,e,t,this._itemEq):this._inner.create(e,t)}}const o=(e,t,n,i,o,a)=>s=>i(s)?r.G.getAlertsHandler(e,t,n,a):o(s)},11245:(e,t,n)=>{n.d(t,{U:()=>w});var r=n(17889),i=n(40327),o=n(5114),a=n(22232),s=n(74660),l=n(17594),c=n(26027),u=n(55567),d=n(91549),p=n(20594),m=n(48521),f=n(77610),h=n(69345),g=n(40966),y=n(76974),v=n(70100),b=n(47306);function w(e,t,n,b){const w=p.Mq.getCardSelections(t),x=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),E=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),I=p.Mq.getTransitionTo(E,x),k=(e,t,r)=>i=>{const o=f.C.getAlertByIndex(r,e),a=l.$.isApplicableAlert(o)?p.Mq.getApplicableCardMeta(o,i.visualState,n):u.n.empty(void 0);return Object.assign(Object.assign({},i),{meta:a,alerts:e,activeAlert:o,removedAlertsIds:t,activeAlertIndex:r})},C=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:(0,i.pipe)(e,o.map((e=>e.labels)))}),A=t=>p.Mq.getCardHydrator((e=>e.cachedTransform),c.X.canHydrate,C,e)(t),T=p.Mq.getSelectByAlert(k,(e=>t=>Object.assign(Object.assign({},t),{userInput:e})),E,x,(e=>t=>Object.assign(Object.assign({},t),{meta:e})),A,t,n),M=p.Mq.getSelectFirstAlert(T),O=p.Mq.getSelectNextAlert(p.Mq.getCardSelections(t),T),_=p.Mq.getUnselectItem(E,x),P=p.Mq.getRemove(k,I),L=p.Mq.getChangeVisualState(E,A),N=(e,t)=>p.Mq.getCreate(S(e,t),o.none,L,(()=>y.of(o.none)),n),D=(e,t,r,a,s)=>{const l=v.X.create(e,t,r,h.Z.empty,g.t.initial({type:"rendered",clockwise:!0},!1),p.IG.toCardRenderOptions(n,a,y.of(o.none)));return(0,i.pipe)(s,o.fold((()=>l),(e=>v.X.changeVisualState(e)(l))))};return Object.assign({changePositionState:x,changeVisualState:E,completeTransition:e=>t=>E(m.o.VisualState.complete(t.visualState,e))(t),transitionTo:I,selectByAlert:T,selectFirstAlert:M,selectNextAlert:O,unselect:_,removeAlerts:P,updateWith:e=>t=>{(0,a.kG)(e.every((e=>s.bZ.isRegistered(e))),"cannot add non registered alerts");const n=new Set(e.map((e=>e.id))),r=new Set(t.removedAlertsIds);n.forEach((e=>{r.delete(e)}));const o=t.alerts.filter((e=>!n.has(e.id))).concat(e.map(l.$.fromModel)).sort(b.compare);return(0,i.pipe)(t,k(o,r,f.C.getIndexByAlert(t.activeAlert.id,o)),A)},updateMeta:e=>t=>Object.assign(Object.assign({},t),{itemMeta:e}),createDefault:D,createWithAlerts:(e,t,n,r,o,a,s)=>(0,i.pipe)(N(t,d.R.getAlertOutcomeBundle(n[0])),(t=>t(e,n,r,0,o,a,s,b))),createRenderedEmpty:(e,t,n,r)=>D(t,n,r,e,o.some(g.t.initial({type:"rendered",clockwise:!0},!1))),createRenderedWithAlerts:(e,t,r,i,a)=>{const s=m.o.VisualState.initial({type:"rendered",clockwise:!0},!1);return N(r,i)(t,a,0,0,p.Mq.getApplicableCardMeta(a[0],s,n),e,o.some(s),b)},createFocusedEmpty:(e,t,n,r)=>D(t,n,r,e,o.some(g.t.initial({type:"focused",clockwise:!0},!0))),createFocusedWithAlerts:(e,t,a,s,l,c)=>(0,i.pipe)(c,o.fold((()=>(0,i.pipe)(l,r.DY(b),(e=>({alerts:e,activeAlertIdx:0})))),(e=>({alerts:l,activeAlertIdx:e}))),(r=>{const i=m.o.VisualState.initial({type:"focused",clockwise:!0},!0);return N(a,s)(t,r.alerts,r.activeAlertIdx,0,p.Mq.getApplicableCardMeta(r.alerts[r.activeAlertIdx],i,n),e,o.some(i),b)}))},w)}const S=(e,t)=>(n,r)=>{const i=new u.n.Impl(r.meta.percentile,r.meta.explanation,r.meta.checking,r.meta.ranges,r.meta.showMuteQuotedAdvice);return b.J.create(n,e,t,r.alerts,r.activeAlertIndex,r.activeHighlightIndex,r.positionState,r.visualState,i,r.lensId,r.renderOptions,r.muteCategory,r.order,r.initialAlertId,r.removedAlertsIds,r.cachedTransform,r.userInput,r.synfonySelection)}},60682:(e,t,n)=>{n.d(t,{B:()=>r});var r,i=n(57050),o=n(38983),a=n(76974),s=n(32952),l=n(2844),c=n(77176),u=n(28043),d=n(73975),p=n(5114),m=n(71249),f=n(8125),h=n(83078),g=n(26328),y=n(89943),v=n(81531),b=n(66896),w=n(74660),S=n(6782),x=n(4390),E=n(17594),I=n(55567),k=n(15646),C=n(20594),A=n(35416),T=n(6100),M=n(56549),O=n(9922),_=n(5920),P=n(48521),L=n(77610);!function(e){function t(t){return t.id===e.id}let n,r,N;e.id="UpgradeHookId",e.Kind="UpgradeHook",e.eq={equals:(e,t)=>d.yv.equals(e.id,t.id)&&L.C.eq.equals(e,t)},e.isUpgradeHookItem=t,function(e){e.create=(e,t="default")=>{const n=C.Mq.getCreate(((e,n)=>r.createItem(e,n,t)),p.none,r.changeVisualState,(()=>a.of(p.none)),e);return{createAdded:e=>(t,r)=>{const i=P.o.VisualState.initial({type:"added",clockwise:!0},!0);return n(t,r,0,0,I.n.empty(void 0),e,p.some(i))},createFocused:e=>(t,r)=>{const i=P.o.VisualState.initial({type:"focused",clockwise:!0},!1);return n(t,r,0,0,I.n.empty(void 0),e,p.some(i))}}}}(n=e.ItemFactory||(e.ItemFactory={})),function(t){t.createItem=(t,n,r)=>Object.assign({kind:e.Kind,id:t,activeAlert:n.alerts[0],equals(t){return e.eq.equals(this,t)},hashCode(){return L.C.hashCode(Object.assign(Object.assign({},this),{userInput:p.none}))},groupedAlerts:e.getGroupedLiteAlerts(n.alertModels),premiumAlerts:n.alertModels,documentType:r},n);const n=P.o.Capabilities.getPojoUpdates();t.changeVisualState=C.Mq.getChangeVisualState(n.setVisualState,i.yR),t.changePosition=n.setPosition,t.transitionTo=C.Mq.getTransitionTo(t.changeVisualState,t.changePosition),t.animatable={completeTransition:e=>n=>(0,i.zG)(n,t.changeVisualState(P.o.VisualState.complete(n.visualState,e))),transitionTo:t.transitionTo,changeVisualState:t.changeVisualState},t.updateAlertsByModels=t=>n=>{const r=(0,i.zG)(t,m.UI(E.$.fromModel));return Object.assign(Object.assign({},n),{alerts:r,premiumAlerts:t,groupedAlerts:e.getGroupedLiteAlerts(t)})},t.updateAlerts=(e,t,n,r)=>i=>Object.assign(Object.assign({},i),{alerts:e,premiumAlerts:i.premiumAlerts.filter((e=>!t.has(e.id))),activeAlertIndex:n,activeHighlightIndex:r,activeAlert:e[n]}),t.addAlerts=t=>n=>{const r=(0,i.zG)(t,m.UI(E.$.fromModel)),o=[...n.premiumAlerts,...t];return Object.assign(Object.assign({},n),{alerts:[...n.alerts,...r],premiumAlerts:o,groupedAlerts:e.getGroupedLiteAlerts(o)})},t.getSelect=(e,n)=>({selectByAlert:(r,o,a)=>s=>(0,i.zG)(s,C.Mq.getSelectByAlert(t.updateAlerts,(0,i.a9)(i.yR),t.changeVisualState,t.changePosition,(0,i.a9)(i.yR),i.yR,e,n)(o,r,a)),select:(e,n)=>r=>(0,i.zG)(r,C.Mq.getSelectItem(t.changeVisualState,t.changePosition)(e,n)),unselect:C.Mq.getUnselectItem(t.changeVisualState,t.changePosition)}),t.remove={remove:(e,n)=>r=>e(r)?t.transitionTo({type:"removed",clockwise:n(r)})(r):r}}(r=e.Capabilities||(e.Capabilities={})),function(e){let t;!function(e){e.empty={onShowUpgradeHook:i.Q1,onOpenUpgradeUrl:i.Q1,onDismissUpgradeHook:i.Q1}}(t=e.EventHandlers||(e.EventHandlers={}));e.UpgradeHookItemViewModelImpl=class{constructor(e,t,n,r,i){this._subs=new O.w.Keeper,this.events=new s.xQ,this.upgradeHookDismissed=o.h.create(!1),this._subs.push(this.events.subscribe((n=>{"showedUpgradeHook"===n.type?i.onShowUpgradeHook():(k.lY.isSDUICardAction(n)&&k.lY.ProxySduiCardAction.hasAction(n,"upgradeToPremium")&&(t.openUpgradeUrl(r),i.onOpenUpgradeUrl()),k.lY.isSDUICardAction(n)&&k.lY.ProxySduiCardAction.hasAction(n,"removeCard")&&(this.upgradeHookDismissed.set(!0),i.onDismissUpgradeHook()),e.actionEvents.next(n))}))),this._subs.push(n.subscribe((()=>{this.upgradeHookDismissed.set(!1)})))}dispose(){this._subs.dispose()}}}(N=e.ViewModel||(e.ViewModel={})),e.getPremiumAlerts=(e,t)=>l.aj([t.view("currentLens").view("id").view(b.R.isPriority).view((e=>e?e=>w.bZ.isRegistered(e)&&w.bZ.isPremium(e)&&w.bZ.isPriority(e):e=>w.bZ.isRegistered(e)&&w.bZ.isPremium(e))),e]).pipe(c.U((([e,t])=>x.p.reduce([],((t,{alert:n})=>(Boolean(e(n))&&t.push(n),t)))(t)))),e.getGroupedLiteAlerts=e=>S.Q.group(e.map((e=>e.toLiteAlert()))),e.formatLiteAlerts=(e,t=5)=>{const n=e.slice(0,t),r=e.slice(t).map((e=>e.count)).reduce(f.Sm,0);return r>0?[...n,{group:"",category:"",categoryHuman:"more...",count:r,lensName:"more...",bundleInfo:p.some("more...")}]:n},e.groupPremiumAlerts=e=>Object.values(e.reduce(((e,t)=>{const n=t.lensType;return null!=e[n]?e[n]=Object.assign(Object.assign({},e[n]),{lensNames:m.jj(d.w4)([...e[n].lensNames,t.lensName]),alertsCount:e[n].alertsCount+1}):e[n]={lensNames:[t.lensName],lensType:t.lensType,alertsCount:1},e}),{}));const D=(0,f.HP)(v.C8.Logging.getLogger);let R;e.getSideEffect=(o,a,s,d,m,f=n.create(m),g=b.R.isWithAlertsId)=>{const y=D("UpgradeHook.sideEffect"),v=A.nL.Prism.getLensWithItems().compose(T.v.Prism.getFeedItems()),w=a.pipe(c.U((e=>e.currentLens.id)),u.x());return{id:"upgradeHookEffect",when:g,what:A.nL.Effect.ItemsApplicator.create((0,i.zG)(l.aj([o,w]),c.U((([n])=>o=>{const a=_.l.find(o.currentLens.items,t);if(s.get())return o;if(0===n.length)return p.isSome(a)?(y.trace("no more premium alerts, removing UpgradeHook item from the current lens"),v.set(o.currentLens.items.remove(e.id),o)):o;let l,c=o;return p.isNone(a)?(y.trace("premium alerts found, adding upgrade hook item to lens state",n),l=f.createAdded(o.currentLens.id)(e.id,n),c=v.set(o.currentLens.items.add(l),o)):l=h.MH(a).value,c=(0,i.zG)(r.updateAlertsByModels(n)(l),(e=>o.currentLens.items.add(e)),(e=>v.set(e,c))),(1===c.currentLens.items.size||b.R.isPremiumId(c.currentLens.id))&&(y.trace("auto focusing upgrade hook item"),c=A.nL.Prism.getLensWithItems().modify(d.selectItemById(e.id),c)),c}))))}},function(t){function n(e,n){return(r,i)=>T.v.ApplyDiff.applyWithFilter(i,T.v.ApplyDiff.apply)(r,t.add(e,n),t.update(),t.remove())}t.withUphookAlertsHandlerFactory=function(e,t,r){return i=>i===b.R.SpecialId.Premium||i===b.R.SpecialId.FreePremiumAlerts?n(t,r):e(i)},t.getAlertsHandler=n,t.add=(t,n)=>r=>{const o=n=>b.R.isPremiumId(n)?t.createFocused(b.R.SpecialId.Premium)(e.id,r):t.createAdded(b.R.SpecialId.FreePremiumAlerts)(e.id,r);return t=>(0,i.zG)(r,p.fromPredicate(m.Od),p.chain((r=>(0,i.zG)(t.items.get(e.id),p.map((e=>e.value)),p.map(e.Capabilities.addAlerts(r)),p.alt((()=>p.some(o(t.id)))),p.map((e=>{const i=r.filter((0,f.W9)(w.bZ.isApplicableAlert,w.bZ.isFreePremium)).map((e=>n.createAdded(t.id)(M._.getCardId(t.meta,e),e))),o=t.items.add([...i,e]),a=A.In.getActiveItemIndex(o)(t);return Object.assign(Object.assign({},t),{cardIndex:a,items:o,animation:A.wj.proceed})}))))),p.getOrElse((()=>t)))},t.remove=()=>t=>n=>{if(!t.length)return n;const r=new Set(t.map((e=>e.id)));return(0,i.zG)(n.items.get(e.id),p.map((e=>e.value)),p.map((t=>(0,i.zG)(t.premiumAlerts.filter((e=>!r.has(e.id))),g.nI,p.map((r=>n.items.add(e.Capabilities.updateAlertsByModels(r)(t)))),p.getOrElse((()=>n.items.remove(e.id)))))),p.map((e=>{const t=A.In.getActiveItemIndex(e)(n);return Object.assign(Object.assign({},n),{cardIndex:t,items:e})})),p.getOrElse((()=>n)))},t.update=()=>e=>n=>{const[,r]=y.uK(e,w.bZ.isRegistered);return(0,i.zG)(n,t.remove()(r))}}(R=e.Handler||(e.Handler={}))}(r||(r={}))},73841:(e,t,n)=>{n.d(t,{l:()=>_});var r=n(31542),i=n(11064),o=n(40327),a=n(95195),s=n(5114),l=n(8125),c=n(22232),u=n(81531),d=n(46680),p=n(66896),m=n(32952),f=n(77176),h=n(76974),g=n(95300),y=n(24209),v=n(66310),b=n(98403),w=n(69935),S=n(91224),x=n(41398),E=n(2834),I=n(28043),k=n(598),C=n(83401),A=n(17594),T=n(48521),M=n(35416),O=n(89770);class _{constructor(e,t,n,c,k,C,T){this._state=e,this._stateProvider=t,this._alertsReader=n,this._alertsService=c,this._stateSideEffects=k,this._getActiveAlert=C,this._stateTransformer=T,this.focusLens=(e,t,n={toFocus:M.Zz.defaultOptions.focusBehavior})=>{this._log.debug("focusLens "+e),this._switchLensActions.next({lensId:e,alertSource:t,options:n})},this.focusAlert=(e,t,n)=>{this._switchAlertActions.next({alertHighlight:e,alertSource:t,options:{order:n}})},this._log=u.C8.Logging.getLogger("FocusedLensManagerImpl"),this._ts=u.C8.TimeSeries.rootFemetrics.getMetric("lens_state.manager"),this._switchLensActions=new m.xQ,this._switchAlertActions=new m.xQ,this._addMetadata=e=>t=>t.pipe(f.U((t=>({source:t,metadata:e})))),this._focusLensEffect=({lensId:e,alertSource:t,options:{toFocus:n=M.Zz.defaultOptions.focusBehavior,order:r}})=>{if(this._log.debug("_focusLensEffect ",{alertSource:t,lensId:e}),p.R.isClosedId(e))return(0,o.pipe)(h.of(M.nL.Effect.Applicator.Source.override((0,O.T)())),this._addMetadata({sourceId:"LSM.focusLensEffect"}));if(p.R.isDraftAIId(e)||p.R.isCheetah(e)){const t=p.R.isCheetah(e)?(0,O.yC)():(0,O.zc)();return(0,o.pipe)(h.of(M.nL.Effect.Applicator.Source.override(t)),this._addMetadata({sourceId:"LSM.focusLensEffect"}))}const i=this._state.get(),a=i.patch({switchOrder:Boolean(r)?r:i.switchOrder,alertSource:t});return(0,o.pipe)(this._stateProvider.getLensEventsByLensId(a,e,{focusBehavior:n}),this._addMetadata({sourceId:"LSM.focusLensEffect"}))},this._focusAlertEffect=({alertHighlight:e,alertSource:t,options:n})=>{this._log.isEnabled(d.i.TRACE)&&this._log.trace(`focusAlert(${e.alert})`);const r=this._state.get(),i=r.patch({switchOrder:Boolean(n.order)?n.order:r.switchOrder,alertSource:t});return(0,o.pipe)(this._stateProvider.getLensEventsByAlert(i,function(e,t,n){if(e===p.R.SpecialId.Priority||e===p.R.SpecialId.PredictionTakeaways||e===p.R.SpecialId.PredictionEmogenie||e===p.R.SpecialId.RealTimeProofit||e===p.R.SpecialId.FreePremiumAlerts)return e;if(void 0!==n)return n;if(e===p.R.SpecialId.Closed||e===p.R.SpecialId.AllAlerts)return p.R.SpecialId.AllAlerts;return t}(r.currentLens.id,e.alert.lensId,n.lensId),e),this._addMetadata({sourceId:"LSM.focusAlertEffect"}))};const _=this._state.get(),P=this._stateTransformer,L=new g.X(_);this._effects=y.T(...this._stateSideEffects.map((({when:e,what:t,id:n})=>this._state.view("currentLens","id").view(e).pipe(v.w(b.Ft((0,o.pipe)(this._effectToApplicator(t),this._addMetadata({sourceId:n}))))))),y.T(this._switchAlertActions.pipe(f.U(this._focusAlertEffect)),this._switchLensActions.pipe(f.U(this._focusLensEffect))).pipe(w.B()));const N=this._ts.getTimer("batched.long_state_change");this._subs=[this._effects.pipe(S.K(((e,t)=>(this._log.error("Got error from effects: ",e),t))),x.M(L,(({source:e,metadata:t},n)=>({state:e(n),metadata:t}))),S.K(((e,t)=>(this._log.error("Got error while applying new state: ",e),t))),E.b((e=>{this._log.isEnabled(d.i.TRACE)&&this._log.trace("lens state before state transformer: ",e)})),f.U(P),S.K(((e,t)=>(this._log.error("Got error while transforming state: ",e),t)))).subscribe((e=>(0,o.pipe)(e,a.g_((({state:e,metadata:t})=>{this._log.isEnabled(d.i.TRACE)&&this._log.trace(`lens state from: ${t.sourceId}`,e),(0,o.pipe)(this._checkState(e),a.g_((t=>this._log.error("incorrect state transition detected",{error:t,state:e})),(()=>L.next(e))))}),a.g_((e=>this._switchAlertActions.next(e)),(e=>this._switchLensActions.next(e))))))),(0,o.pipe)(L,f.U(M.nL.getActiveAlert(this._getActiveAlert)),E.b((e=>this._log.trace("active alert: ",e))),I.x(s.getEq(A.$.eq).equals),v.w(b.aI((e=>(0,o.pipe)(this._alertsService.takeReference(e,"activeCard"),a.Vn((e=>this._log.error("can not take alertRef",e))),a.g_(i.of(l.Q1),(e=>e.dispose))))))).subscribe(),(0,o.pipe)(L,f.U((e=>{const t=performance.now();r.unstable_batchedUpdates((()=>{this._state.set(e)}));const n=performance.now()-t;n>16&&N.recordTime(n)}))).subscribe()],M.nL.hasCards(_)&&(0,o.pipe)(M.nL.getActiveAlertHighlight(this._getActiveAlert)(_),s.filter((e=>this._alertsReader.isRegistered(e.alert.id))),s.fold((()=>this._switchLensActions.next({lensId:_.currentLens.id,alertSource:_.alertSource,options:{order:_.switchOrder,toFocus:M.nL.Effect.FocusBehavior.noFocus}})),(e=>this._switchAlertActions.next({alertHighlight:e,alertSource:_.alertSource,options:{lensId:_.currentLens.id,order:_.switchOrder}}))))}dispose(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}_effectToApplicator(e){switch(e.type){case M.nL.Effect.Type.Applicator:case M.nL.Effect.Type.ItemsApplicator:return e.source;case M.nL.Effect.Type.SwitchLens:return e.source.pipe(E.b((e=>this._switchLensActions.next(e))),k.c(C.C));case M.nL.Effect.Type.SwitchAlert:return e.source.pipe(E.b((e=>this._switchAlertActions.next(e))),k.c(C.C));default:return(0,c.vE)(e)}}_checkState(e){try{if(M.nL.hasCards(e)){const t=e.currentLens.items.filter((0,l.W9)(T.o.isAnimatable,T.o.isFocused));(0,c.kG)(t.size<=1,"cannot have more than one focused card",(()=>JSON.stringify(t)))}}catch(e){return a.t$(e)}return a.F2(void 0)}}_.toLensAlert=({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:e.lensId})},89770:(e,t,n)=>{n.d(t,{T:()=>P,oq:()=>D,yC:()=>N,zc:()=>L});var r=n(57050),i=n(40327),o=n(73975),a=n(22232),s=n(92843),l=n(5114),c=n(8125),u=n(83078),d=n(81531),p=n(46680),m=n(51374),f=n(74660),h=n(66896),g=n(4390),y=n(91247),v=n(76974),b=n(85985),w=n(28043),S=n(77176),x=n(24209),E=n(16118),I=n(2834),k=n(66310),C=n(93508),A=n(17594),T=n(35416),M=n(6100),O=n(93265);const _=(0,r.ff)(f.bZ.isMuted),P=()=>T.nL.create({alertSource:f.l$.api,switchOrder:"lensOrder",currentLens:M.v.Closed.create(r.jv,o.f7(r.jv))}),L=()=>T.nL.create({alertSource:f.l$.api,switchOrder:"lensOrder",currentLens:M.v.DraftAI.create()}),N=()=>T.nL.create({alertSource:f.l$.api,switchOrder:"lensOrder",currentLens:M.v.Cheetah.create()});class D{constructor(e,t,n,r,o,a,s,l,c,u=T.nL.FocusFirstFilter.defaultFilter){this._checkingState=e,this._alertsReader=t,this._lenses=n,this._positionManager=r,this._lensPreviewVM=o,this._lensViewFactory=a,this._alertsHandlerFactory=s,this._capabilities=l,this._alertsFilterService=c,this._focusFirstFilter=u,this._transformAlertsDiffToApplicator=e=>t=>n=>T.nL.hasItems(n)?n.patch({currentLens:e(t,_)(n.currentLens)}):n,this._log=d.C8.Logging.getLogger("FocusedLensManagerImpl"),this._updateMetaSource=e=>t=>n=>e===n.currentLens.id&&T.nL.hasItems(n)?T.nL.Prism.getLensWithItems().modify(this._capabilities.updateMeta(t),n):n,this._lensAlerts=e=>{const t=this._alertsFilterService.alertVisibleInSidebar(e.id);return(0,i.pipe)(this._checkingState.get(),g.p.reduce([],((e,{alert:n})=>t(n)?[...e,n]:e)),(e=>e.sort(f.h$.ord.compare)))}}static _mapByActiveLensId(e,t,n,r){if(h.R.isOutcomeId(e))return r();switch(e){case h.R.SpecialId.Plagiarism:return t();case h.R.SpecialId.Premium:return n();case h.R.SpecialId.AllAlerts:case h.R.SpecialId.Priority:case h.R.SpecialId.PredictionTakeaways:case h.R.SpecialId.PredictionEmogenie:case h.R.SpecialId.RealTimeProofit:case h.R.SpecialId.FreePremiumAlerts:return r();default:return(0,a.vE)(e)}}_conditionedApplicator(e,t){return n=>r=>e(r,n)?t(n)(r):r}static _filterALEvents(e,t){return n=>v.of((0,i.pipe)(n,g.p.Diff.filter((t=>e(t.alert))),(e=>(t.isEnabled(p.i.TRACE)&&t.trace("diff after filter",e),e)))).pipe(b.h((0,r.ff)(s.v.isEmpty)))}emptyState(e=h.R.SpecialId.AllAlerts){return T.nL.create({currentLens:this._createLens({lensId:e,initialLens:this._lensPreviewVM.getLens(e).get(),visibleAlerts:[],alertHighlight:l.none,alertSource:f.l$.api}),alertSource:f.l$.api,switchOrder:"lensOrder"})}getLensEventsByLensId(e,t,n={}){const r=this._getActiveLensMeta(t),o=this._lensAlerts(r),a=this._createState(e,l.none,r,t,o),s=n.focusBehavior?this._getAlertToFocus(n.focusBehavior,a):l.none;e.currentLens.id===t&&T.nL.hasItems(e)&&this._capabilities.getActiveAlertsCount(e.currentLens)!==o.length&&this._log.warn("Lens contains inconsistent number of alerts",r.id);const c=T.nL.hasItems(a)?(0,i.pipe)(s,l.fold((()=>a),(n=>this._createState(e,l.some(n),r,t,o)))):a;return this._generateEventsFromState(c,this._alertsHandlerFactory(t))}getLensEventsByAlert(e,t,n){(0,a.kG)(l.isSome(this._alertsReader.getById(n.alert.id)),"Can't focus non existing alert",n.alert.id);const r=this._getActiveLensMeta(t),i=e.currentLens.meta.id===t&&e.currentLens.meta.filter(n.alert)&&T.nL.hasItems(e)?T.nL.Prism.getLensWithItems().modify(this._capabilities.selectItemByAlert(n),e):this._createState(e,l.some(n),r,t,this._lensAlerts(r));return this._generateEventsFromState(i,this._alertsHandlerFactory(t))}findClosestAlertHighlight(e,t){return(0,i.pipe)(this._positionManager.findClosestToPosition(e,(e=>m.P.is(e)&&m.x.isVisible(e)&&!m.x.isApplied(e)&&(0,i.pipe)(this._alertsReader.getRegistered(e.meta.alertId),l.exists((n=>this._alertsFilterService.alertCanBeDisplayed(n)&&t(n)&&n.getHighlightRanges().some((t=>t.meta.id===e.meta.id))))))),l.chain((e=>(0,i.pipe)(this._alertsReader.getRegistered(e.meta.alertId),l.map((t=>{const n={alert:A.$.fromModel(t),highlightIndex:t.getHighlightRanges().findIndex((t=>t.meta.id===e.meta.id))};return n.highlightIndex<0&&(this._log.error("findClosestAlertRange returned a range which doesn't exist in alert.highlightRanges",{alert:n.alert.toString(),range:JSON.stringify(e),positionManagerRanges:JSON.stringify(this._positionManager.findRanges((e=>m.P.is(e)&&e.meta.alertId===t.id))),hasPendingRanges:t.hasNewRangesForUpdate}),n.highlightIndex=0),n}))))))}findNextAlertInText({alert:e,highlightIndex:t},n){const r=e.getHighlightRanges();return(0,a.kG)(t<r.length,"AHI is out of highlightRanges length",`hr length: ${r.length}, ahi: ${t}`),this.findClosestAlertHighlight(r[t].end,n)}findNextAlertInTextByLens(e,t,n){return this.findNextAlertInText(e,this._alertsFilterService.alertVisibleInText(t,n))}findPremiumAlert(){return this._lensPreviewVM.getLens(h.R.SpecialId.Premium).get().count>0?(0,i.pipe)(this._checkingState.get(),g.p.find((0,r.ls)(f.bZ.fromAlertModel,(0,c.W9)(f.bZ.isRegistered,f.bZ.isPremium))),l.map((e=>({alert:A.$.fromModel(e.alert),highlightIndex:0})))):l.none}hasZeroFreeAlerts(e){return 0===this._lensPreviewVM.getLens(e.get()).get().priorityCount}_getMetaChangesObservable(e){return T.nL.hasItems(e)&&e.currentLens.kind===T._L.persistent?this._lensPreviewVM.getLens(e.currentLens.id).view(this._updateMetaSource(e.currentLens.id)):T.nL.hasItems(e)&&e.currentLens.type===T.Nm.lensview?this._lenses.pipe(w.x(y.w.eq.equals),S.U((0,r.ls)(y.w.lookup(e.currentLens.id),l.map(this._updateMetaSource(e.currentLens.id)),l.getOrElse((()=>T.nL.Effect.Applicator.Source.identity))))):T.nL.Effect.Applicator.Source.empty}_generateEventsFromState(e,t){return x.T(this._checkingState.pipe(E.G(),S.U((([e,t])=>g.p.diff(e,t))),I.b((e=>{this._log.isEnabled(p.i.TRACE)&&this._log.trace("new alerts diff",e)})),k.w(D._filterALEvents(e.currentLens.meta.filter,this._log)),S.U(this._conditionedApplicator(((e,t)=>{const n=this._alertsFilterService.getLensesFilter(e.currentLens.id),o=(0,i.pipe)(t,g.p.Diff.filter((0,r.ff)((({alert:e})=>n(e)))));return s.v.isEmpty(o)}),this._transformAlertsDiffToApplicator(t)))),this._getMetaChangesObservable(e)).pipe(C.O(T.nL.Effect.Applicator.Source.override(e)))}_getActiveLensMeta(e){const t=D._mapByActiveLensId(e,(()=>this._lensPreviewVM.getLens(h.R.SpecialId.Plagiarism).get()),(()=>this._lensPreviewVM.getLens(h.R.SpecialId.Premium).get()),(()=>this._lensPreviewVM.getLens(e).get()));return(0,a.kG)(void 0!==t,`unknown lensId:${e}`),t}_createState({alertSource:e,switchOrder:t},n,r,o,s){(0,a.kG)(u.wo((({alert:e})=>l.isSome(this._alertsReader.getInteractable(e.id))))(n),"we can create state only with alert in registered state",(()=>(0,i.pipe)(n,l.fold((()=>"null"),(e=>e.toString())))));const c=this._createLens({lensId:o,initialLens:r,visibleAlerts:s,alertHighlight:n,alertSource:e});return T.nL.create({currentLens:c,alertSource:e,switchOrder:t})}_createLens(e){const t=this._focusFirstFilter(e);return O.v.createWithInitialAlerts(this._lensViewFactory,this._alertsHandlerFactory,this._alertsFilterService,_,this._capabilities)(e.lensId,e.initialLens,e.visibleAlerts,t)}_getAlertToFocus(e,t){switch(e.kind){case T.nL.Effect.FocusBehaviorType.noFocus:case T.nL.Effect.FocusBehaviorType.unFocus:return l.none;case T.nL.Effect.FocusBehaviorType.focusFirst:return T.nL.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):l.none;case T.nL.Effect.FocusBehaviorType.focusNext:return T.nL.hasItems(t)?this._capabilities.findNextAlert(t.currentLens):l.none;case T.nL.Effect.FocusBehaviorType.focusAlert:return l.some(e.alertHighlight);default:(0,a.vE)(e)}}}},39920:(e,t,n)=>{n.d(t,{ad:()=>u,gi:()=>d,is:()=>l,kn:()=>c});var r,i=n(22232),o=n(66896),a=n(35416),s=n(6100);!function(e){e.compose=function(e){return t=>a.CX.compose(e.map((e=>e(t))))},e.map=function(e,t){return n=>t(e(n))}}(r||(r={}));const l=(e,t)=>n=>{if(o.R.isOutcomeId(n))return s.v.WithSuccess.getAlertHandler(e,t);switch(n){case o.R.SpecialId.Premium:return s.v.Premium.getAlertsHandler(e,t);case o.R.SpecialId.AllAlerts:case o.R.SpecialId.Priority:case o.R.SpecialId.PredictionTakeaways:case o.R.SpecialId.PredictionEmogenie:case o.R.SpecialId.RealTimeProofit:case o.R.SpecialId.FreePremiumAlerts:return s.v.WithSuccess.getAlertHandler(e,t);default:return(0,i.vE)(n)}},c=(e,t,n,r,i)=>o=>n(o)?s.v.WithBundles.getAlertsHandler(e,t,i):r(o);class u{constructor(e,t,n,r){this._lensPredicate=e,this._inner=t,this._itemEq=n,this._itemOrd=r}create(e,t){return this._lensPredicate(t)?s.v.WithBundles.create(e,t,this._itemEq,this._itemOrd):this._inner.create(e,t)}}class d{constructor(e,t){this._itemEq=e,this._itemOrd=t}create(e,t){const n=()=>s.v.WithSuccess.create(e,t,this._itemEq,this._itemOrd);if(o.R.isOutcomeId(e))return n();switch(e){case o.R.SpecialId.Premium:return s.v.Premium.create(t,this._itemEq,this._itemOrd);case o.R.SpecialId.AllAlerts:case o.R.SpecialId.Priority:case o.R.SpecialId.PredictionTakeaways:case o.R.SpecialId.PredictionEmogenie:case o.R.SpecialId.RealTimeProofit:case o.R.SpecialId.FreePremiumAlerts:return n();default:return(0,i.vE)(e)}}}},88772:(e,t,n)=>{n.d(t,{t:()=>r});var r,i=n(95195),o=n(35416);!function(e){e.nothing=i.t$,e.liftLensState=function(e){return t=>i.t$(Object.assign(Object.assign({},t),{state:e(t.state)}))},e.liftWithItemsState=function(e){return t=>i.t$(Object.assign(Object.assign({},t),{state:o.nL.hasItems(t.state)?o.nL.Prism.getLensWithItems().modify(e,t.state):t.state}))},e.liftLensView=function(e){return t=>i.t$(Object.assign(Object.assign({},t),{state:o.nL.hasCards(t.state)?o.nL.Prism.getLens().modify(e,t.state):t.state}))}}(r||(r={}))},66866:(e,t,n)=>{n.d(t,{EQ:()=>R,ay:()=>N,$A:()=>D});var r,i=n(57050),o=n(40327),a=n(95195),s=n(8125),l=n(95574),c=n(22232),u=n(5114),d=n(83078),p=n(74660),m=n(66896),f=n(32952),h=n(28043),g=n(66310),y=n(40151),v=n(44586),b=n(78674),w=n(77176),S=n(93508),x=n(598),E=n(83401),I=n(98403),k=n(19751),C=n(76974),A=n(2834),T=n(41398),M=n(55935),O=n(60797),_=n(85985),P=n(73975),L=n(71249);!function(e){e.eq=(0,P.MW)({alert:(0,P.Uz)((e=>e.id))(P.w4),highlightIndex:P.w4}),e.getEq=()=>e.eq,e.getHighlightRange=e=>L.P5(e.highlightIndex)(e.alert.getHighlightRanges())}(r||(r={}));var N,D,R,j=n(35416);!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(N||(N={})),function(e){e.Mock=class{constructor(){this.events=new f.xQ,this.focusAlertHighlight=()=>a.t$(new Error("Method not implemented.")),this.highlightAlertHighlight=()=>a.t$(new Error("Method not implemented.")),this.moveCursorToHighlight=s.Q1}ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}},e.getHighlightIndex=function(e,t){return(0,o.pipe)(t,a.Vn((()=>new Error("Mark is collapsed"))),a.tS((t=>l.vM((()=>{const n=e.getHighlightRanges(),r=n.length>1?n.findIndex((e=>e.start===t.start&&e.end===t.end)):0;return(0,c.kG)(-1!==r,"Could not find highlight index by Range for provided Alert",(()=>JSON.stringify({alertRanges:n,targetRange:t}))),r})))))}}(D||(D={})),function(e){e.getHighlightSubscribtion=(e,t,n)=>e.pipe(h.x(u.getEq(p.h$.ord).equals),g.w((e=>(0,o.pipe)(e,u.fold((()=>y.E),(e=>v.y.create((()=>(n.debug(`highlight mark: ${e.id}`),(0,o.pipe)(t.highlightAlertHighlight(e),a.g_((t=>(n.error("Cannot highlight mark",t,{alertId:e.id}),s.Q1)),(t=>()=>{n.debug(`unhighlight mark: ${e.id}`),t.dispose()})))))))))))),e.getHoverAlertHightlightSource=(e,t,n,r)=>(0,o.pipe)(r,b.b(100),w.U((0,i.ls)(u.chain((r=>{const i=e.get();return j.nL.hasCards(i)?i.currentLens.items.find((e=>(0,o.pipe)(t.hasActiveAlert(e),u.map((e=>e.alert)),u.exists((t=>e.id===r&&n.isRegistered(t.id)))))):u.none})),u.chain((({value:e})=>t.hasActiveAlert(e))),u.map((e=>e.alert)))),h.x(u.getEq(p.h$.ord).equals),w.U(u.map((t=>({alert:t,highlightIndex:0,source:e.get().alertSource})))),S.O(u.none)),e.highlightMarkByHighlightedCard=(t,n,r,a,s,l)=>{const c=e.getHighlightSubscribtion(t.hovered.pipe(b.b(100),w.U((0,i.ls)(u.chain((e=>{const t=n.get();return j.nL.hasCards(t)?t.currentLens.items.find((t=>(0,o.pipe)(s.hasActiveAlert(t),u.map((e=>e.alert)),u.exists((n=>t.id===e&&a.isRegistered(n.id)))))):u.none})),u.chain((({value:e})=>s.hasActiveAlert(e))),u.map((e=>e.alert))))),r,l);return{id:"highlightMarkByHighlightedAlert",when:m.R.isWithAlertsId,what:j.nL.Effect.Applicator.create(c.pipe(x.c(E.C)))}},e.getAlertHighlightSource=e=>t=>(0,o.pipe)(t,h.x(u.getEq(p.h$.ord).equals),w.U(u.map((t=>({alert:t,source:e,highlightIndex:0})))),S.O(u.none)),e.getActiveHighlightSource=(e,t,n)=>e.view(j.nL.mapper((({currentLens:e,alertSource:t})=>(0,o.pipe)(n(e),u.map((e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))))).pipe(g.w(I.b2.rafScheduler),k.skipBy(u.getEq(r.getEq())),w.U(u.filter((e=>u.isSome(t.getRegistered(e.alert.id)))))),e.focusMarkByActiveAlert=(t,n,r,i,l,c=C.of(!0))=>{const f=(0,o.pipe)(e.getActiveHighlightSource(t,r,i),A.b(d.bw((e=>l.trace("new alert highlight: ",e)))),T.M(c),g.w((([e,t])=>(0,o.pipe)(e,u.fold((()=>(l.debug("Nothing to focus"),y.E)),(e=>v.y.create((()=>(l.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}`),e.source===p.l$.sidebar&&t&&n.moveCursorToHighlight(e,"start"),(0,o.pipe)(n.focusAlertHighlight(e),a.g_((t=>(l.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),s.Q1)),(t=>()=>{l.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()}))))))))))));return{id:"focusMarkByActiveAlert",when:m.R.isWithAlertsId,what:j.nL.Effect.Applicator.create(f.pipe(x.c(E.C)))}},e.focusAlertByClickedMark=(e,t)=>({id:"focusAlertByActiveMark",when:j.nL.Effect.When.isSidebarOpen,what:j.nL.Effect.SwitchAlert.create(e.alertClicked.pipe(M.T(1),O.oA,_.h((e=>p.bZ.State.isRegistered(e.alert.state))),T.M(t.pipe(_.h(j.nL.hasCards)),((e,t)=>e)),w.U((({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:p.l$.text,options:{order:"textOrder"}})))))}),e.createOnAlertApplySideEffect=function(e,t){const n=e.pipe(w.U((e=>n=>e.type===N.Type.AppliedAlertAnimationFinished&&n.currentLens.meta.filter(e.alert)&&p.bZ.isApplicableAlert(e.alert)&&j.nL.hasItems(n)?n.patch({currentLens:t.finishApplyAnimation([e.alert])(n.currentLens),alertSource:e.alert.state.source}):n)));return{id:"onAlertApply",when:j.nL.Effect.When.isSidebarOpen,what:j.nL.Effect.Applicator.create(n)}}}(R||(R={}))},64992:(e,t,n)=>{n.d(t,{O:()=>v,x:()=>y});var r=n(45701),i=n(18208),o=n(68983),a=n(66896),s=n(37539);function l(e){return`${e} ${i._6(e,"alert","alerts")}`}const c=e=>(t,n,r,i,o)=>t?l(n.count):e(n,r,i,o),u=(e,t)=>(n,r,i,o)=>{const a=o?n.count:n.priorityCount;return a>0?l(a):i&y.IsDocumentEmpty?e:t},d={description:"Improves spelling, grammar, and punctuation.",stateMessage:c(u("No alerts","Looking good"))},p={description:"Helps make your writing easier to understand.",stateMessage:c(((e,t,n)=>{const i=(0,o.W)(r.lt(s.g.ord))(t);if(n&y.IsDocumentEmpty)return"So far so good";if(e.count>0){if(s.g.isMin(t))return l(e.count);if(i(s.g.fromNumber(20)))return"Unclear";if(i(s.g.fromNumber(70)))return"A bit unclear";if(i(s.g.fromNumber(85)))return"Mostly clear";if(i(s.g.fromNumber(95)))return"Clear"}return"Very clear"}))},m={description:"Helps make your writing more interesting and effective.",stateMessage:c(((e,t,n)=>{const i=n&y.IsFreeUser,a=s.g.isMin(t),c=(0,o.W)(r.lt(s.g.ord))(t);if(n&y.IsDocumentEmpty||i&&a)return"Nothing yet";if(i||e.count>0){if(a)return l(e.count);if(c(s.g.fromNumber(20)))return"Bland";if(c(s.g.fromNumber(80)))return"A bit bland";if(c(s.g.fromNumber(95)))return"Engaging"}return"Very engaging"}))},f={description:"Helps you make the right impression on your reader.",stateMessage:c(((e,t,n)=>{const i=n&y.IsFreeUser,a=s.g.isMin(t),c=(0,o.W)(r.lt(s.g.ord))(t);if(n&y.IsDocumentEmpty||i&&a)return"Nothing yet";if(i||e.count>0){if(a)return l(e.count);if(c(s.g.fromNumber(20)))return"Serious issues";if(c(s.g.fromNumber(40)))return"Very off";if(c(s.g.fromNumber(95)))return"Slightly off"}return"Just right"}))},h={description:"Your organizationâs writing guidelines.",stateMessage:c(u("Nothing yet","All good"))},g={[a.R.SpecialId.Correctness]:d,[a.R.SpecialId.CorrectnessPriority]:d,[a.R.SpecialId.Clarity]:p,[a.R.SpecialId.ClarityPriority]:p,[a.R.SpecialId.Engagement]:m,[a.R.SpecialId.EngagementPriority]:m,[a.R.SpecialId.Delivery]:f,[a.R.SpecialId.DeliveryPriority]:f,[a.R.SpecialId.Vox]:h,[a.R.SpecialId.VoxPriority]:h,[a.R.SpecialId.Plagiarism]:{description:"Checks for similarities to published writing.",stateMessage:c(((e,t,n)=>n&y.IsLensVisited&&!(n&y.IsDocumentEmpty)?n&y.IsLensActive?s.g.isMin(t)?"100% original":`${t}% unoriginal`:"Recheck":"Not checked yet"))},[a.R.SpecialId.Premium]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:c(((e,t,n)=>n&y.IsDocumentEmpty?"Advanced checks":`${e.count} more ${i._6(e.count,"alert","alerts")}`))},[a.R.SpecialId.FreePremiumAlerts]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:c(((e,t,n)=>n&y.IsDocumentEmpty?"Advanced checks":`${e.count} more ${i._6(e.count,"alert","alerts")}`))}};var y;function v(e){return g[e]}!function(e){e[e.IsDocumentEmpty=1]="IsDocumentEmpty",e[e.IsLensActive=2]="IsLensActive",e[e.IsLensVisited=4]="IsLensVisited",e[e.IsFreeUser=8]="IsFreeUser"}(y||(y={}))},12768:(e,t,n)=>{n.d(t,{g:()=>s});var r,i=n(5114),o=n(8125),a=n(38983);!function(e){let t,n;!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(t=e.PlagiarismCheckingState||(e.PlagiarismCheckingState={})),function(e){e.Mock=class{constructor(){this.downloadStarted=a.h.create(!1),this.beginDownload=o.Q1,this.tryToInterrupt=o.Q1,this.generateReport=()=>{throw new Error("Method not implemented.")},this.reportData=a.h.create(i.none),this.dedHTML="",this.dispose=o.Q1}}}(n=e.ViewModel||(e.ViewModel={}))}(r||(r={}));var s,l=n(76974);!function(e){let t,n;!function(e){let t;!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(t=e.Type||(e.Type={}))}(t=e.State||(e.State={})),function(e){e.Mock=class{constructor(e={type:t.Type.EMPTY},n=i.some(new r.ViewModel.Mock)){this.statisticsState=e,this.reportViewModel=n,this.state=l.of(this.statisticsState),this.onModalClose=o.Q1}}}(n=e.ViewModel||(e.ViewModel={}))}(s||(s={}))},27125:(e,t,n)=>{if(n.d(t,{L:()=>E,g:()=>i}),3075==n.j)var r=n(40327);var i,o=n(38983);if(3075==n.j)var a=n(63513);if(3075==n.j)var s=n(5114);if(3075==n.j)var l=n(66896);if(3075==n.j)var c=n(35416);if(3075==n.j)var u=n(32952);if(3075==n.j)var d=n(85985);if(3075==n.j)var p=n(77176);if(3075==n.j)var m=n(66310);if(3075==n.j)var f=n(98403);if(3075==n.j)var h=n(93508);if(3075==n.j)var g=n(16118);if(3075==n.j)var y=n(76974);if(3075==n.j)var v=n(50628);if(3075==n.j)var b=n(17343);if(3075==n.j)var w=n(60797);if(3075==n.j)var S=n(2834);if(3075==n.j)var x=n(6100);class E{constructor(e,t,n,y,v,b,w,S=x.v.WithSuccess.State.isInSuccess(y),E){this._state=e,this._documentModel=t,this._trackSuccessStateChanged=n,this._capabilities=y,this.nonPriorityOptions=v,this.mutedAlertsOptions=b,this.hasNonPriorityAlerts=w,this.isInSuccess=S,this._withBirthday=E,this._getTextAmount=e=>0===e?i.TextAmount.zero:e<=a.hD?i.TextAmount.small:i.TextAmount.large,this._subs=[],this.textAmount=o.h.create(this._getTextAmount(this._documentModel.documentLength.get().trimmed)),this.actionEvents=new u.xQ,this.applicatorEffects={id:"successViewModel.effects",when:l.R.isWithAlertsId,what:c.nL.Effect.Applicator.create(this.actionEvents.pipe(d.h((({type:e})=>e===i.ActionType.More)),p.U((()=>e=>{const t=e.patch({currentLens:c.nL.hasItems(e)&&(0,c.yi)(e.currentLens)?this._capabilities.toggleNonPriorityList("expanded")(e.currentLens):e.currentLens});return(0,r.pipe)(c.nL.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):s.none,s.fold((()=>t),(e=>t.patch({currentLens:c.nL.hasItems(t)?this._capabilities.selectItemByAlert(e)(t.currentLens):t.currentLens}))))}))))},this._currentLens=this._state.view((e=>({isSuccess:this.isInSuccess(e),type:e.currentLens.type,nonPriorityAlertsLeft:c.nL.isLensview(e)&&c.nL.hasItems(e)&&0!==this._capabilities.getActiveAlertsCount(e.currentLens),isAllAlerts:l.R.isMainLens(e.currentLens.id)}))),this._listenTextSize=()=>this._currentLens.view((e=>e.isSuccess)).pipe(m.w(f.Ft(this._documentModel.documentLength.view("trimmed"))),p.U(this._getTextAmount)).subscribe(f.wW(this.textAmount)),this._lensSwitch=this._currentLens.pipe(h.O(this._currentLens.get()),g.G(),p.U((([e,t])=>t.isSuccess?s.some({prevLensType:e.type,nonPriorityAlertsLeft:t.nonPriorityAlertsLeft,isAllAlerts:t.isAllAlerts}):s.none))),this._textAmountToSuccessType=e=>e===i.TextAmount.zero?{type:i.SuccessType.zero,showBirthday:this._withBirthday.get()}:e===i.TextAmount.large?{type:i.SuccessType.large}:{type:i.SuccessType.small},this.successState=o.h.create({type:i.SuccessType.zero,showBirthday:this._withBirthday.get()}),this._subs.push(this._listenTextSize(),this._listenSuccessStateChange()),this.priorityList=(0,r.pipe)(v,s.map((e=>({hasNonPriorityAlerts:this._state.view(w),reviewNonPriorityAlerts:()=>{e.trackNonPriorityToggle(),this.actionEvents.next({type:i.ActionType.More})}})))),this.mutedAlerts=(0,r.pipe)(b,s.map((()=>({reviewMutedSuggestions:()=>{},mutedSuggestionsCount:this._state.view((e=>e.currentLens.meta.mutedCount))}))))}dispose(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}_listenSuccessStateChange(){const e=e=>e.type===i.SuccessType.applied||e.type===i.SuccessType.zero?y.of(e):this._documentModel.checkingState.pipe(d.h((e=>"checking"!==e)),v.P(),b.h(e));return this._lensSwitch.pipe(w.cp((t=>this.textAmount.pipe(p.U(this._textAmountToSuccessType),h.O(t.prevLensType===c.Nm.lensview?{type:i.SuccessType.applied,nonPriorityAlertsLeft:t.nonPriorityAlertsLeft,isAllAlerts:t.isAllAlerts}:this._textAmountToSuccessType(this.textAmount.get())),g.G(),p.U((([e,t])=>e.type===i.SuccessType.applied&&t.type!==i.SuccessType.zero?e:t)),m.w(((t,n)=>0===n?y.of(t):e(t))),S.b((e=>{this._trackSuccessStateChanged(e.type===i.SuccessType.applied?"applied":e.type===i.SuccessType.zero?"nothingToCheck":"noIssues")})))))).subscribe(f.wW(this.successState))}}!function(e){let t,n,r;!function(e){e.More="More"}(t=e.ActionType||(e.ActionType={})),function(e){e.zero="zero",e.small="small",e.large="large"}(n=e.TextAmount||(e.TextAmount={})),function(e){e.zero="zero",e.small="small",e.large="large",e.applied="applied",e.premiumOnboardingStart="premiumOnboardingStart",e.premiumOnboardingComplete="premiumOnboardingComplete"}(r=e.SuccessType||(e.SuccessType={}));e.Mock=class{constructor(){this.textAmount=o.h.create(n.zero),this.successState=o.h.create({type:r.zero,showBirthday:!1}),this.mutedSuggestionsCount=o.h.create(0),this.hasNonPriorityAlerts=o.h.create(!1)}reviewMutedSuggestions(){throw new Error("Method not implemented.")}reviewNonPriorityAlerts(){throw new Error("Method not implemented.")}dispose(){throw new Error("Method not implemented.")}}}(i||(i={}))},18955:(e,t,n)=>{n.d(t,{d:()=>A});var r=n(27378),i=n(5739),o=n(38983),a=n(5114),s=n(19962),l=n(81531),c=n(46680),u=n(74238),d=n(9922),p=n(77176),m=n(24209),f=n(18625),h=n(66310),g=n(40151),y=n(85089),v=n(2834),b=n(49708),w=n(93508),S=n(17343),x=n(98403),E=n(76974),I=n(19751),k=n(67434),C=n(57091);class A extends r.Component{constructor(){super(...arguments),this._log=l.C8.Logging.getLogger("CardsListConnectorView",c.i.DEBUG),this._subs=new d.w.Keeper}componentDidMount(){!0===this.props.isMaster&&this._setMaster()}componentDidUpdate(e){const t=this.props.name;this._log.debug("lensview did update",{wasMaster:e.isMaster,nowMaster:this.props.isMaster,name:t}),!0===this.props.isMaster?!1===e.isMaster?(this._log.info("reuse released view",t),this.forceUpdate((()=>{this._setMaster(),this._log.trace("view force update complete",t)}))):(this._log.trace("set master view",t),this._setMaster()):(this._log.trace("release master view",t),this._clearSubs())}componentWillUnmount(){this._clearSubs()}render(){const{className:e,children:t,height:n}=this.props;return r.createElement(i.F.div,{"data-purpose":"card-list-connector",style:n.pipe(p.U((e=>({height:e})))),className:e},t)}_setMaster(){this._setSubs()}_setSubs(){this._clearSubs(),this._subs.push(this.props.stateSyncListener.subscribe())}_clearSubs(){this._subs.dispose()}}!function(e){let t;!function(e){e.create=()=>o.h.create({scrollProvider:a.none,scrollConsumer:a.none,viewport:a.none,title:a.none})}(t=e.Elements||(e.Elements={})),e.boundedScrollListener=(e,t)=>m.T(f.P((()=>{e.paddingTop.set(0)})),t.view("viewport").pipe(h.w(a.fold((()=>g.E),(e=>y.YC(e).pipe(p.U((t=>Object.assign(Object.assign({},t),{top:e.offsetTop,height:e.offsetHeight}))))))),v.b((t=>e.viewport.set({top:u.r.FromWindowTop.ISO.wrap(t.top),height:t.height})))),t.view("scrollProvider").pipe(h.w(a.fold((()=>g.E),(t=>b.R(t,"scroll").pipe(p.U((()=>t.scrollTop)),w.O(t.scrollTop),v.b((t=>e.scrollTop.set(t))),S.h(x.PU)))))),t.view("title").pipe(h.w(a.fold((()=>E.of(s.UL.empty)),(e=>y.YC(e)))),p.U((e=>e.height)),I.shareReplay({bufferSize:1,refCount:!0}),v.b((t=>e.paddingTop.set(t)))),t.view("scrollConsumer").pipe(h.w(a.fold((()=>g.E),(t=>e.scrollOffset.pipe(v.b((e=>{t.scrollTop+=e})))))))).pipe(S.h(void 0)),e.superScrollListener=(e,t)=>{const n=t.view("title").pipe(h.w(a.fold((()=>E.of(s.UL.empty)),(e=>y.YC(e)))),p.U((e=>e.height)),I.shareReplay({bufferSize:1,refCount:!0}));return m.T(f.P((()=>{e.paddingTop.set(0)})),t.view("viewport").pipe(h.w(a.fold((()=>g.E),(e=>y.YC(e).pipe(p.U((t=>Object.assign(Object.assign({},t),{top:e.offsetTop,height:e.offsetHeight}))))))),v.b((t=>e.viewport.set({top:u.r.FromWindowTop.ISO.wrap(t.top),height:t.height})))),t.view("scrollProvider").pipe(h.w(a.fold((()=>g.E),(t=>b.R(t,"scroll").pipe(p.U((()=>t.scrollTop)),w.O(t.scrollTop),v.b((t=>e.scrollTop.set(t))),S.h(x.PU)))))),t.view("scrollConsumer").pipe(h.w(a.fold((()=>g.E),(t=>e.scrollOffset.pipe(k.R(((e,t)=>e-t),0),v.b((e=>{t.style.transform=`translateY(${e}px)`})))))),C.a(n),v.b((([t,n])=>e.paddingTop.set(t+n))))).pipe(S.h(void 0))}}(A||(A={}))},4948:(e,t,n)=>{n.d(t,{J:()=>c});var r=n(27378),i=n(44060),o=n(89894),a=n(40219);if(3075==n.j)var s=n(64757);var l=n(94632);const c=e=>r.createElement(s.zx.Animated,Object.assign({},(0,s.L_)(e,p.gray))),u={position:"relative",display:"inline-block",overflow:"hidden",outline:"none",border:0,verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer"}}},d={overflow:"hidden",padding:`0 ${o.ux.rem(.5)}`,borderRadius:o.ux.rem(a.fx),backgroundColor:i.Il.CoreNeutral60,color:i.Il.CoreNeutral0,textTransform:"none",letterSpacing:o.ux.rem(i.xv.ButtonLetterSpacing),fontSize:o.ux.rem(i.xv.ButtonSize),lineHeight:o.ux.rem(i.xv.ButtonLineHeight),transitionDuration:o.ux.seconds(.2),$nest:{"&[data-active='true'] > i[role='icon'] > svg, &:not([data-disabled='true']):hover > i[role='icon'] > svg, &:not([data-disabled='true'])[data-hovered='true'] > i[role='icon'] > svg":{fill:i.Il.CoreNeutral0},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:i.Il.CoreNeutral50,color:i.Il.CoreNeutral0},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:i.Il.CoreNeutral50,color:i.Il.CoreNeutral0,$nest:{"&:hover":{backgroundColor:i.Il.CoreNeutral50,color:i.Il.CoreNeutral0}}},"&[data-disabled='true']":{backgroundColor:i.Il.CoreNeutral60,color:i.Il.CoreNeutral50},[`.${l.vD} &`]:{padding:`0 ${o.ux.rem(.5)}`,marginRight:o.ux.px(2),borderRadius:0,backgroundColor:i.Il.CoreNeutral60,$nest:{"&:first-child":{borderRadius:`${o.ux.rem(a.fx)} 0 0 ${o.ux.rem(a.fx)}`},"&:last-child":{marginRight:0,borderRight:"none",borderRadius:`0 ${o.ux.rem(a.fx)} ${o.ux.rem(a.fx)} 0`},"&[data-active='true']":{backgroundColor:i.Il.CoreBlue50,color:i.Il.CoreNeutral0,$nest:{"&:hover":{backgroundColor:i.Il.CoreBlue40,color:i.Il.CoreNeutral0}}}}}}},p=o.ux.stylesheet({button:[u],gray:[u,d]})},82858:(e,t,n)=>{n.d(t,{s:()=>P});var r,i,o=n(27378),a=n(5739),s=n(22232),l=n(44060),c=n(35407),u=n(88056),d=n(19429),p=n(76024),m=n(59312),f=n(95195),h=n(69243),g=n(55485);!function(e){e.prod="prod",e.preprod="preprod",e.qa="qa",e.fb="fb",e.dev="dev"}(r||(r={})),function(e){e.american="american",e.british="british",e.canadian="canadian",e.australian="australian",e.indian="indian"}(i||(i={}));var y,v=h.mM({".grammarly.com":null,".ppgr.io":null,".qagr.io":null}),b=(0,m.ev)((0,m.ev)([],Object.keys(v.keys),!0),["grammarly.io","sumologic.com","microsoft.com","office.com","apple.com","google.com","mozilla.org","mozilla.net","outlook.live.com","127.0.0.1"],!1).map((function(e){return e.startsWith(".")?e.slice(1):e})),w=h.G0([h.dt({state:h.i0("disabled")}),h.dt({state:h.i0("enabled")}),h.dt({state:h.i0("test")})]),S=(h.dt({version:h.Z_}),new h.Dy("HttpString",h.Z_.is,(function(e,t){return f.wE.chain(h.Z_.validate(e,t),(function(n){return/^(https?|wss?):\/\/(\w|\d|-|\/|\.|\?|\=|\_|\&)+(:(\d)+)?$/.test(n)?h.Vp(n):h.Rn(e,t,"URL parsing failed (".concat(n,")"))}))}),String)),x=new h.Dy("MsStoreUrlString",h.Z_.is,(function(e,t){return f.wE.chain(h.Z_.validate(e,t),(function(n){return/ms-windows-store:\/\/(\w|\d|-|\/|\.|\?|\=|\_|\&)+(:(\d)+)?$/.test(n)?h.Vp(n):h.Rn(e,t,"Edge URL parsing failed (".concat(n,")"))}))}),String),E=new h.Dy("AllowedHttpString",S.is,(function(e,t){return f.wE.chain(S.validate(e,t),(function(n){for(var r=n.split("//")[1].split("/")[0].split(":")[0],i=0,o=b;i<o.length;i++){var a=o[i];if(r.endsWith(a))return h.Vp(n)}var s="Domain (".concat(r,") is not allowed in ").concat(b.join(", "));return h.Rn(e,t,s)}))}),S.encode),I=h.mM({TRACE:null,DEBUG:null,INFO:null,WARN:null,ERROR:null,FATAL:null,OFF:null}),k=(h.r$({env:g.D.createStringEnum(r,"Environment"),logLevel:I,accumulateCrashLogLevel:I,sendCrashOnLogLevel:I,collectLogs:h.O7,collectCrashLogs:h.O7,copyLogsToConsole:h.O7,crashLogsCacheSize:h.pk,debugLogsCacheSize:h.pk,tracking:w,alertCache:h.r$({prefix:h.Z_,version:h.Z_}),mutedCategoriesCache:h.r$({prefix:h.Z_,version:h.Z_}),outcomeScoreCache:h.r$({prefix:h.Z_,version:h.Z_}),userSettingsPrefix:h.Z_,userSettingsVersion:h.Z_,defaultDialect:g.D.createStringEnum(i,"DialectEnum"),notificationShowTimeMs:h.pk,maxNotificationsOnTheScreen:h.pk,selfUpdate:h.r$({versionCheckInterval:h.pk,selfUpdateDelay:h.pk,canReloadCheckInterval:h.pk,blockingModalAutoReloadDelay:h.pk,retryFailedVersionCheckInterval:h.pk,retryFailedVersionCheckLimit:h.pk,debugBuildVersion:h.Z_,versionFilePath:h.Z_}),pingMaybeGnarDelay:h.pk,domains:h.r$({cookie:v,localServer:h.Z_}),api:h.r$({analyticsUrl:E,analyticsPrivateUrl:E,authUrl:E,institutionUrl:E,snippetsUrl:E,clientControlsUrl:E,institutionAdminUrl:E,institutionAnalyticsUrl:E,institutionMembersUrl:E,institutionInviteesUrl:E,institutionGroupsUrl:E,institutionTonesUrl:E,institutionVaultUrl:E,knowledgeHubUrl:E,profileTonesUrl:E,tonesUrl:E,dapiUrl:E,doxUrl:E,doxWsUrl:E,irbisUrl:E,subscriptionUrl:E,discountUrl:E,dataReportUrl:E,capiWsUrl:E,capiApiUrl:E,gnarApi:h.r$({url:E}),femetricsUrl:E,felogUrl:E,felogDebugUrl:E,sumoUrl:E,crashLogUrl:E,onlineTestUrl:h.Z_,wsTest:E,proofitResultUrl:E,redirect:E,mailApiUrl:E,ssoUrl:E,scimUrl:E,workspaceUrl:E,voxWorkspaceUrl:E,voxInstitutionUrl:E,writingStylesUrl:E,appsUrl:E,tokensUrl:E}),app:h.r$({nameWeb:h.Z_,nameDesktop:h.Z_,webOnboarding:h.Z_}),urls:h.r$({free:h.Z_,account:E}),onlineEditor:h.r$({docId:E}),external:h.r$({gmail:E,gDocs:E,outlook:E}),funnel:h.r$({base:E,resetPassword:E,accountDeleted:E,businessLanding:E,businessStyleguideLanding:E,businessUpgradeLanding:E,subscribe:E,upgrade:E,plans:E,signin:E,socialSignin:E,signup:E,mainPage:E,deleteSocialAccount:E,subscriptionCancellationSurvey:E,keyboardInstall:E,desktopAppInstall:E,claimedUserJoinFallback:E,userTrustGuidelines:E,llamaServiceDownload:E,llamaServiceDownloadDirect:E,productRecommendation:E,tour:E,facebookTour:E,gDocsTour:E,gmailTour:E,canvasTour:E,linkedInTour:E,outlookTour:E,slackTour:E}),desktop:h.r$({windows:h.r$({installURL:E,infoURL:E}),mac:h.r$({installURL:E,infoURL:E})}),llama:h.r$({windows:E,mac:E}),mobileApp:h.r$({android:E,iOS:E}),extension:h.r$({autoCitations:h.r$({demoPageUrl:h.Z_}),chrome:h.r$({installURL:E,infoURL:E}),firefox:h.r$({installURL:E,infoURL:E}),safari:h.r$({installURL:E}),edge:h.r$({installURL:x,infoURL:E}),edgeChromium:h.r$({installURL:E})}),edu:h.r$({adminPanelURL:E}),support:h.r$({login:E,email:h.Z_,mainPage:E,newRequest:E,contact:E,connectionTroubleshooting:E,emailExistsKBUrl:E,safariDownloadFilesKBUrl:E,rtfCompatibilityUrl:E,diagnosticTestPath:h.Z_,documentAcceptTrackedChanges:E,introducingGrammarlyEditor:E}),privacyPolicy:E,termsOfService:E,account:h.r$({customize:E,subscription:E,adminSubscription:E,members:E,styleGuide:E,writingStyle:E,suggestions:E,writingProgress:E}),preconnectLinks:h.IX(S),ideas:h.r$({galleryURL:E})}),d.VF((function(){return{env:r.prod,logLevel:"INFO",accumulateCrashLogLevel:"DEBUG",sendCrashOnLogLevel:"ERROR",collectLogs:!0,collectCrashLogs:!0,copyLogsToConsole:!1,crashLogsCacheSize:100,debugLogsCacheSize:100,tracking:{state:"enabled"},alertCache:{prefix:"editorTsAlertCache",version:"4"},mutedCategoriesCache:{prefix:"mutedCategoriesCache",version:"0"},outcomeScoreCache:{prefix:"scoreCache",version:"0"},userSettingsPrefix:"userSettings",userSettingsVersion:"1",defaultDialect:i.american,notificationShowTimeMs:7e3,maxNotificationsOnTheScreen:3,selfUpdate:{versionCheckInterval:59*p.wn,selfUpdateDelay:12*p.p7,canReloadCheckInterval:5*p.cK,blockingModalAutoReloadDelay:1*p.wn,retryFailedVersionCheckInterval:5*p.wn,retryFailedVersionCheckLimit:20,debugBuildVersion:"auto",versionFilePath:"/version.json"},pingMaybeGnarDelay:1*p.p7,domains:{cookie:".grammarly.com",localServer:"denali-local.grammarly.com"},api:{authUrl:"https://auth.grammarly.com/v3",institutionUrl:"https://goldengate.grammarly.com/institution/api",snippetsUrl:"https://goldengate.ppgr.io/snippets/v1/snippets",clientControlsUrl:"https://goldengate.grammarly.com/client-controls",institutionAdminUrl:"https://goldengate.grammarly.com/institution/api/institution/admin",institutionMembersUrl:"https://goldengate.grammarly.com/institution/api/institution/members",institutionInviteesUrl:"https://goldengate.grammarly.com/institution/api/institution/invitees",institutionGroupsUrl:"https://goldengate.grammarly.com/institution/api/groups",institutionVaultUrl:"https://goldengate.grammarly.com/institution/api/vault",knowledgeHubUrl:"https://goldengate.grammarly.com/knowledge-hub/v1/institution",analyticsUrl:"https://goldengate.grammarly.com/analytics/api/institution/statistics",analyticsPrivateUrl:"https://analytics.grammarly.com/private/api",institutionAnalyticsUrl:"https://goldengate.grammarly.com/institution/public/api/institution/statistics",institutionTonesUrl:"https://goldengate.grammarly.com/brand-tones/v1",profileTonesUrl:"https://goldengate.grammarly.com/brand-tones/v1",tonesUrl:"https://goldengate.ppgr.io/brand-tones/v1",dapiUrl:"https://data.grammarly.com",doxUrl:"https://dox.grammarly.com",doxWsUrl:"wss://dox.grammarly.com",irbisUrl:"https://irbis.grammarly.com",subscriptionUrl:"https://subscription.grammarly.com/api/v1",discountUrl:"https://irbis.grammarly.com/api/discounts",dataReportUrl:"https://datareport.grammarly.com",capiWsUrl:"wss://capi.grammarly.com/freews",capiApiUrl:"https://capi.grammarly.com/api",gnarApi:{url:"https://gnar.grammarly.com"},femetricsUrl:"https://femetrics.grammarly.io/batch/import",felogUrl:"https://f-log-editor.grammarly.io",felogDebugUrl:"https://f-log-editor-debug.grammarly.io",sumoUrl:"https://endpoint2.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV0Bxac28IqT2frgzsjX7HEotu8EZEZr07YE9RWLCzrOMGwzO9aL6c_iSiidkEplFOod2igKIxz_7s2CHlXc2u-XuLpetEBK1fV6xjfN2Sw2gA==",crashLogUrl:"https://f-log-editor.grammarly.io/crash",onlineTestUrl:"/online-test.json",wsTest:"wss://wstest.grammarly.com",proofitResultUrl:"https://dox.grammarly.com/documents/_docId_/proofread",redirect:"https://redirect.grammarly.com/redirect",mailApiUrl:"https://g-mail.grammarly.com",ssoUrl:"https://sso.grammarly.com",scimUrl:"https://goldengate.grammarly.com/auth/api/token/scim",workspaceUrl:"https://goldengate.grammarly.com/workspace",voxWorkspaceUrl:"https://goldengate.grammarly.com/vox/v2/workspace",voxInstitutionUrl:"https://goldengate.grammarly.com/vox/v2/institution",writingStylesUrl:"https://goldengate.grammarly.com/writing-style",appsUrl:"https://apps.grammarly.com",tokensUrl:"https://tokens.grammarly.com"},app:{nameWeb:"editor",nameDesktop:"desktopEditor",webOnboarding:"webOnboarding"},urls:{free:"/free",account:"https://account.grammarly.com"},onlineEditor:{docId:"https://app.grammarly.com/ddocs/"},external:{gmail:"https://mail.google.com/",gDocs:"https://docs.google.com",outlook:"https://outlook.live.com/mail"},funnel:{base:"https://www.grammarly.com",resetPassword:"https://www.grammarly.com/resetpassword",accountDeleted:"https://www.grammarly.com/account-deleted",businessLanding:"https://www.grammarly.com/business/e",businessStyleguideLanding:"https://www.grammarly.com/business/styleguide",businessUpgradeLanding:"https://www.grammarly.com/upgrade/business/try",subscribe:"https://www.grammarly.com/subscribe",upgrade:"https://www.grammarly.com/upgrade",plans:"https://www.grammarly.com/plans",signin:"https://www.grammarly.com/signin",socialSignin:"https://www.grammarly.com/signin/app",signup:"https://www.grammarly.com/signup",mainPage:"https://www.grammarly.com/",deleteSocialAccount:"https://www.grammarly.com/social/delete-account",subscriptionCancellationSurvey:"https://www.grammarly.com/subscription-cancellation-survey",keyboardInstall:"https://www.grammarly.com/keyboard",desktopAppInstall:"https://www.grammarly.com/native",claimedUserJoinFallback:"https://redirect.grammarly.com/redirect?business_join=1",userTrustGuidelines:"https://www.grammarly.com/trust",llamaServiceDownload:"https://www.grammarly.com/service/download",llamaServiceDownloadDirect:"https://www.grammarly.com/service/download/direct",productRecommendation:"https://www.grammarly.com/product/recommendation",tour:"https://www.grammarly.com/tour",facebookTour:"https://www.grammarly.com/tour-facebook",gDocsTour:"https://www.grammarly.com/tour-gdocs",gmailTour:"https://www.grammarly.com/tour-gmail",canvasTour:"https://grammarly.com/tour-canvas",linkedInTour:"https://grammarly.com/tour-linkedin",outlookTour:"https://grammarly.com/tour-outlook",slackTour:"https://grammarly.com/tour-slack"},desktop:{windows:{installURL:"https://download-editor.grammarly.com/windows/GrammarlyEditor.exe",infoURL:"https://www.grammarly.com/native/windows"},mac:{installURL:"https://download-editor.grammarly.com/osx/GrammarlyEditor.dmg",infoURL:"https://www.grammarly.com/native/mac"}},llama:{windows:"https://download-windows.grammarly.com/GrammarlyInstaller.exe",mac:"https://download-mac.grammarly.com/Grammarly.dmg"},mobileApp:{android:"https://play.google.com/store/apps/details?id=com.grammarly.android.keyboard",iOS:"https://apps.apple.com/us/app/grammarly-grammar-keyboard/id1158877342"},extension:{autoCitations:{demoPageUrl:"https://www.sciencedirect.com/science/article/abs/pii/S0885200618300826"},chrome:{installURL:"https://chrome.google.com/webstore/detail/kbfnbcaeplbcioakkpcpgfkobkghlhen",infoURL:"https://chrome.google.com/webstore/detail/grammarly-spell-checker-g/kbfnbcaeplbcioakkpcpgfkobkghlhen?hl=en"},firefox:{installURL:"https://addons.mozilla.org/firefox/downloads/latest/566314/addon-566314-latest.xpi",infoURL:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/"},safari:{installURL:"https://apps.apple.com/us/app/grammarly-for-safari/id1462114288?ls=1&mt=12"},edge:{installURL:"ms-windows-store://pdp?ProductId=9p59wxtbhzzm",infoURL:"https://www.microsoft.com/en-us/store/p/grammarly-for-microsoft-edge/9p59wxtbhzzm?rtc=1"},edgeChromium:{installURL:"https://microsoftedge.microsoft.com/addons/detail/grammarly-for-microsoft-e/cnlefmmeadmemmdciolhbnfeacpdfbkd"}},edu:{adminPanelURL:"https://account.grammarly.com/admin"},support:{login:"https://support.grammarly.com/login",email:"support@grammarly.com",mainPage:"https://support.grammarly.com/",newRequest:"https://support.grammarly.com/hc/en-us/requests/new",contact:"https://www.grammarly.com/contact",connectionTroubleshooting:"https://support.grammarly.com/hc/en-us/articles/115000090271-Network-configuration-blocks-Grammarly-services",emailExistsKBUrl:"https://support.grammarly.com/hc/en-us/articles/115000090791-Changing-your-email-to-an-email-that-already-exists",safariDownloadFilesKBUrl:"https://support.grammarly.com/hc/en-us/articles/360001105952",rtfCompatibilityUrl:"https://support.grammarly.com/hc/en-us/articles/115000091512-Preserve-text-formatting",diagnosticTestPath:"/diagnostic-test?origin=editor",documentAcceptTrackedChanges:"https://support.office.com/en-us/article/Accept-tracked-changes-4838d24c-d5d1-4c6c-8e39-78b44bd2b4cc",introducingGrammarlyEditor:"https://support.grammarly.com/hc/en-us/articles/360003474732-Introducing-the-Grammarly-Editor"},privacyPolicy:"https://www.grammarly.com/privacy-policy",termsOfService:"https://www.grammarly.com/terms",account:{customize:"https://redirect.grammarly.com/redirect?profile_dictionary=1",subscription:"https://account.grammarly.com/subscription",adminSubscription:"https://account.grammarly.com/admin/subscription",members:"https://account.grammarly.com/admin/members",styleGuide:"https://account.grammarly.com/admin/style-guide",writingStyle:"https://account.grammarly.com/admin/style-guide-writing-style",suggestions:"https://redirect.grammarly.com/redirect?profile_suggestions=1",writingProgress:"https://account.grammarly.com/writing-progress"},preconnectLinks:["https://data.grammarly.com","https://gnar.grammarly.com","https://subscription.grammarly.com","https://auth.grammarly.com","https://f-log-editor.grammarly.com","https://static.institution.grammarly.com"],ideas:{galleryURL:"https://app.grammarly.com/ideas/sales"}}})));!function(e){e.createFromPlatformConfig=c.Pj(k),e.Context=o.createContext(u.Y.invariantContent("PlatformConfig"))}(y||(y={}));var C=n(81531),A=n(89894),T=n(50474),M=n(64757),O=n(50790),_=n(4948);var P;!function(e){e.UnauthorizedError=({action:e})=>o.createElement(O.DI.TitledContent,{title:"You've Been Logged Out"},"This occurs due to inactivity or logging out on another device.",o.createElement("br",null),o.createElement(_.J,{name:"login",className:D.footerLink,onClick:e},"Log Back In")),e.Offline=({reconnect:e,reconnectTime:t})=>o.createElement(O.DI.TitledContent,{title:"Lost Connection"},"Your Internet session was interrupted. Weâll try to reconnect you in"," ",o.createElement(a.F.span,null,t.view((e=>e)))," seconds.",o.createElement("br",null),o.createElement(_.J,{name:"reconnect",className:D.footerLink,onClick:e},"Reconnect Now")),e.ServerError=()=>{const t=e.withReload(_.J,"UnknownConnectionError");return o.createElement(O.DI.TitledContent,{title:"Sorry, Unexpected Issue"},"A small error has occurred, causing an interruption of service.",o.createElement("br",null),o.createElement(t,{name:"reload-page",className:D.footerLink},"Reload This Page"))},e.ConnectionWSError=()=>{const e=o.useContext(y.Context);return o.createElement(O.DI.TitledContent,{title:"Canât Connect to Grammarly"},"Your network configuration currently blocks Grammarly services on this computer. ",o.createElement("br",null),o.createElement(_.J,{name:"troubleshoot",className:D.footerLink,href:e.support.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))},e.ClientConnectionError=()=>{const t=e.withReload(_.J,"ClientConnectionErrorNotification");return o.createElement(O.DI.TitledContent,{title:"Your Internet Connection Is Unstable"},"Please check your network stability and then reload this page.",o.createElement("br",null),o.createElement(t,{name:"reload-page",className:D.footerLink},"Reload Page Now"))},e.DocumentNotFoundError=({navigateToDocuments:e})=>o.createElement(O.DI.TitledContent,{title:"Canât find this document"},"It looks like this document was removed or URL is incorrect.",o.createElement("br",null),o.createElement(_.J,{name:"goto-docs",className:D.footerLink,onClick:e},"Go to your documents")),e.SelfUpdate=()=>{const t=o.useContext(T.m.Context),n=e.withReload(M.zx,"SelfUpdateBlocker");return o.createElement(O.DI.TitledContent,{title:"Grammarly needs to refresh this page"},"Don't worry - your documents have already been saved. Please"," ",o.createElement(n,{name:"reload-page",className:D.link},"reload")," ","the page ",t.hotkeyLabelR,".")},e.DesktopHardUpdate=({reloadMethod:e})=>{const t=o.useContext(T.m.Context).desktopUpdate;return o.createElement(O.DI.TitledContent,{title:t.hardTitle},t.hard,o.createElement("br",null),o.createElement(_.J,{name:"reload-desktop",className:D.footerLink,onClick:e},t.reload))},e.DesktopHardDownload=({downloadMethod:e})=>{const t=o.useContext(T.m.Context).desktopUpdate;return o.createElement(O.DI.TitledContent,{title:t.hardTitle},t.hard,o.createElement("br",null),o.createElement(_.J,{name:"download-desktop",className:D.footerLink,onClick:e},t.download))},e.SlowNetworkError=()=>o.createElement(O.DI.TitledContent,{title:"Your Internet Connection Is Unstable"},"Grammarly may work slower than normal."),e.CheckingIsDownError=()=>o.createElement(O.DI.TitledContent,{title:"Text Checking Is Temporarily Unavailable"},"Grammarly is unable to check your text for errors at this time. Weâre working to resolve the issue. Please check back soon."),e.Error=()=>{const e=o.useContext(y.Context);return o.createElement(O.DI.TitledContent,{title:"Sorry, Something Went Wrong"},"Please try again later or"," ",o.createElement(M.zx,{name:"support",className:D.link,href:e.support.login,target:"_blank"},"contact support")," ","now to report the issue.")},e.ProofitPaymentDeclinedError=({paymentMethod:e,navigateToSubscription:t})=>{const n=o.useContext(T.m.Context).proofitPayment,r=function(e,t,n){switch(e){case"creditCard":return t;case"payPal":return n;default:const r=`Unknown payment method: ${e}`;throw C.C8.Logging.getLogger("ProofitView").warn(r),new Error(r)}}(e,n.creditCard,n.payPal);return o.createElement(O.DI.TitledContent,{title:"Order can not be processed"},o.createElement("div",null,r),"Please update your credit card information in the Manage Subscription section.",o.createElement("br",null),o.createElement(_.J,{name:"manage-subscription",className:D.footerLink,onClick:t},"Go to Manage Subscription"))},e.PaymentSuccessMessage=()=>{const e=o.useContext(T.m.Context).proofitOrderModal.card.paymentSuccess;return o.createElement(O.DI.TitledContent,{title:e.title},o.createElement("div",null,e.message))},e.PaymentErrorMessage=()=>{const e=o.useContext(T.m.Context).proofitOrderModal.card.paymentError,t=o.useContext(y.Context);return o.createElement(O.DI.TitledContent,{title:e.title},o.createElement("div",null,e.message(t.support.login)))},e.ProofitEmptyDocumentError=()=>o.createElement(O.DI.TitledContent,{title:"Document is empty"},"The document you are trying to submit is empty. Please write something and try again."),e.ProofitDocumentProofreadError=({navigateToDocuments:e})=>o.createElement(O.DI.TitledContent,{title:"This document is a recent submission"},"The text you are trying to send for human proofreading was reviewed by our team. Please edit your text or select another document before you re-submit.",o.createElement("br",null),o.createElement(_.J,{name:"goto-docs",className:D.footerLink,onClick:e},"Go to your documents")),e.ProofitComplexInternalStructureError=({navigateToDocuments:e})=>o.createElement(O.DI.TitledContent,{title:"This document cannot be corrected"},"The text you are trying to send for human proofreading has complex internal structure. Please edit your text (e.g., remove significantly long tables) or select another document.",o.createElement("br",null),o.createElement(_.J,{name:"goto-docs",className:D.footerLink,onClick:e},"Go to your documents")),e.withReload=(e,t)=>class extends o.Component{render(){return o.createElement(e,Object.assign({},this.props,{onClick:()=>{try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:self.location.href,timestamp:Date.now()}))}catch(e){}self.location.reload()}}))}},e.CopyToClipboardError=()=>{const e=o.useContext(T.m.Context);return o.createElement(O.DI.TitledContent,{title:"Copying Is Not Supported by Your Browser"},"Please use ",e.hotkeyLabelC," instead.")},e.ProofitCancelled=()=>{const e=o.useContext(y.Context);return o.createElement(O.DI.TitledContent,{title:"Your order has been cancelled"},"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",o.createElement(_.J,{name:"support",className:D.footerLink,href:e.support.login,target:"_blank"},"Grammarly support"))},e.ProofitCompleted=({documentTitle:e,documentDownloadUrl:t,email:n})=>o.createElement(O.DI.TitledContent,{title:`${e||"Your"} document has been proofread`},"A version of this document with proofreadersâ marks has been emailed to you at ",n," in .docx format.",o.createElement("br",null),o.createElement(_.J,{name:"download",className:D.footerLink,href:t,target:"_blank"},"Download .docx")),e.DenaliFormattingCompatibility=()=>{const e=o.useContext(T.m.Context),t=o.useContext(y.Context);return o.createElement(O.DI.TitledContent,{title:e.rtfCompatibilityModeNotificationTitle},"To preserve your documentâs formatting, Grammarlyâs formatting tools are temporarily not available.",o.createElement("br",null),o.createElement(_.J,{name:"support",className:D.footerLink,href:t.support.rtfCompatibilityUrl,target:"_blank"},"Learn more"))},e.DenaliDocumentUploaded=({navigateToDocuments:e})=>{const{denaliDocumentUploadNotification:t}=o.useContext(T.m.Context);return o.createElement(O.DI.TitledContent,{title:t.title},t.text,"Â ",o.createElement(M.zx,{name:"goto-docs",className:D.link,onClick:e},t.link))},e.AlertsNothingFound=()=>o.createElement(O.DI.Content,null,"Grammarly found no critical writing issues in this text. Keep up the great work!"),e.DesktopSoftUpdate=({reloadMethod:e})=>{const t=o.useContext(T.m.Context).desktopUpdate;return o.createElement(O.DI.TitledContent,{title:t.softTitle},t.soft,o.createElement("br",null),o.createElement(_.J,{name:"reload-desktop",className:D.footerLink,onClick:e},t.reload))},e.DesktopSoftDownload=({downloadMethod:e})=>{const t=o.useContext(T.m.Context).desktopUpdate;return o.createElement(O.DI.TitledContent,{title:t.softTitle},t.soft,o.createElement("br",null),o.createElement(_.J,{name:"download-desktop",className:D.footerLink,onClick:e},t.download))},e.DownloadDocumentNotFoundError=()=>{const e=o.useContext(T.m.Context);return o.createElement(O.DI.TitledContent,{"data-name":"document-not-found",title:e.downloadDocumentNotFoundError})},e.ClipboardNotSupported=({hotkey:e})=>{const t=o.useContext(T.m.Context);return o.createElement(O.DI.Content,null,t.hotkeyUnsupported,o.createElement("b",null,e))},e.DocumentSizeExceeded=({os:e,officeAddinUrl:t})=>{const n=o.useContext(T.m.Context).fileSizeExceededNotification;return o.createElement(O.DI.TitledContent,{title:n.title},n.body,"windows"===e&&o.createElement(_.J,{name:"officeAddin",className:D.footerLink,href:t,target:"_blank"},n.link))},e.DocumentUploaded=({navigateToDocument:e})=>{const t=o.useContext(T.m.Context).documentUploaded;return o.createElement(O.DI.Content,null,t.message,o.createElement("br",null),o.createElement(_.J,{name:"goto-doc",className:D.footerLink,onClick:e},t.link))},e.DocumentTypeUnsupported=()=>{const e=o.useContext(T.m.Context);return o.createElement(O.DI.Content,null,"Unsupported file type. ",e.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")},e.DocumentWithTrackedChangesIsUnsupported=({link:e})=>o.createElement(O.DI.Content,null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",o.createElement(M.zx,{name:"document-accept-tracked-changes",className:D.link,href:e,target:"_blank"},"here")," ","for details.");const t=(e,t)=>{switch(e){case R.switchToDenali:return t.switchToDenali;case R.feedbackSend:return t.feedbackSend;case R.statisticsError:return t.statisticsError;case R.referenceCopied:return t.referenceCopied;case R.documentCopied:return t.documentCopied;case R.isTemporaryDownloadError:return t.isTemporaryDownloadError;case R.documentUploadGeneralError:return t.documentUploadGeneralError;case R.documentIsEmpty:return t.documentIsEmpty;case R.noFileToUpload:return t.noFileToUpload;case R.oneDocumentIsAllowed:return t.oneDocumentIsAllowed;default:return(0,s.vE)(e)}};e.Generic=({type:e})=>{const n=o.useContext(T.m.Context);return o.createElement(O.DI.TitledContent,{title:t(e,n)})}}(P||(P={}));const L={display:"inline-flex",overflow:"unset",color:l.Il.CoreNeutral0,verticalAlign:"baseline",textDecoration:"underline",fontWeight:"bold",cursor:"pointer"},N={marginTop:A.ux.rem(.5),textDecoration:"none"},D=A.ux.stylesheet({link:[L],footerLink:[L,N]});var R;!function(e){e.switchToDenali="switchToDenali",e.feedbackSend="feedbackSend",e.statisticsError="statisticsError",e.referenceCopied="referenceCopied",e.documentCopied="documentCopied",e.isTemporaryDownloadError="isTemporaryDownloadError",e.documentUploadGeneralError="documentUploadGeneralError",e.documentIsEmpty="documentIsEmpty",e.noFileToUpload="noFileToUpload",e.oneDocumentIsAllowed="oneDocumentIsAllowed"}(R||(R={}))},32380:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(27378),i=n(18208),o=n(44060),a=n(89894),s=n(50474),l=n(31278),c=n(50790),u=n(4948);const d=(e,t)=>{switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return r.createElement(r.Fragment,null,r.createElement("span",null,e.alerts)," ",i._6(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return r.createElement(r.Fragment,null,e.transform);case"addToDictionary":return r.createElement(r.Fragment,null,r.createElement("b",{className:t&&t.addToDictionary},e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as âWill addressâ";case"markAsNotHelpful":return"Marked as âNot helpfulâ";case"acknowledge":return"Acknowledged";default:return""}},p={display:"flex",marginTop:a.ux.rem(-1.1),marginBottom:a.ux.rem(-.5),alignItems:"center",justifyContent:"space-between"},m={marginTop:a.ux.rem(.6),marginRight:a.ux.rem(1),color:o.Il.CoreNeutral0,flexGrow:0,flexShrink:0},f={marginTop:a.ux.rem(-.25),paddingRight:a.ux.rem(.5),minWidth:"auto",minHeight:"auto",justifyContent:"space-between"},h={marginTop:a.ux.rem(.6),maxWidth:a.ux.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1},g={marginRight:a.ux.rem(1.4)},y=a.ux.stylesheet({alertUndoWrapper:[p],alertUndoWrapperFlexible:[p,{flexWrap:"nowrap"}],alertUndoWrapperFullWidth:[p,{flexWrap:"wrap"}],alertUndoBtn:[m],alertUndoIcon:[f],alertUndoContent:[h],alertUndoContentFlexible:[h,g],addToDictionary:[{wordBreak:"break-all"}]});var v;!function(e){const t={wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContent,icon:y.alertUndoIcon,button:y.alertUndoBtn};e.Standard=({action:n,params:i})=>r.createElement(c.DI.Content,null,r.createElement(e.Content,{action:n,content:d(i),theme:Object.assign(Object.assign({},t),{wrapper:y.alertUndoWrapperFullWidth})})),e.Flexible=({notification:n,onClose:i,action:o,params:a})=>r.createElement(c.SJ.Wrapper,{notification:n,onClose:i},r.createElement(c.DI.Content,null,r.createElement(e.Content,{action:o,content:d(a,{addToDictionary:y.addToDictionary}),theme:Object.assign(Object.assign({},t),{wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContentFlexible})}))),e.Content=({action:e,content:n,theme:i=t})=>{const o=r.useContext(s.m.Context);return r.createElement("div",{className:i.wrapper},r.createElement("div",{className:i.content},n),r.createElement(u.J,{name:"alertUndoButton",className:i.button,onClick:e},r.createElement(l.JO.Undo,{className:i.icon}),o.undo))}}(v||(v={}))},35407:(e,t,n)=>{n.d(t,{GG:()=>s,Pj:()=>a});var r=n(17771),i=n(19429),o=n(55415),a=function(e){return function(t){return i.r1.map((0,r.g)(i.r1)(e,t),(function(e){var t=e[0],n=e[1];return(0,o.Fx)(t,n)}))}},s=(0,r.Y)(i.r1)},31668:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(22232);var i=function(){function e(t,n){void 0===n&&(n=new URLSearchParams),this.base=t,this.params=n;var i=e._toString(t,n).length;(0,r.kG)(i<e.MAX_URL_LENGTH,"url exceeded length limit",String(i))}return e.prototype.addParams=function(t){var n,r=Object.entries(t).reduce((function(e,t){var n=t[0],r=t[1];return e.append(n,r),e}),(n=this.params,new URLSearchParams(n.toString())));return new e(this.base,r)},e.prototype.toString=function(){return e._toString(this.base,this.params)},e._toString=function(e,t){var n=t.toString();return"".concat(e).concat(n.length?"?".concat(n):"")},e.MAX_URL_LENGTH=2083,e}()},46324:(e,t,n)=>{n.d(t,{$O:()=>E,ND:()=>y,U8:()=>x,a3:()=>A,g2:()=>I,hc:()=>w,o_:()=>b});var r=n(27378),i=n(54495),o=n(22232),a=n(71249),s=n(77678),l=n(64757),c=n(89894),u=n(1509),d=n(94632),p=n(32096),m=n(79880);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return{primary:function(t){return r.createElement(l.zx.Primary,h({},C(t),{className:c.ux.joinClasses([e.primary,e.main,t.shape===m.jL.Round?k.round:void 0,t.verticalAlign===m.g$.Middle?k.textMiddleAlign:void 0])}),t.text)},secondary:function(t){return r.createElement(l.zx.Tertiary,h({},C(t),{className:c.ux.joinClasses([e.main,t.shape===m.jL.Round?k.round:void 0,t.verticalAlign===m.g$.Middle?k.textMiddleAlign:void 0])}),t.text)},toggle:function(t){return r.createElement(l.zx.Animated,h({},C(t),{styleType:u.Z.Type.Button,className:c.ux.joinClasses([d.LI,e.toggle,e.main,t.shape===m.jL.Round?k.round:void 0,t.verticalAlign===m.g$.Middle?k.textMiddleAlign:void 0])}),t.text)},yellow:function(t){return r.createElement(l.zx.Primary,h({},C(t),{className:c.ux.joinClasses([e.yellow,t.shape===m.jL.Round?k.round:void 0,t.verticalAlign===m.g$.Middle?k.textMiddleAlign:void 0])}),t.text)}}}var v={lineHeight:"calc(2px * var(--rem) - 2px)",padding:0},b={flexShrink:0,minHeight:c.ux.rem(2),textAlign:"left",$nest:{"& span":v}},w=(0,d.T)({default:{borderRadius:c.ux.rem(p.fx),whiteSpace:"normal",backgroundColor:s.CoreNeutral0,color:s.CoreBlue50,border:"1px solid ".concat(s.CoreNeutral20),transitionDuration:".2s",transitionProperty:"border-color, background-color",lineHeight:"calc(2px * var(--rem) - 2px)"},hovered:{backgroundColor:s.CoreBlue1},disabled:{color:s.CoreNeutral40,borderColor:s.CoreNeutral10},clicked:{backgroundColor:s.CoreBlue10},toggled:{backgroundColor:s.CoreNeutral1,borderColor:s.CoreBlue50},hidden:{}}),S={fill:s.CoreNeutral0,stroke:s.CoreNeutral0},x=g({},(0,d.T)({default:{display:"inline-flex"},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}}),{$nest:{"& span":v,"& i":S,"&:not([data-disabled='true'])[data-hovered='true'] i":S}}),E={borderRadius:c.ux.percent(100)},I=[b,(0,d.T)({default:{backgroundColor:s.CoreYellow20,color:s.CoreYellow80,lineHeight:c.ux.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:s.CoreYellow30,$nest:{"& i":{fill:s.CoreYellow80,stroke:s.CoreYellow80}}},disabled:{},clicked:{},toggled:{},hidden:{}}),{$nest:{"& i":{fill:s.CoreYellow80,stroke:s.CoreYellow80}}}],k=c.ux.stylesheet({textMiddleAlign:[{$nest:{"& span":{verticalAlign:"initial"}}}],main:[b],primary:[x],toggle:[w],round:[E],yellow:I});function C(e){return g({name:e.name,onClick:e.onClick,"aria-label":e.tooltip,title:void 0!==e.tooltip&&e.state!==m.BN.Disabled?A(e.tooltip):void 0},function(e){switch(e){case m.BN.Enabled:return{disabled:!1};case m.BN.Disabled:return{disabled:!0};case m.BN.Selected:return{disabled:!1,active:!0};case m.BN.Deselected:return{disabled:!1,active:!1};case m.BN.Hidden:return{hidden:!0};default:return(0,o.vE)(e)}}(e.state))}function A(e){return r.createElement(r.Fragment,null,(0,i.zG)(e.split("\n"),(function(e){var t=e.length;return 0===t?e:a.QI(e[0],e.slice(1,t).map((function(e,t){return r.createElement(r.Fragment,{key:t},r.createElement("br",null),e)})))})))}},35248:(e,t,n)=>{n.d(t,{k:()=>pc});var r=n(27378),o=n(42500);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=n(89894),c=function(e){var t=e.children;return r.createElement("div",{"data-role":"column-layout",className:u.holder},t)},u=l.ux.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),d=l.ux.stylesheet({wrapper:[{display:"flex",flexDirection:"column"}]}),p=n(79880),m=n(25186),f=n(54495),h=n(5114),g=n(95195),y=n(81531),v=n(40330);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}var S=function(e){return"selectAlternative"===e.type?h.some(e.alternativeIndex):h.none};function x(e){return function(t){return(0,f.zG)(t,m.Ew((0,f.ls)(S,h.exists((function(t){return t===e})))),h.isSome)}}var E=n(5739);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}var C,A=n(46324),T=n(77678),M=n(7514);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function L(e){return function(e){if(Array.isArray(e))return e}(e)||P(e)||D(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return O(e)}(e)||P(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}!function(e){e[e.HeadingLevel4LetterSpacing=0]="HeadingLevel4LetterSpacing",e[e.BodyLetterSpacing=0]="BodyLetterSpacing",e[e.SmallLetterSpacing=0]="SmallLetterSpacing",e[e.HeadingLevel4Size=1]="HeadingLevel4Size",e[e.BodySize=.875]="BodySize",e[e.SmallSize=.75]="SmallSize"}(C||(C={}));var R,j,F=function(e){var t=e.size,n=e.format,i=e.textColor,o=e.backgroundColor,a=e.outlineColor,s=e.text,c=function(e,t){var n="".concat(e,"-").concat(t),r=Q.get(n);if(void 0!==r)return r;var i=l.ux.style({color:T[e],backgroundColor:Boolean(t)?T[t]:t});return Q.put(n,i),i}(i,o),u=L(n),d=u[0],m=u.slice(1),f=void 0!==d?Y[d]:"span",h=m.map((function(e){return e===p.SQ.StrikeoutDiagonal?function(e){var t="sd-".concat(e),n=Q.get(t);if(void 0!==n)return n;var r=l.ux.style(function(e){return{backgroundImage:"linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ".concat(T[e]," 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)")}}(e));return Q.put(t,r),r}(null!=a?a:i):V[e]}));return void 0!==a&&h.push(function(e){var t="ol-".concat(e),n=Q.get(t);if(void 0!==n)return n;var r=l.ux.style({borderColor:T[e]});return Q.put(t,r),r}(a)),r.createElement(f,{className:l.ux.joinClasses([c,$[t]].concat(N(h))),children:s})},U=l.ux.rem(1.5),z=l.ux.rem(21/16),B=l.ux.rem(.875),G={padding:"".concat(l.ux.rem(.15625)," 0")},W={letterSpacing:l.ux.rem(C.HeadingLevel4LetterSpacing),fontSize:l.ux.rem(C.HeadingLevel4Size),lineHeight:U},H={letterSpacing:l.ux.rem(C.BodyLetterSpacing),fontSize:l.ux.rem(C.BodySize),lineHeight:z},K={letterSpacing:l.ux.rem(C.SmallLetterSpacing),fontSize:l.ux.rem(C.SmallSize),lineHeight:B},$=l.ux.stylesheet((_(R={},p.yH.HeadingLevel4,[G,W]),_(R,p.yH.Regular,[G,H]),_(R,p.yH.Small,[G,K]),R)),V=l.ux.stylesheet((_(j={},p.SQ.Bold,[{fontWeight:"bolder"}]),_(j,p.SQ.Italic,[{fontStyle:"italic"}]),_(j,p.SQ.StrikeoutHorizontal,[{textDecoration:"line-through"}]),_(j,p.SQ.StrikeoutDiagonal,[]),_(j,p.SQ.Outline,[{padding:"".concat(l.ux.rem(1/16)," ").concat(l.ux.rem(3.5/16)," ").concat(l.ux.rem(1/16)," ").concat(l.ux.rem(3.5/16)),border:"1px solid",borderRadius:"2px"}]),j)),Y={strikeoutHorizontal:"s",strikeoutDiagonal:"span",outline:"span",bold:"b",italic:"i"};var Q=new M.z6(100);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e){return r.createElement("div",{"data-role":"box",className:J(e)},e.children)};function J(e){var t=e.padding,n=e.borderRadius,r=e.backgroundColor,i=e.minWidth,o=[ee.base];return void 0!==t&&o.push(function(e){var t="p-".concat(null==e?void 0:e.top,"-").concat(null==e?void 0:e.bottom,"-").concat(null==e?void 0:e.left,"-").concat(null==e?void 0:e.right),n=te.get(t);if(void 0!==n)return n;var r={$debugName:"padding"};void 0!==e&&(r.paddingRight=l.ux.rem(Number(e.right)),r.paddingBottom=l.ux.rem(Number(e.bottom)),r.paddingTop=l.ux.rem(Number(e.top)),r.paddingLeft=l.ux.rem(Number(e.left)));var i=l.ux.style(r);return te.put(t,i),i}(t)),void 0!==n&&o.push(function(e){var t=e.topLeft,n=e.topRight,r=e.bottomRight,i=e.bottomLeft,o="bdr-".concat(t,"-").concat(n,"-").concat(r,"-").concat(i),a=te.get(o);if(void 0!==a)return a;var s={$debugName:"borderRadius"};void 0!==e&&(s.borderTopLeftRadius=l.ux.rem(Number(ne[t])),s.borderTopRightRadius=l.ux.rem(Number(ne[n])),s.borderBottomRightRadius=l.ux.rem(Number(ne[r])),s.borderBottomLeftRadius=l.ux.rem(Number(ne[i])));var c=l.ux.style(s);return te.put(o,c),c}(n)),void 0!==r&&o.push(function(e){var t="bgc-".concat(e),n=te.get(t);if(void 0!==n)return n;var r=l.ux.style({backgroundColor:T[e]});return te.put(t,r),r}(r)),void 0!==i&&o.push(function(e){var t="minW-".concat(e),n=te.get(t);if(void 0!==n)return n;var r={$debugName:"minwidth"};void 0!==e&&(r.minWidth=l.ux.rem(Number(e)));var i=l.ux.style(r);return te.put(t,i),i}(i)),o.length>0?l.ux.joinClasses(o):void 0}var X,ee=l.ux.stylesheet({base:[{display:"block"}]}),te=new M.z6(100);var ne=(Z(X={},p.wU.Radius0,0),Z(X,p.wU.RadiusHalf,.125),Z(X,p.wU.Radius1,.25),Z(X,p.wU.Radius2,.5),Z(X,p.wU.Radius3,.75),X);function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){var t=r.useRef(null);return r.useEffect((function(){var n,r=e.maxLines&&(null===(n=t.current)||void 0===n?void 0:n.querySelector("*:last-child"));if(r){var i=setTimeout((function(){var e,n=self.getComputedStyle(r,null),i=n.getPropertyValue("color"),o=n.getPropertyValue("font-size"),a=n.getPropertyValue("line-height"),s=n.getPropertyValue("letter-spacing");Object.assign(null===(e=t.current)||void 0===e?void 0:e.style,{color:i,fontSize:o,lineHeight:a,letterSpacing:s})}),0);return function(){return clearTimeout(i)}}return function(){}}),[e.maxLines]),r.createElement("div",{ref:t,"data-role":"block-layout",className:oe(e)},e.children)};function oe(e){var t=e.spacing,n=e.innerSpacing,r=e.horizontalAlign,i=e.verticalAlign,o=e.fraction,a=e.maxLines,s=[ae.base];return void 0!==a&&s.push(function(e){var t="m-".concat(e),n=ce.get(t);if(void 0!==n)return n;var r=l.ux.style({display:"-webkit-inline-box",overflow:"hidden",WebkitBoxOrient:"vertical","-webkit-line-clamp":e});return ce.put(t,r),r}(a)),void 0===t&&void 0===n||s.push(function(e){var t=e.spacing,n=e.innerSpacing,r="".concat(null==t?void 0:t.top,"-").concat(null==t?void 0:t.bottom,"-").concat(null==t?void 0:t.left,"-").concat(null==t?void 0:t.right,"-").concat(null==n?void 0:n.vertical,"-").concat(null==n?void 0:n.horizontal),i=ce.get(r);if(void 0!==i)return i;var o,a,s={$debugName:"spacing"};void 0!==t&&(s.marginRight=l.ux.rem(Number(t.right)),s.marginBottom=l.ux.rem(Number(t.bottom)),s.marginTop=l.ux.rem(Number(t.top)),s.marginLeft=l.ux.rem(Number(t.left))),void 0!==n&&(s.marginRight=l.ux.rem(Number(null!==(o=null==t?void 0:t.right)&&void 0!==o?o:0)-Number(n.horizontal)),s.marginBottom=l.ux.rem(Number(null!==(a=null==t?void 0:t.bottom)&&void 0!==a?a:0)-Number(n.vertical)),s.$nest={"& > *":{marginRight:l.ux.rem(Number(n.horizontal)),marginBottom:l.ux.rem(Number(n.vertical))}});var c=l.ux.style(s);return ce.put(r,c),c}({spacing:t,innerSpacing:n})),void 0!==r&&s.push(ue[r]),void 0!==i&&s.push(de[i]),void 0!==o&&s.push(function(e){var t="f-".concat(e),n=ce.get(t);if(void 0!==n)return n;var r=l.ux.style({flex:e,overflow:"hidden"});return ce.put(t,r),r}(o)),s.length>0?l.ux.joinClasses(s):void 0}var ae=l.ux.stylesheet({base:[{overflowWrap:"anywhere",display:"inline-block"}]});var se,le,ce=new M.z6(100),ue=l.ux.stylesheet((re(se={},p.Kq.Left,[{textAlign:"left"}]),re(se,p.Kq.Center,[{textAlign:"center"}]),re(se,p.Kq.Right,[{textAlign:"right"}]),se)),de=l.ux.stylesheet((re(le={},p.g$.Top,[{$nest:{"& > *":{verticalAlign:"top"}}}]),re(le,p.g$.Middle,[{$nest:{"& > *":{verticalAlign:"middle"}}}]),re(le,p.g$.Bottom,[{$nest:{"& > *":{verticalAlign:"bottom"}}}]),le)),pe=n(12187),me=n(31278);function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var he={close:function(e){return r.createElement(me.JO.Close,{className:ve(e)})},"arrow-right":function(e){return r.createElement(me.JO.Arrow,{direction:me.n4.right,className:ve(e)})},"arrow-left":function(e){return r.createElement(me.JO.Arrow,{direction:me.n4.left,className:ve(e)})},gear:function(e){return r.createElement(me.JO.Gear,{enforceStroke:!0,width:13,className:ve(e)})},dictionary:function(e){return r.createElement(me.JO.Dict,{className:ve(e)})},clarity:function(e){return r.createElement(me.JO.ClarityOutcome,{className:ve(e)})},correctness:function(e){return r.createElement(me.JO.Correctness,{className:ve(e)})},engagement:function(e){return r.createElement(me.JO.EngagementOutcome,{className:ve(e)})},delivery:function(e){return r.createElement(me.JO.DeliveryOutcome,{className:ve(e)})},diamond:function(e){return r.createElement(me.JO.Paid,{width:20,className:ve(e)})},feedback:function(e){return r.createElement(me.JO.AssistantFeedback,{className:ve(e)})},sensitivity:function(e){return r.createElement(me.JO.Sensitivity,{className:ve(e)})},"external-link":function(e){return r.createElement(me.JO.ExternalLink,{className:ve(e)})},sparkles:function(e){return r.createElement(me.JO.Sparkles,{className:ve(e)})},ignore:function(e){return r.createElement(me.JO.Ignore,{width:14,height:15,className:ve(e)})},info:function(e){return r.createElement(me.JO.Info,{className:ve(e)})},report:function(e){return r.createElement(me.JO.Report,{width:12,className:ve(e)})},proofreader:function(e){return r.createElement(me.JO.Proofread,{width:16,className:ve(e)})},mute:function(e){return r.createElement(me.JO.Mute,{width:16,className:ve(e)})},more:function(e){return r.createElement(me.a1,fe({},(0,pe.Sh)(ve(e)),{width:14,viewBox:"0 0 14 4"}),r.createElement("path",{d:"M6.99951 0.5C7.82794 0.5 8.49951 1.17157 8.49951 2C8.49951 2.82843 7.82794 3.5 6.99951 3.5C6.17108 3.5 5.49951 2.82843 5.49951 2C5.49951 1.17157 6.17108 0.5 6.99951 0.5Z",fill:"#6D758D"}),r.createElement("path",{d:"M11.9995 0.5C12.8279 0.5 13.4995 1.17157 13.4995 2C13.4995 2.82843 12.8279 3.5 11.9995 3.5C11.1711 3.5 10.4995 2.82843 10.4995 2C10.4995 1.17157 11.1711 0.5 11.9995 0.5Z",fill:"#6D758D"}),r.createElement("path",{d:"M1.99951 0.5C2.82794 0.5 3.49951 1.17157 3.49951 2C3.49951 2.82843 2.82794 3.5 1.99951 3.5C1.17108 3.5 0.499512 2.82843 0.499512 2C0.499512 1.17157 1.17108 0.5 1.99951 0.5Z",fill:"#6D758D"}))},controls:function(e){return r.createElement(me.a1,{className:ve(e),width:24,height:24,viewBox:"0 0 24 24",fill:"none"},r.createElement("path",{d:"M12 5.5H21M3 5.5H7M7 5.5C7 6.32843 7.67157 7 8.5 7C9.32843 7 10 6.32843 10 5.5C10 4.67157 9.32843 4 8.5 4C7.67157 4 7 4.67157 7 5.5ZM3 11.5H12M17 11.5H21M17 11.5C17 12.3284 16.3284 13 15.5 13C14.6716 13 14 12.3284 14 11.5C14 10.6716 14.6716 10 15.5 10C16.3284 10 17 10.6716 17 11.5ZM14 17.5H21M3 17.5H9M9 17.5C9 18.3284 9.67157 19 10.5 19C11.3284 19 12 18.3284 12 17.5C12 16.6716 11.3284 16 10.5 16C9.67157 16 9 16.6716 9 17.5Z",stroke:"#6D758D","stroke-linecap":"round"}))},performance:function(e){return r.createElement(me.JO.Performance,{className:ve(e)})},"bullet-list":function(e){return r.createElement(me.JO.Formatting.BulletList,{className:ve(e)})}},ge={width:l.ux.rem(1.5),height:l.ux.rem(1.5),minWidth:l.ux.rem(1.5),minHeight:l.ux.rem(1.5),borderRadius:l.ux.rem(1.5)},ye=l.ux.stylesheet({main:[ge]});function ve(e){return void 0===e.backgroundColor?ye.main:l.ux.joinClasses([ye.main,be(e.backgroundColor)])}function be(e){var t=we.get(e);if(void 0!==t)return t;var n=l.ux.style({backgroundColor:T[e]});return we.put(e,n),n}var we=new M.z6(100),Se={width:l.ux.rem(.85),height:l.ux.rem(.85)},xe={width:l.ux.rem(1.5),height:l.ux.rem(1.5),borderRadius:l.ux.rem(1.5),display:"inline-flex",justifyContent:"center",alignItems:"center"},Ee=l.ux.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[Se],wrapper:[xe]});function Ie(e){return void 0===e?Ee.wrapper:l.ux.joinClasses([Ee.wrapper,be(e)])}function ke(e){return void 0===e?l.ux.joinClasses([Ee.main,Ee.defaultSize]):l.ux.joinClasses([Ee.main,Ce(e)])}function Ce(e){var t=Ae.get(e);if(void 0!==t)return t;var n=l.ux.style({width:l.ux.rem(Number(e)),height:l.ux.rem(Number(e))});return Ae.put(e,n),n}var Ae=new M.z6(100);function Te(e,t,n){var r="wrapper-".concat(e,"-").concat(t,"-backgroundColor"),i=Oe.get(r);if(void 0!==i)return i;var o=l.ux.style({width:l.ux.rem(Number(t)),height:l.ux.rem(Number(e)),display:"inline-flex",justifyContent:"center",alignItems:"center"});return void 0!==n&&(o=l.ux.joinClasses([o,be(n)])),Oe.put(r,o),o}function Me(e,t){var n="content-".concat(e,"-").concat(t),r=Oe.get(n);if(void 0!==r)return r;var i=l.ux.style({width:l.ux.rem(Number(t)),height:l.ux.rem(Number(e))});return Oe.put(n,i),i}var Oe=new M.z6(100);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}var Le={display:"flex",flexWrap:"nowrap",alignItems:"inherit",maxWidth:"100%"},Ne=Pe({},Le,{flexGrow:1}),De=Pe({},Le,{marginLeft:"auto",flexShrink:0}),Re=l.ux.stylesheet({row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[Ne],rowRight:[De]});function je(e){return void 0===e?Re.row:l.ux.joinClasses([Re.row,ze(e)])}function Fe(e){return void 0===e?Re.rowLeft:l.ux.joinClasses([Re.rowLeft,We[e]])}function Ue(e){return void 0===e?Re.rowRight:l.ux.joinClasses([Re.rowRight,We[e]])}function ze(e){var t=e.top,n=e.bottom,r=e.left,i=e.right,o="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i),a=Ge.get(o);if(void 0!==a)return a;var s=l.ux.style({marginTop:l.ux.rem(Number(t)),marginLeft:l.ux.rem(Number(r)),marginRight:l.ux.rem(Number(i)),marginBottom:l.ux.rem(Number(n))});return Ge.put(o,s),s}var Be,Ge=new M.z6(100),We=l.ux.stylesheet((_e(Be={},p.g$.Top,[{alignItems:"start"}]),_e(Be,p.g$.Middle,[{alignItems:"center"}]),_e(Be,p.g$.Bottom,[{alignItems:"end"}]),Be)),He=n(59312),Ke=n(38983);function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ye={prefix:String(Math.round(1e10*Math.random())),current:0},Qe=r.createContext(Ye);var Ze=Boolean("undefined"!=typeof self&&self.document&&self.document.createElement);function qe(){var e=(0,r.useContext)(Qe)!==Ye,t=Ve((0,r.useState)(e),2),n=t[0],i=t[1];return"undefined"!=typeof self&&e&&(0,r.useLayoutEffect)((function(){i(!1)}),[]),n}function Je(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Je(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Xe=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Je(e))&&(r&&(r+=" "),r+=t);return r};function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tt(e,t,n[t])}))}return e}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||at(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||at(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}var st=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lt="undefined"!=typeof self?r.useLayoutEffect:function(){},ct=new Map;function ut(e){var t=it((0,r.useState)(e),2),n=t[0],i=t[1],o=(0,r.useRef)(null),a=function(e){var t=(0,r.useContext)(Qe);return t!==Ye||Ze||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,r.useMemo)((function(){return e||"react-aria".concat(t.prefix,"-").concat(++t.current)}),[e])}(n),s=(0,r.useCallback)((function(e){o.current=e}),[]);return ct.set(a,s),lt((function(){var e=a;return function(){ct.delete(e)}}),[a]),(0,r.useEffect)((function(){var e=o.current;e&&(o.current=null,i(e))})),a}function dt(e,t){if(e===t)return e;var n=ct.get(e);if(n)return n(t),t;var r=ct.get(t);return r?(r(e),e):t}function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ut(),n=it(Rt(t),2),i=n[0],o=n[1],a=(0,r.useCallback)((function(){o((function(){return st(this,(function(e){switch(e.label){case 0:return[4,t];case 1:return e.sent(),[4,document.getElementById(t)?t:void 0];case 2:return e.sent(),[2]}}))}))}),[t,o]);return lt(a,[t,a].concat(ot(e))),i}function mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;"function"==typeof c&&c.apply(void 0,ot(n))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=rt({},t[0]),i=1;i<t.length;i++){var o=t[i];for(var a in o){var s=r[a],l=o[a];"function"==typeof s&&"function"==typeof l&&"o"===a[0]&&"n"===a[1]&&a.charCodeAt(2)>=65&&a.charCodeAt(2)<=90?r[a]=mt(s,l):"className"!==a&&"UNSAFE_className"!==a||"string"!=typeof s||"string"!=typeof l?"id"===a&&s&&l?r.id=dt(s,l):r[a]=void 0!==l?l:s:r[a]=Xe(s,l)}}return r}var ht=new Set(["id"]),gt=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),yt=/^(data-.*)$/;function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.labelable,r=t.propNames,i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(ht.has(o)||n&&gt.has(o)||(null==r?void 0:r.has(o))||yt.test(o))&&(i[o]=e[o]);return i}function bt(e){if(function(){if(null==wt){wt=!1;try{document.createElement("div").focus({get preventScroll(){return wt=!0,!0}})}catch(e){}}return wt}())e.focus({preventScroll:!0});else{var t=function(e){var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;nt(t,HTMLElement)&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;nt(r,HTMLElement)&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=a.element,l=a.scrollTop,c=a.scrollLeft;s.scrollTop=l,s.scrollLeft=c}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}(t)}}var wt=null;var St=new Map,xt=new Set;function Et(){if("undefined"!=typeof self){var e=function(t){var n=St.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),St.delete(t.target)),0===St.size)){var r=!0,i=!1,o=void 0;try{for(var a,s=xt[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){(0,a.value)()}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}xt.clear()}};document.body.addEventListener("transitionrun",(function(t){var n=St.get(t.target);n||(n=new Set,St.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}}function It(e){requestAnimationFrame((function(){0===St.size?e():xt.add(e)}))}"undefined"!=typeof document&&("loading"!==document.readyState?Et():document.addEventListener("DOMContentLoaded",Et));function kt(){var e=(0,r.useRef)(new Map),t=(0,r.useCallback)((function(t,n,r,i){var o=(null==i?void 0:i.once)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.current.delete(r),r.apply(void 0,ot(n))}:r;e.current.set(r,{type:n,eventTarget:t,fn:o,options:i}),t.addEventListener(n,r,i)}),[]),n=(0,r.useCallback)((function(t,n,r,i){var o,a=(null===(o=e.current.get(r))||void 0===o?void 0:o.fn)||r;t.removeEventListener(n,a,i),e.current.delete(r)}),[]),i=(0,r.useCallback)((function(){e.current.forEach((function(e,t){n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,r.useEffect)((function(){return i}),[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}function Ct(e){var t=e.ref,n=e.onResize;(0,r.useEffect)((function(){var e=null==t?void 0:t.current;if(e){if(void 0===self.ResizeObserver)return self.addEventListener("resize",n,!1),function(){self.removeEventListener("resize",n,!1)};var r=new self.ResizeObserver((function(e){e.length&&n()}));return r.observe(e),function(){e&&r.unobserve(e)}}}),[n,t])}function At(e){for(;e&&!Tt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function Tt(e){var t=self.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}"undefined"!=typeof self&&self.visualViewport;var Mt=0,Ot=new Map;function _t(e){var t=it((0,r.useState)(void 0),2),n=t[0],i=t[1];return lt((function(){if(e){var t=Ot.get(e);if(t)i(t.element.id);else{var n="react-aria-description-".concat(Mt++);i(n);var r=document.createElement("div");r.id=n,r.style.display="none",r.textContent=e,document.body.appendChild(r),t={refCount:0,element:r},Ot.set(e,t)}return t.refCount++,function(){0==--t.refCount&&(t.element.remove(),Ot.delete(e))}}}),[e]),{"aria-describedby":e?n:void 0}}function Pt(e){var t;return"undefined"!=typeof self&&null!=self.navigator&&((null===(t=self.navigator.userAgentData)||void 0===t?void 0:t.brands.some((function(t){return e.test(t.brand)})))||e.test(self.navigator.userAgent))}function Lt(e){var t;return"undefined"!=typeof self&&null!=self.navigator&&e.test((null===(t=self.navigator.userAgentData)||void 0===t?void 0:t.platform)||self.navigator.platform)}function Nt(){return Lt(/^Mac/i)}function Dt(){return Lt(/^iPhone/i)||Lt(/^iPad/i)||Nt()&&navigator.maxTouchPoints>1}function Rt(e){var t=it((0,r.useState)(e),2),n=t[0],i=t[1],o=(0,r.useRef)(n),a=(0,r.useRef)(null);o.current=n;var s=(0,r.useRef)(null);s.current=function(){var e=a.current.next();e.done?a.current=null:n===e.value?s.current():i(e.value)},lt((function(){a.current&&s.current()}));var l=(0,r.useCallback)((function(e){a.current=e(o.current),s.current()}),[a,s]);return[n,l]}function jt(e,t){var n=Ft(e,t,"left"),r=Ft(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,a=e.scrollLeft,s=e.scrollTop,l=a+e.offsetWidth,c=s+e.offsetHeight;n<=a?a=n:n+i>l&&(a+=n+i-l),r<=s?s=r:r+o>c&&(s+=r+o-c),e.scrollLeft=a,e.scrollTop=s}function Ft(e,t,n){for(var r="left"===n?"offsetLeft":"offsetTop",i=0;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}function Ut(e){return!(0!==e.mozInputSource||!e.isTrusted)||(Pt(/Android/i)&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}class zt{getStringForLocale(e,t){let n=this.strings[t];n||(n=function(e,t,n="en-US"){if(t[e])return t[e];let r=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[r])return t[r];for(let e in t)if(e.startsWith(r+"-"))return t[e];return t[n]}(t,this.strings,this.defaultLocale),this.strings[t]=n);let r=n[e];if(!r)throw new Error(`Could not find intl message ${e} in ${t} locale`);return r}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const Bt=new Map,Gt=new Map;class Wt{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return"function"==typeof n?n(t,this):n}plural(e,t,n="cardinal"){let r=t["="+e];if(r)return"function"==typeof r?r():r;let i=this.locale+":"+n,o=Bt.get(i);return o||(o=new Intl.PluralRules(this.locale,{type:n}),Bt.set(i,o)),r=t[o.select(e)]||t.other,"function"==typeof r?r():r}number(e){let t=Gt.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),Gt.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return"function"==typeof n?n():n}constructor(e,t){this.locale=e,this.strings=t}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $t=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Vt=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Yt(e){if(Intl.Locale){var t=new Intl.Locale(e).maximize().script;return $t.has(t)}var n=e.split("-")[0];return Vt.has(n)}function Qt(){var e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:Yt(e)?"rtl":"ltr"}}var Zt=Qt(),qt=new Set;function Jt(){Zt=Qt();var e=!0,t=!1,n=void 0;try{for(var r,i=qt[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)(Zt)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}function Xt(){var e=qe(),t=Kt((0,r.useState)(Zt),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){return 0===qt.size&&self.addEventListener("languagechange",Jt),qt.add(i),function(){qt.delete(i),0===qt.size&&self.removeEventListener("languagechange",Jt)}}),[]),e?{locale:"en-US",direction:"ltr"}:n}var en=r.createContext(null);function tn(){var e=Xt();return(0,r.useContext)(en)||e}var nn=new WeakMap;function rn(e){var t=tn().locale,n=(0,r.useMemo)((function(){return function(e){var t=nn.get(e);return t||(t=new zt(e),nn.set(e,t)),t}(e)}),[e]);return(0,r.useMemo)((function(){return new Wt(t,n)}),[t,n])}var on=new Map;function an(e){var t=tn().locale,n=t+(e?Object.entries(e).sort((function(e,t){return e[0]<t[0]?-1:1})).join():"");if(on.has(n))return on.get(n);var r=new Intl.Collator(t,e);return on.set(n,r),r}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ln=7e3,cn=null;var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}var t,n,r;return t=e,n=[{key:"createLog",value:function(e){var t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}},{key:"destroy",value:function(){this.node&&(document.body.removeChild(this.node),this.node=null)}},{key:"announce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"assertive",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln;if(this.node){var r=document.createElement("div");r.textContent=e,"assertive"===t?this.assertiveLog.appendChild(r):this.politeLog.appendChild(r),""!==e&&setTimeout((function(){r.remove()}),n)}}},{key:"clear",value:function(e){this.node&&(e&&"assertive"!==e||(this.assertiveLog.innerHTML=""),e&&"polite"!==e||(this.politeLog.innerHTML=""))}}],n&&sn(t.prototype,n),r&&sn(t,r),e}();function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mn(e,t,n[t])}))}return e}function gn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function yn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}var wn="default",Sn="",xn=new WeakMap;function En(e){Dt()?("default"===wn&&(Sn=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),wn="disabled"):(fn(e,HTMLElement)||fn(e,SVGElement))&&(xn.set(e,e.style.userSelect),e.style.userSelect="none")}function In(e){if(Dt()){if("disabled"!==wn)return;wn="restoring",setTimeout((function(){It((function(){"restoring"===wn&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=Sn||""),Sn="",wn="default")}))}),300)}else if((fn(e,HTMLElement)||fn(e,SVGElement))&&e&&xn.has(e)){var t=xn.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),xn.delete(e)}}var kn=r.createContext(null);function Cn(e){var t=(0,r.useContext)(kn);if(t){var n=t.register;e=ft(yn(t,["register"]),e),n()}return function(e,t){lt((function(){if(e&&e.ref&&t)return e.ref.current=t.current,function(){e.ref.current=null}}),[e,t])}(t,e.ref),e}function An(e){var t=Cn(e),n=t.onPress,i=t.onPressChange,o=t.onPressStart,a=t.onPressEnd,s=t.onPressUp,l=t.isDisabled,c=t.isPressed,u=t.preventFocusOnPress,d=t.shouldCancelOnPointerExit,p=t.allowTextSelectionOnPress,m=(t.ref,yn(t,["onPress","onPressChange","onPressStart","onPressEnd","onPressUp","isDisabled","isPressed","preventFocusOnPress","shouldCancelOnPointerExit","allowTextSelectionOnPress","ref"])),f=(0,r.useRef)(null);f.current={onPress:n,onPressChange:i,onPressStart:o,onPressEnd:a,onPressUp:s,isDisabled:l,shouldCancelOnPointerExit:d};var h=vn((0,r.useState)(!1),2),g=h[0],y=h[1],v=(0,r.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),b=kt(),w=b.addGlobalListener,S=b.removeAllGlobalListeners,x=(0,r.useMemo)((function(){var e=v.current,t=function(t,n){var r=f.current,i=r.onPressStart,o=r.onPressChange;r.isDisabled||e.didFirePressStart||(i&&i({type:"pressstart",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),o&&o(!0),e.didFirePressStart=!0,y(!0))},n=function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=f.current,o=i.onPressEnd,a=i.onPressChange,s=i.onPress,l=i.isDisabled;e.didFirePressStart&&(e.ignoreClickAfterPress=!0,e.didFirePressStart=!1,o&&o({type:"pressend",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),a&&a(!1),y(!1),s&&r&&!l&&s({type:"press",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}))},r=function(e,t){var n=f.current,r=n.onPressUp;n.isDisabled||r&&r({type:"pressup",pointerType:t,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})},i=function(t){e.isPressed&&(e.isOverTarget&&n(_n(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,S(),p||In(e.target))},o={onKeyDown:function(n){Mn(n.nativeEvent,n.currentTarget)&&n.currentTarget.contains(n.target)?(Nn(n.target,n.key)&&n.preventDefault(),n.stopPropagation(),e.isPressed||n.repeat||(e.target=n.currentTarget,e.isPressed=!0,t(n,"keyboard"),w(document,"keyup",a,!1))):"Enter"===n.key&&Tn(n.currentTarget)&&n.stopPropagation()},onKeyUp:function(t){Mn(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&r(_n(e.target,t),"keyboard")},onClick:function(i){i&&!i.currentTarget.contains(i.target)||i&&0===i.button&&(i.stopPropagation(),l&&i.preventDefault(),e.ignoreClickAfterPress||e.ignoreEmulatedMouseEvents||"virtual"!==e.pointerType&&!Ut(i.nativeEvent)||(l||u||bt(i.currentTarget),t(i,"virtual"),r(i,"virtual"),n(i,"virtual")),e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1)}},a=function(t){if(e.isPressed&&Mn(t,e.target)){Nn(t.target,t.key)&&t.preventDefault(),t.stopPropagation(),e.isPressed=!1;var r=t.target;n(_n(e.target,t),"keyboard",e.target.contains(r)),S(),fn(e.target,HTMLElement)&&e.target.contains(r)&&(Tn(e.target)||"link"===e.target.getAttribute("role"))&&e.target.click()}};if("undefined"!=typeof PointerEvent){o.onPointerDown=function(n){var r;0===n.button&&n.currentTarget.contains(n.target)&&(0===(r=n.nativeEvent).width&&0===r.height||1===r.width&&1===r.height&&0===r.pressure&&0===r.detail&&"mouse"===r.pointerType?e.pointerType="virtual":(Ln(n.currentTarget)&&n.preventDefault(),e.pointerType=n.pointerType,n.stopPropagation(),e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=n.pointerId,e.target=n.currentTarget,l||u||bt(n.currentTarget),p||En(e.target),t(n,e.pointerType),w(document,"pointermove",s,!1),w(document,"pointerup",c,!1),w(document,"pointercancel",d,!1))))},o.onMouseDown=function(e){e.currentTarget.contains(e.target)&&0===e.button&&(Ln(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},o.onPointerUp=function(t){t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&Pn(t,t.currentTarget)&&r(t,e.pointerType||t.pointerType)};var s=function(r){r.pointerId===e.activePointerId&&(Pn(r,e.target)?e.isOverTarget||(e.isOverTarget=!0,t(_n(e.target,r),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,n(_n(e.target,r),e.pointerType,!1),f.current.shouldCancelOnPointerExit&&i(r)))},c=function(t){t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(Pn(t,e.target)?n(_n(e.target,t),e.pointerType):e.isOverTarget&&n(_n(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,S(),p||In(e.target))},d=function(e){i(e)};o.onDragStart=function(e){e.currentTarget.contains(e.target)&&i(e)}}else{o.onMouseDown=function(n){0===n.button&&n.currentTarget.contains(n.target)&&(Ln(n.currentTarget)&&n.preventDefault(),n.stopPropagation(),e.ignoreEmulatedMouseEvents||(e.isPressed=!0,e.isOverTarget=!0,e.target=n.currentTarget,e.pointerType=Ut(n.nativeEvent)?"virtual":"mouse",l||u||bt(n.currentTarget),t(n,e.pointerType),w(document,"mouseup",m,!1)))},o.onMouseEnter=function(n){n.currentTarget.contains(n.target)&&(n.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,t(n,e.pointerType)))},o.onMouseLeave=function(t){t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,n(t,e.pointerType,!1),f.current.shouldCancelOnPointerExit&&i(t)))},o.onMouseUp=function(t){t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||r(t,e.pointerType))};var m=function(t){0===t.button&&(e.isPressed=!1,S(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(Pn(t,e.target)?n(_n(e.target,t),e.pointerType):e.isOverTarget&&n(_n(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};o.onTouchStart=function(n){if(n.currentTarget.contains(n.target)){n.stopPropagation();var r,i,o=(r=n.nativeEvent,(i=r.targetTouches).length>0?i[0]:null);o&&(e.activePointerId=o.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=n.currentTarget,e.pointerType="touch",l||u||bt(n.currentTarget),p||En(e.target),t(n,e.pointerType),w(self,"scroll",h,!0))}},o.onTouchMove=function(r){if(r.currentTarget.contains(r.target)&&(r.stopPropagation(),e.isPressed)){var o=On(r.nativeEvent,e.activePointerId);o&&Pn(o,r.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,t(r,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,n(r,e.pointerType,!1),f.current.shouldCancelOnPointerExit&&i(r))}},o.onTouchEnd=function(t){if(t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed)){var i=On(t.nativeEvent,e.activePointerId);i&&Pn(i,t.currentTarget)?(r(t,e.pointerType),n(t,e.pointerType)):e.isOverTarget&&n(t,e.pointerType,!1),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,p||In(e.target),S()}},o.onTouchCancel=function(t){t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&i(t))};var h=function(t){e.isPressed&&t.target.contains(e.target)&&i({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};o.onDragStart=function(e){e.currentTarget.contains(e.target)&&i(e)}}return o}),[w,l,u,S,p]);return(0,r.useEffect)((function(){return function(){p||In(v.current.target)}}),[p]),{isPressed:c||g,pressProps:ft(m,x)}}function Tn(e){return"A"===e.tagName&&e.hasAttribute("href")}function Mn(e,t){var n=e.key,r=e.code,i=t,o=i.getAttribute("role");return!("Enter"!==n&&" "!==n&&"Spacebar"!==n&&"Space"!==r||fn(i,HTMLInputElement)&&!Rn(i,n)||fn(i,HTMLTextAreaElement)||i.isContentEditable||Tn(i)&&("button"!==o||"Enter"===n)||"link"===o&&"Enter"!==n)}function On(e,t){for(var n=e.changedTouches,r=0;r<n.length;r++){var i=n[r];if(i.identifier===t)return i}return null}function _n(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Pn(e,t){var n,r,i=t.getBoundingClientRect(),o=function(e){var t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);return r=o,!((n=i).left>r.right||r.left>n.right||n.top>r.bottom||r.top>n.bottom)}function Ln(e){return!fn(e,HTMLElement)||!e.draggable}function Nn(e,t){return fn(e,HTMLInputElement)?!Rn(e,t):!fn(e,HTMLButtonElement)||"submit"!==e.type}kn.displayName="PressResponderContext";var Dn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Rn(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:Dn.has(e.type)}var jn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}var t,n,r;return t=e,(n=[{key:"isDefaultPrevented",value:function(){return this.nativeEvent.defaultPrevented}},{key:"preventDefault",value:function(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=function(){return!0}}},{key:"isPropagationStopped",value:function(){return!1}},{key:"persist",value:function(){}}])&&pn(t.prototype,n),r&&pn(t,r),e}();function Fn(e){var t=(0,r.useRef)({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,lt((function(){var e=t.current;return function(){e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),(0,r.useCallback)((function(e){if(fn(e.target,HTMLButtonElement)||fn(e.target,HTMLInputElement)||fn(e.target,HTMLTextAreaElement)||fn(e.target,HTMLSelectElement)){t.current.isFocused=!0;var n=e.target;n.addEventListener("focusout",(function(e){var r,i;t.current.isFocused=!1,n.disabled&&(null===(i=(r=t.current).onBlur)||void 0===i||i.call(r,new jn("blur",e))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)}),{once:!0}),t.current.observer=new MutationObserver((function(){t.current.isFocused&&n.disabled&&(t.current.observer.disconnect(),n.dispatchEvent(new FocusEvent("blur")),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))})),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}}),[])}function Un(e){var t=e.isDisabled,n=e.onFocus,i=e.onBlur,o=e.onFocusChange,a=(0,r.useCallback)((function(e){if(e.target===e.currentTarget)return i&&i(e),o&&o(!1),!0}),[i,o]),s=Fn(a),l=(0,r.useCallback)((function(e){e.target===e.currentTarget&&(n&&n(e),o&&o(!0),s(e))}),[o,n,s]);return{focusProps:{onFocus:!t&&(n||o||i)?l:void 0,onBlur:t||!i&&!o?null:a}}}var zn=null,Bn=new Set,Gn=!1,Wn=!1,Hn=!1,Kn={Tab:!0,Escape:!0};function $n(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=Bn[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){(0,o.value)(e,t)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}function Vn(e){Wn=!0,function(e){return!(e.metaKey||!Nt()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(zn="keyboard",$n("keyboard",e))}function Yn(e){zn="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(Wn=!0,$n("pointer",e))}function Qn(e){Ut(e)&&(Wn=!0,zn="virtual")}function Zn(e){e.target!==self&&e.target!==document&&(Wn||Hn||(zn="virtual",$n("virtual",e)),Wn=!1,Hn=!1)}function qn(){Wn=!1,Hn=!0}function Jn(){if("undefined"!=typeof self&&!Gn){var e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){Wn=!0,e.apply(this,arguments)},document.addEventListener("keydown",Vn,!0),document.addEventListener("keyup",Vn,!0),document.addEventListener("click",Qn,!0),self.addEventListener("focus",Zn,!0),self.addEventListener("blur",qn,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",Yn,!0),document.addEventListener("pointermove",Yn,!0),document.addEventListener("pointerup",Yn,!0)):(document.addEventListener("mousedown",Yn,!0),document.addEventListener("mousemove",Yn,!0),document.addEventListener("mouseup",Yn,!0)),Gn=!0}}function Xn(){return"pointer"!==zn}function er(e,t,n){Jn(),(0,r.useEffect)((function(){var t=function(t,r){(function(e,t,n){return!(e&&"keyboard"===t&&fn(n,KeyboardEvent)&&!Kn[n.key])})(null==n?void 0:n.isTextInput,t,r)&&e(Xn())};return Bn.add(t),function(){Bn.delete(t)}}),t)}function tr(e){var t=e.isDisabled,n=e.onBlurWithin,i=e.onFocusWithin,o=e.onFocusWithinChange,a=(0,r.useRef)({isFocusWithin:!1}),s=(0,r.useCallback)((function(e){a.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(e),o&&o(!1))}),[n,o,a]),l=Fn(s),c=(0,r.useCallback)((function(e){a.current.isFocusWithin||(i&&i(e),o&&o(!0),a.current.isFocusWithin=!0,l(e))}),[i,o,l]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:c,onBlur:s}}}"undefined"!=typeof document&&("loading"!==document.readyState?Jn():document.addEventListener("DOMContentLoaded",Jn));var nr=!1,rr=0;function ir(){nr=!0,setTimeout((function(){nr=!1}),50)}function or(e){"touch"===e.pointerType&&ir()}function ar(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",or):document.addEventListener("touchend",ir),rr++,function(){--rr>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",or):document.removeEventListener("touchend",ir))}}function sr(e,t){if(e.button>0)return!1;if(e.target){var n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target))return!1}return t.current&&!t.current.contains(e.target)}function lr(e){var t=e.isDisabled,n=e.onLongPressStart,i=e.onLongPressEnd,o=e.onLongPress,a=e.threshold,s=void 0===a?500:a,l=e.accessibilityDescription,c=(0,r.useRef)(null),u=kt(),d=u.addGlobalListener,p=u.removeGlobalListener;return{longPressProps:ft(An({isDisabled:t,onPressStart:function(e){if(("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n(gn(hn({},e),{type:"longpressstart"})),c.current=setTimeout((function(){e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o(gn(hn({},e),{type:"longpress"})),c.current=null}),s),"touch"===e.pointerType)){var t=function(e){e.preventDefault()};d(e.target,"contextmenu",t,{once:!0}),d(self,"pointerup",(function(){setTimeout((function(){p(e.target,"contextmenu",t)}),30)}),{once:!0})}},onPressEnd:function(e){c.current&&clearTimeout(c.current),!i||"mouse"!==e.pointerType&&"touch"!==e.pointerType||i(gn(hn({},e),{type:"longpressend"}))}}).pressProps,_t(o&&!t?l:null))}}function cr(e){return e&&e.__esModule?e.default:e}var ur;new WeakMap;function dr(e,t){var n,i,o,a=e.getRowText,s=void 0===a?function(e){var n;return null===(n=t.collection.getItem(e))||void 0===n?void 0:n.textValue}:a,l=rn(cr(ur)),c=t.selectionManager.rawSelection,u=(0,r.useRef)(c);n=function(){var e;if(t.selectionManager.isFocused){var n=pr(c,u.current),r=pr(u.current,c),i="replace"===t.selectionManager.selectionBehavior,o=[];if(1===t.selectionManager.selectedKeys.size&&i){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){var a=s(t.selectionManager.selectedKeys.keys().next().value);a&&o.push(l.format("selectedItem",{item:a}))}}else if(1===n.size&&0===r.size){var d=s(n.keys().next().value);d&&o.push(l.format("selectedItem",{item:d}))}else if(1===r.size&&0===n.size&&t.collection.getItem(r.keys().next().value)){var p=s(r.keys().next().value);p&&o.push(l.format("deselectedItem",{item:p}))}"multiple"===t.selectionManager.selectionMode&&(0===o.length||"all"===c||c.size>1||"all"===u.current||(null===(e=u.current)||void 0===e?void 0:e.size)>1)&&o.push("all"===c?l.format("selectedAll"):l.format("selectedCount",{count:c.size})),o.length>0&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"assertive",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln;cn||(cn=new un),cn.announce(e,t,n)}(o.join(" ")),u.current=c}else u.current=c},i=[c],o=(0,r.useRef)(!0),(0,r.useEffect)((function(){o.current?o.current=!1:n()}),i)}function pr(e,t){var n=new Set;if("all"===e||"all"===t)return n;var r=!0,i=!1,o=void 0;try{for(var a,s=e.keys()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t.has(l)||n.add(l)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function mr(e){var t=rn(cr(ur)),n=function(){Jn();var e=vn((0,r.useState)(zn),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){n(zn)};return Bn.add(e),function(){Bn.delete(e)}}),[]),t}(),i=("pointer"===n||"virtual"===n||null==n)&&"undefined"!=typeof self&&"ontouchstart"in self;return _t((0,r.useMemo)((function(){var n=e.selectionManager.selectionMode,r=e.selectionManager.selectionBehavior,o=void 0;return i&&(o=t.format("longPressToSelect")),"replace"===r&&"none"!==n&&e.hasItemActions?o:void 0}),[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,i]))}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t,n){return t&&gr(e.prototype,t),n&&gr(e,n),e}function vr(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ur={"ar-AE":{deselectedItem:function(e){return"".concat(e.item," ØºÙØ± Ø§ÙÙØ­Ø¯Ø¯")},longPressToSelect:"Ø§Ø¶ØºØ· ÙØ·ÙÙÙØ§ ÙÙØ¯Ø®ÙÙ Ø¥ÙÙ ÙØ¶Ø¹ Ø§ÙØªØ­Ø¯ÙØ¯.",select:"ØªØ­Ø¯ÙØ¯",selectedAll:"Ø¬ÙÙØ¹ Ø§ÙØ¹ÙØ§ØµØ± Ø§ÙÙØ­Ø¯Ø¯Ø©.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"ÙÙ ÙØªÙ ØªØ­Ø¯ÙØ¯ Ø¹ÙØ§ØµØ±",one:function(){return"".concat(t.number(e.count)," Ø¹ÙØµØ± ÙØ­Ø¯Ø¯")},other:function(){return"".concat(t.number(e.count)," Ø¹ÙØµØ± ÙØ­Ø¯Ø¯")}}),".")},selectedItem:function(e){return"".concat(e.item," Ø§ÙÙØ­Ø¯Ø¯")}},"bg-BG":{deselectedItem:function(e){return"".concat(e.item," Ð½Ðµ Ðµ Ð¸Ð·Ð±ÑÐ°Ð½.")},longPressToSelect:"ÐÐ°ÑÐ¸ÑÐ½ÐµÑÐµ Ð¸ Ð·Ð°Ð´ÑÑÐ¶ÑÐµ Ð·Ð° Ð´Ð° Ð²Ð»ÐµÐ·ÐµÑÐµ Ð² Ð¸Ð·Ð±Ð¸ÑÐ°ÑÐµÐ»ÐµÐ½ ÑÐµÐ¶Ð¸Ð¼.",select:"ÐÐ·Ð±ÐµÑÐµÑÐµ",selectedAll:"ÐÑÐ¸ÑÐºÐ¸ ÐµÐ»ÐµÐ¼ÐµÐ½ÑÐ¸ ÑÐ° Ð¸Ð·Ð±ÑÐ°Ð½Ð¸.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"ÐÑÐ¼Ð° Ð¸Ð·Ð±ÑÐ°Ð½Ð¸ ÐµÐ»ÐµÐ¼ÐµÐ½ÑÐ¸",one:function(){return"".concat(t.number(e.count)," Ð¸Ð·Ð±ÑÐ°Ð½ ÐµÐ»ÐµÐ¼ÐµÐ½Ñ")},other:function(){return"".concat(t.number(e.count)," Ð¸Ð·Ð±ÑÐ°Ð½Ð¸ ÐµÐ»ÐµÐ¼ÐµÐ½ÑÐ¸")}}),".")},selectedItem:function(e){return"".concat(e.item," Ð¸Ð·Ð±ÑÐ°Ð½.")}},"cs-CZ":{deselectedItem:function(e){return"PoloÅ¾ka ".concat(e.item," nenÃ­ vybrÃ¡na.")},longPressToSelect:"DlouhÃ½m stisknutÃ­m pÅejdete do reÅ¾imu vÃ½bÄru.",select:"Vybrat",selectedAll:"VybrÃ¡ny vÅ¡echny poloÅ¾ky.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"NevybrÃ¡ny Å¾Ã¡dnÃ© poloÅ¾ky",one:function(){return"VybrÃ¡na ".concat(t.number(e.count)," poloÅ¾ka")},other:function(){return"VybrÃ¡no ".concat(t.number(e.count)," poloÅ¾ek")}}),".")},selectedItem:function(e){return"VybrÃ¡na poloÅ¾ka ".concat(e.item,".")}},"da-DK":{deselectedItem:function(e){return"".concat(e.item," ikke valgt.")},longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"VÃ¦lg",selectedAll:"Alle elementer valgt.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Ingen elementer valgt",one:function(){return"".concat(t.number(e.count)," element valgt")},other:function(){return"".concat(t.number(e.count)," elementer valgt")}}),".")},selectedItem:function(e){return"".concat(e.item," valgt.")}},"de-DE":{deselectedItem:function(e){return"".concat(e.item," nicht ausgewÃ¤hlt.")},longPressToSelect:"GedrÃ¼ckt halten, um Auswahlmodus zu Ã¶ffnen.",select:"AuswÃ¤hlen",selectedAll:"Alle Elemente ausgewÃ¤hlt.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Keine Elemente ausgewÃ¤hlt",one:function(){return"".concat(t.number(e.count)," Element ausgewÃ¤hlt")},other:function(){return"".concat(t.number(e.count)," Elemente ausgewÃ¤hlt")}}),".")},selectedItem:function(e){return"".concat(e.item," ausgewÃ¤hlt.")}},"el-GR":{deselectedItem:function(e){return"ÎÎµÎ½ ÎµÏÎ¹Î»Î­ÏÎ¸Î·ÎºÎµ ÏÎ¿ ÏÏÎ¿Î¹ÏÎµÎ¯Î¿ ".concat(e.item,".")},longPressToSelect:"Î Î±ÏÎ®ÏÏÎµ ÏÎ±ÏÎ±ÏÎµÏÎ±Î¼Î­Î½Î± Î³Î¹Î± Î½Î± Î¼ÏÎµÎ¯ÏÎµ ÏÎµ Î»ÎµÎ¹ÏÎ¿ÏÏÎ³Î¯Î± ÎµÏÎ¹Î»Î¿Î³Î®Ï.",select:"ÎÏÎ¹Î»Î¿Î³Î®",selectedAll:"ÎÏÎ¹Î»Î­ÏÎ¸Î·ÎºÎ±Î½ ÏÎ»Î± ÏÎ± ÏÏÎ¿Î¹ÏÎµÎ¯Î±.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"ÎÎµÎ½ ÎµÏÎ¹Î»Î­ÏÎ¸Î·ÎºÎ±Î½ ÏÏÎ¿Î¹ÏÎµÎ¯Î±",one:function(){return"ÎÏÎ¹Î»Î­ÏÎ¸Î·ÎºÎµ ".concat(t.number(e.count)," ÏÏÎ¿Î¹ÏÎµÎ¯Î¿")},other:function(){return"ÎÏÎ¹Î»Î­ÏÎ¸Î·ÎºÎ±Î½ ".concat(t.number(e.count)," ÏÏÎ¿Î¹ÏÎµÎ¯Î±")}}),".")},selectedItem:function(e){return"ÎÏÎ¹Î»Î­ÏÎ¸Î·ÎºÎµ ÏÎ¿ ÏÏÎ¿Î¹ÏÎµÎ¯Î¿ ".concat(e.item,".")}},"en-US":{deselectedItem:function(e){return"".concat(e.item," not selected.")},select:"Select",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"No items selected",one:function(){return"".concat(t.number(e.count)," item selected")},other:function(){return"".concat(t.number(e.count)," items selected")}}),".")},selectedAll:"All items selected.",selectedItem:function(e){return"".concat(e.item," selected.")},longPressToSelect:"Long press to enter selection mode."},"es-ES":{deselectedItem:function(e){return"".concat(e.item," no seleccionado.")},longPressToSelect:"Mantenga pulsado para abrir el modo de selecciÃ³n.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"NingÃºn elemento seleccionado",one:function(){return"".concat(t.number(e.count)," elemento seleccionado")},other:function(){return"".concat(t.number(e.count)," elementos seleccionados")}}),".")},selectedItem:function(e){return"".concat(e.item," seleccionado.")}},"et-EE":{deselectedItem:function(e){return"".concat(e.item," pole valitud.")},longPressToSelect:"ValikureÅ¾iimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"KÃµik Ã¼ksused valitud.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Ãksusi pole valitud",one:function(){return"".concat(t.number(e.count)," Ã¼ksus valitud")},other:function(){return"".concat(t.number(e.count)," Ã¼ksust valitud")}}),".")},selectedItem:function(e){return"".concat(e.item," valitud.")}},"fi-FI":{deselectedItem:function(e){return"Kohdetta ".concat(e.item," ei valittu.")},longPressToSelect:"Siirry valintatilaan painamalla pitkÃ¤Ã¤n.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Ei yhtÃ¤Ã¤n kohdetta valittu",one:function(){return"".concat(t.number(e.count)," kohde valittu")},other:function(){return"".concat(t.number(e.count)," kohdetta valittu")}}),".")},selectedItem:function(e){return"".concat(e.item," valittu.")}},"fr-FR":{deselectedItem:function(e){return"".concat(e.item," non sÃ©lectionnÃ©.")},longPressToSelect:"Appuyez de maniÃ¨re prolongÃ©e pour passer en mode de sÃ©lection.",select:"SÃ©lectionner",selectedAll:"Tous les Ã©lÃ©ments sÃ©lectionnÃ©s.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Aucun Ã©lÃ©ment sÃ©lectionnÃ©",one:function(){return"".concat(t.number(e.count)," Ã©lÃ©ment sÃ©lectionnÃ©")},other:function(){return"".concat(t.number(e.count)," Ã©lÃ©ments sÃ©lectionnÃ©s")}}),".")},selectedItem:function(e){return"".concat(e.item," sÃ©lectionnÃ©.")}},"he-IL":{deselectedItem:function(e){return"".concat(e.item," ×× × ×××¨.")},longPressToSelect:"××§×©× ××¨××× ××× ××¡× ×××¦× ××××¨×.",select:"×××¨",selectedAll:"×× ××¤×¨×××× × ×××¨×.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"×× × ×××¨× ×¤×¨××××",one:function(){return"×¤×¨×× ".concat(t.number(e.count)," × ×××¨")},other:function(){return"".concat(t.number(e.count)," ×¤×¨×××× × ×××¨×")}}),".")},selectedItem:function(e){return"".concat(e.item," × ×××¨.")}},"hr-HR":{deselectedItem:function(e){return"Stavka ".concat(e.item," nije odabrana.")},longPressToSelect:"Dugo pritisnite za ulazak u naÄin odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:function(){return"Odabrana je ".concat(t.number(e.count)," stavka")},other:function(){return"Odabrano je ".concat(t.number(e.count)," stavki")}}),".")},selectedItem:function(e){return"Stavka ".concat(e.item," je odabrana.")}},"hu-HU":{deselectedItem:function(e){return"".concat(e.item," nincs kijelÃ¶lve.")},longPressToSelect:"Nyomja hosszan a kijelÃ¶lÃ©shez.",select:"KijelÃ¶lÃ©s",selectedAll:"Az Ã¶sszes elem kijelÃ¶lve.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Egy elem sincs kijelÃ¶lve",one:function(){return"".concat(t.number(e.count)," elem kijelÃ¶lve")},other:function(){return"".concat(t.number(e.count)," elem kijelÃ¶lve")}}),".")},selectedItem:function(e){return"".concat(e.item," kijelÃ¶lve.")}},"it-IT":{deselectedItem:function(e){return"".concat(e.item," non selezionato.")},longPressToSelect:"Premi a lungo per passare alla modalitÃ  di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nessun elemento selezionato",one:function(){return"".concat(t.number(e.count)," elemento selezionato")},other:function(){return"".concat(t.number(e.count)," elementi selezionati")}}),".")},selectedItem:function(e){return"".concat(e.item," selezionato.")}},"ja-JP":{deselectedItem:function(e){return"".concat(e.item," ãé¸æããã¦ãã¾ããã")},longPressToSelect:"é·æ¼ããã¦é¸æã¢ã¼ããéãã¾ãã",select:"é¸æ",selectedAll:"ãã¹ã¦ã®é ç®ãé¸æãã¾ããã",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"é ç®ãé¸æããã¦ãã¾ãã",one:function(){return"".concat(t.number(e.count)," é ç®ãé¸æãã¾ãã")},other:function(){return"".concat(t.number(e.count)," é ç®ãé¸æãã¾ãã")}}),"ã")},selectedItem:function(e){return"".concat(e.item," ãé¸æãã¾ããã")}},"ko-KR":{deselectedItem:function(e){return"".concat(e.item,"ì´(ê°) ì íëì§ ìììµëë¤.")},longPressToSelect:"ì í ëª¨ëë¡ ë¤ì´ê°ë ¤ë©´ ê¸¸ê² ëë¥´ì­ìì¤.",select:"ì í",selectedAll:"ëª¨ë  í­ëª©ì´ ì íëììµëë¤.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"ì íë í­ëª©ì´ ììµëë¤",one:function(){return"".concat(t.number(e.count),"ê° í­ëª©ì´ ì íëììµëë¤")},other:function(){return"".concat(t.number(e.count),"ê° í­ëª©ì´ ì íëììµëë¤")}}),".")},selectedItem:function(e){return"".concat(e.item,"ì´(ê°) ì íëììµëë¤.")}},"lt-LT":{deselectedItem:function(e){return"".concat(e.item," nepasirinkta.")},longPressToSelect:"NorÄdami Ä¯jungti pasirinkimo reÅ¾imÄ, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nepasirinktas nÄ vienas elementas",one:function(){return"Pasirinktas ".concat(t.number(e.count)," elementas")},other:function(){return"Pasirinkta elementÅ³: ".concat(t.number(e.count))}}),".")},selectedItem:function(e){return"Pasirinkta: ".concat(e.item,".")}},"lv-LV":{deselectedItem:function(e){return"Vienums ".concat(e.item," nav atlasÄ«ts.")},longPressToSelect:"Ilgi turiet nospiestu. lai ieslÄgtu atlases reÅ¾Ä«mu.",select:"AtlasÄ«t",selectedAll:"AtlasÄ«ti visi vienumi.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nav atlasÄ«ts neviens vienums",one:function(){return"AtlasÄ«to vienumu skaits: ".concat(t.number(e.count))},other:function(){return"AtlasÄ«to vienumu skaits: ".concat(t.number(e.count))}}),".")},selectedItem:function(e){return"AtlasÄ«ts vienums ".concat(e.item,".")}},"nb-NO":{deselectedItem:function(e){return"".concat(e.item," er ikke valgt.")},longPressToSelect:"Bruk et langt trykk for Ã¥ gÃ¥ inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Ingen elementer er valgt",one:function(){return"".concat(t.number(e.count)," element er valgt")},other:function(){return"".concat(t.number(e.count)," elementer er valgt")}}),".")},selectedItem:function(e){return"".concat(e.item," er valgt.")}},"nl-NL":{deselectedItem:function(e){return"".concat(e.item," niet geselecteerd.")},longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Geen items geselecteerd",one:function(){return"".concat(t.number(e.count)," item geselecteerd")},other:function(){return"".concat(t.number(e.count)," items geselecteerd")}}),".")},selectedItem:function(e){return"".concat(e.item," geselecteerd.")}},"pl-PL":{deselectedItem:function(e){return"Nie zaznaczono ".concat(e.item,".")},longPressToSelect:"NaciÅnij i przytrzymaj, aby wejÅÄ do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nie zaznaczono Å¼adnych elementÃ³w",one:function(){return"".concat(t.number(e.count)," zaznaczony element")},other:function(){return"".concat(t.number(e.count)," zaznaczonych elementÃ³w")}}),".")},selectedItem:function(e){return"Zaznaczono ".concat(e.item,".")}},"pt-BR":{deselectedItem:function(e){return"".concat(e.item," nÃ£o selecionado.")},longPressToSelect:"Mantenha pressionado para entrar no modo de seleÃ§Ã£o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nenhum item selecionado",one:function(){return"".concat(t.number(e.count)," item selecionado")},other:function(){return"".concat(t.number(e.count)," itens selecionados")}}),".")},selectedItem:function(e){return"".concat(e.item," selecionado.")}},"pt-PT":{deselectedItem:function(e){return"".concat(e.item," nÃ£o selecionado.")},longPressToSelect:"Prima continuamente para entrar no modo de seleÃ§Ã£o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nenhum item selecionado",one:function(){return"".concat(t.number(e.count)," item selecionado")},other:function(){return"".concat(t.number(e.count)," itens selecionados")}}),".")},selectedItem:function(e){return"".concat(e.item," selecionado.")}},"ro-RO":{deselectedItem:function(e){return"".concat(e.item," neselectat.")},longPressToSelect:"ApÄsaÈi lung pentru a intra Ã®n modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Niciun element selectat",one:function(){return"".concat(t.number(e.count)," element selectat")},other:function(){return"".concat(t.number(e.count)," elemente selectate")}}),".")},selectedItem:function(e){return"".concat(e.item," selectat.")}},"ru-RU":{deselectedItem:function(e){return"".concat(e.item," Ð½Ðµ Ð²ÑÐ±ÑÐ°Ð½Ð¾.")},longPressToSelect:"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð¸ ÑÐ´ÐµÑÐ¶Ð¸Ð²Ð°Ð¹ÑÐµ Ð´Ð»Ñ Ð²ÑÐ¾Ð´Ð° Ð² ÑÐµÐ¶Ð¸Ð¼ Ð²ÑÐ±Ð¾ÑÐ°.",select:"ÐÑÐ±ÑÐ°ÑÑ",selectedAll:"ÐÑÐ±ÑÐ°Ð½Ñ Ð²ÑÐµ ÑÐ»ÐµÐ¼ÐµÐ½ÑÑ.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"ÐÐµÑ Ð²ÑÐ±ÑÐ°Ð½Ð½ÑÑ ÑÐ»ÐµÐ¼ÐµÐ½ÑÐ¾Ð²",one:function(){return"".concat(t.number(e.count)," ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð²ÑÐ±ÑÐ°Ð½")},other:function(){return"".concat(t.number(e.count)," ÑÐ»ÐµÐ¼ÐµÐ½ÑÐ¾Ð² Ð²ÑÐ±ÑÐ°Ð½Ð¾")}}),".")},selectedItem:function(e){return"".concat(e.item," Ð²ÑÐ±ÑÐ°Ð½Ð¾.")}},"sk-SK":{deselectedItem:function(e){return"NevybratÃ© poloÅ¾ky: ".concat(e.item,".")},longPressToSelect:"DlhÅ¡Ã­m stlaÄenÃ­m prejdite do reÅ¾imu vÃ½beru.",select:"VybraÅ¥",selectedAll:"VÅ¡etky vybratÃ© poloÅ¾ky.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Å½iadne vybratÃ© poloÅ¾ky",one:function(){return"".concat(t.number(e.count)," vybratÃ¡ poloÅ¾ka")},other:function(){return"PoÄet vybratÃ½ch poloÅ¾iek:".concat(t.number(e.count))}}),".")},selectedItem:function(e){return"VybratÃ© poloÅ¾ky: ".concat(e.item,".")}},"sl-SI":{deselectedItem:function(e){return"Element ".concat(e.item," ni izbran.")},longPressToSelect:"Za izbirni naÄin pritisnite in dlje Äasa drÅ¾ite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Noben element ni izbran",one:function(){return"".concat(t.number(e.count)," element je izbran")},other:function(){return"".concat(t.number(e.count)," elementov je izbranih")}}),".")},selectedItem:function(e){return"Element ".concat(e.item," je izbran.")}},"sr-SP":{deselectedItem:function(e){return"".concat(e.item," nije izabrano.")},longPressToSelect:"Dugo pritisnite za ulazak u reÅ¾im biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:function(){return"Izabrana je ".concat(t.number(e.count)," stavka")},other:function(){return"Izabrano je ".concat(t.number(e.count)," stavki")}}),".")},selectedItem:function(e){return"".concat(e.item," je izabrano.")}},"sv-SE":{deselectedItem:function(e){return"".concat(e.item," ej markerat.")},longPressToSelect:"Tryck lÃ¤nge nÃ¤r du vill Ã¶ppna vÃ¤ljarlÃ¤ge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"Inga markerade objekt",one:function(){return"".concat(t.number(e.count)," markerat objekt")},other:function(){return"".concat(t.number(e.count)," markerade objekt")}}),".")},selectedItem:function(e){return"".concat(e.item," markerat.")}},"tr-TR":{deselectedItem:function(e){return"".concat(e.item," seÃ§ilmedi.")},longPressToSelect:"SeÃ§im moduna girmek iÃ§in uzun basÄ±n.",select:"SeÃ§",selectedAll:"TÃ¼m Ã¶geler seÃ§ildi.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"HiÃ§bir Ã¶ge seÃ§ilmedi",one:function(){return"".concat(t.number(e.count)," Ã¶ge seÃ§ildi")},other:function(){return"".concat(t.number(e.count)," Ã¶ge seÃ§ildi")}}),".")},selectedItem:function(e){return"".concat(e.item," seÃ§ildi.")}},"uk-UA":{deselectedItem:function(e){return"".concat(e.item," Ð½Ðµ Ð²Ð¸Ð±ÑÐ°Ð½Ð¾.")},longPressToSelect:"ÐÐ¸ÐºÐ¾Ð½Ð°Ð¹ÑÐµ Ð´Ð¾Ð²Ð³Ðµ Ð½Ð°ÑÐ¸ÑÐ½ÐµÐ½Ð½Ñ, ÑÐ¾Ð± Ð¿ÐµÑÐµÐ¹ÑÐ¸ Ð² ÑÐµÐ¶Ð¸Ð¼ Ð²Ð¸Ð±Ð¾ÑÑ.",select:"ÐÐ¸Ð±ÑÐ°ÑÐ¸",selectedAll:"Ð£ÑÑ ÐµÐ»ÐµÐ¼ÐµÐ½ÑÐ¸ Ð²Ð¸Ð±ÑÐ°Ð½Ð¾.",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"ÐÐ¾Ð´Ð½Ð¸Ñ ÐµÐ»ÐµÐ¼ÐµÐ½ÑÑÐ² Ð½Ðµ Ð²Ð¸Ð±ÑÐ°Ð½Ð¾",one:function(){return"".concat(t.number(e.count)," ÐµÐ»ÐµÐ¼ÐµÐ½Ñ Ð²Ð¸Ð±ÑÐ°Ð½Ð¾")},other:function(){return"ÐÐ¸Ð±ÑÐ°Ð½Ð¾ ÐµÐ»ÐµÐ¼ÐµÐ½ÑÑÐ²: ".concat(t.number(e.count))}}),".")},selectedItem:function(e){return"".concat(e.item," Ð²Ð¸Ð±ÑÐ°Ð½Ð¾.")}},"zh-CN":{deselectedItem:function(e){return"æªéæ© ".concat(e.item,"ã")},longPressToSelect:"é¿æä»¥è¿å¥éæ©æ¨¡å¼ã",select:"éæ©",selectedAll:"å·²éæ©ææé¡¹ç®ã",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"æªéæ©é¡¹ç®",one:function(){return"å·²éæ© ".concat(t.number(e.count)," ä¸ªé¡¹ç®")},other:function(){return"å·²éæ© ".concat(t.number(e.count)," ä¸ªé¡¹ç®")}}),"ã")},selectedItem:function(e){return"å·²éæ© ".concat(e.item,"ã")}},"zh-TW":{deselectedItem:function(e){return"æªé¸åã".concat(e.item,"ãã")},longPressToSelect:"é·æä»¥é²å¥é¸ææ¨¡å¼ã",select:"é¸å",selectedAll:"å·²é¸åææé ç®ã",selectedCount:function(e,t){return"".concat(t.plural(e.count,{"=0":"æªé¸åä»»ä½é ç®",one:function(){return"å·²é¸å ".concat(t.number(e.count)," åé ç®")},other:function(){return"å·²é¸å ".concat(t.number(e.count)," åé ç®")}}),"ã")},selectedItem:function(e){return"å·²é¸åã".concat(e.item,"ãã")}}};var wr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Sr=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function xr(e){if("virtual"===zn){var t=document.activeElement;It((function(){document.activeElement===t&&document.contains(e)&&bt(e)}))}else bt(e)}function Er(e,t){return"#comment"!==e.nodeName&&function(e){if(!vr(e,HTMLElement)&&!vr(e,SVGElement))return!1;var t=e.style,n=t.display,r=t.visibility,i="none"!==n&&"hidden"!==r&&"collapse"!==r;if(i){var o=(0,e.ownerDocument.defaultView.getComputedStyle)(e),a=o.display,s=o.visibility;i="none"!==a&&"hidden"!==s&&"collapse"!==s}return i}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||Er(e.parentElement,e))}var Ir=r.createContext(null),kr=null;function Cr(e){var t,n=e.children,i=e.contain,o=e.restoreFocus,a=e.autoFocus,s=(0,r.useRef)(),l=(0,r.useRef)(),c=(0,r.useRef)([]),u=(0,r.useContext)(Ir),d=null!==(t=null==u?void 0:u.scopeRef)&&void 0!==t?t:null,p=(0,r.useMemo)((function(){return kr&&Br.getTreeNode(kr)&&!Dr(kr,d)?kr:d}),[d]);lt((function(){for(var e=s.current.nextSibling,t=[];e&&e!==l.current;)t.push(e),e=e.nextSibling;c.current=t}),[n,p]),Br.getTreeNode(p)&&!Br.getTreeNode(c)&&Br.addTreeNode(c,p),Br.getTreeNode(c).contain=i,function(e,t,n){lt((function(){if(!t&&!n){var r=e.current,i=function(t){var n=t.target;Lr(n,e.current)?kr=e:Pr(n)||(kr=null)};return document.addEventListener("focusin",i,!1),r.forEach((function(e){return e.addEventListener("focusin",i,!1)})),function(){document.removeEventListener("focusin",i,!1),r.forEach((function(e){return e.removeEventListener("focusin",i,!1)}))}}}),[e,t,n])}(c,o,i),function(e,t){var n=(0,r.useRef)(),i=(0,r.useRef)(null);lt((function(){var r=e.current;if(t){var o=function(t){if(!("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey)&&_r(e)){var n=document.activeElement,r=e.current;if(Lr(n,r)){var i=Fr(Or(r),{tabbable:!0},r);i.currentNode=n;var o=t.shiftKey?i.previousNode():i.nextNode();o||(i.currentNode=t.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling,o=t.shiftKey?i.previousNode():i.nextNode()),t.preventDefault(),o&&Rr(o,!0)}}},a=function(t){kr&&!Dr(kr,e)||!Lr(t.target,e.current)?_r(e)&&!Nr(t.target,e)?n.current?n.current.focus():kr&&jr(kr.current):_r(e)&&(n.current=t.target):(kr=e,n.current=t.target)},s=function(t){i.current=requestAnimationFrame((function(){_r(e)&&!Nr(document.activeElement,e)&&(kr=e,document.body.contains(t.target)?(n.current=t.target,n.current.focus()):kr&&jr(kr.current))}))};return document.addEventListener("keydown",o,!1),document.addEventListener("focusin",a,!1),r.forEach((function(e){return e.addEventListener("focusin",a,!1)})),r.forEach((function(e){return e.addEventListener("focusout",s,!1)})),function(){document.removeEventListener("keydown",o,!1),document.removeEventListener("focusin",a,!1),r.forEach((function(e){return e.removeEventListener("focusin",a,!1)})),r.forEach((function(e){return e.removeEventListener("focusout",s,!1)}))}}i.current&&(cancelAnimationFrame(i.current),i.current=null)}),[e,t]),(0,r.useEffect)((function(){return function(){i.current&&cancelAnimationFrame(i.current)}}),[i])}(c,i),function(e,t,n){var i=(0,r.useRef)("undefined"!=typeof document?document.activeElement:null);lt((function(){var r=e.current;if(t&&!n){var i=function(){kr&&!Dr(kr,e)||(kr=e)};return document.addEventListener("focusin",i,!1),r.forEach((function(e){return e.addEventListener("focusin",i,!1)})),function(){document.removeEventListener("focusin",i,!1),r.forEach((function(e){return e.removeEventListener("focusin",i,!1)}))}}}),[e,n]),lt((function(){if(t){Br.getTreeNode(e).nodeToRestore=i.current;var r=function(t){if(!("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey)){var n=document.activeElement;if(Lr(n,e.current)){var r=Br.getTreeNode(e).nodeToRestore,i=Fr(document.body,{tabbable:!0});i.currentNode=n;var o=t.shiftKey?i.previousNode():i.nextNode();if(document.body.contains(r)&&r!==document.body||(r=null,Br.getTreeNode(e).nodeToRestore=null),(!o||!Lr(o,e.current))&&r){i.currentNode=r;do{o=t.shiftKey?i.previousNode():i.nextNode()}while(Lr(o,e.current));t.preventDefault(),t.stopPropagation(),o?Rr(o,!0):Pr(r)?Rr(r,!0):n.blur()}}}};return n||document.addEventListener("keydown",r,!0),function(){n||document.removeEventListener("keydown",r,!0);var i=Br.getTreeNode(e).nodeToRestore;if(t&&i&&(Lr(document.activeElement,e.current)||document.activeElement===document.body&&function(e){var t=Br.getTreeNode(kr);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}(e))){var o=Br.clone();requestAnimationFrame((function(){if(document.activeElement===document.body){for(var t=o.getTreeNode(e);t;){if(t.nodeToRestore&&document.body.contains(t.nodeToRestore))return void Rr(t.nodeToRestore);t=t.parent}for(t=o.getTreeNode(e);t;){if(t.scopeRef&&Br.getTreeNode(t.scopeRef))return void jr(t.scopeRef.current,!0);t=t.parent}}}))}}}}),[e,t,n])}(c,o,i),function(e,t){var n=r.useRef(t);(0,r.useEffect)((function(){n.current&&(kr=e,Lr(document.activeElement,kr.current)||jr(e.current)),n.current=!1}),[e])}(c,a),lt((function(){if(c)return function(){var e=Br.getTreeNode(c).parent.scopeRef;c!==kr&&!Dr(c,kr)||e&&!Br.getTreeNode(e)||(kr=e),Br.removeTreeNode(c)}}),[c,p]);var m=function(e){return{focusNext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,r=t.from,i=t.tabbable,o=t.wrap,a=t.accept,s=r||document.activeElement,l=n[0].previousElementSibling,c=Fr(Or(n),{tabbable:i,accept:a},n);c.currentNode=Lr(s,n)?s:l;var u=c.nextNode();return!u&&o&&(c.currentNode=l,u=c.nextNode()),u&&Rr(u,!0),u},focusPrevious:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,r=t.from,i=t.tabbable,o=t.wrap,a=t.accept,s=r||document.activeElement,l=n[n.length-1].nextElementSibling,c=Fr(Or(n),{tabbable:i,accept:a},n);c.currentNode=Lr(s,n)?s:l;var u=c.previousNode();return!u&&o&&(c.currentNode=l,u=c.previousNode()),u&&Rr(u,!0),u},focusFirst:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,r=t.tabbable,i=t.accept,o=Fr(Or(n),{tabbable:r,accept:i},n);o.currentNode=n[0].previousElementSibling;var a=o.nextNode();return a&&Rr(a,!0),a},focusLast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,r=t.tabbable,i=t.accept,o=Fr(Or(n),{tabbable:r,accept:i},n);o.currentNode=n[n.length-1].nextElementSibling;var a=o.previousNode();return a&&Rr(a,!0),a}}}(c);return r.createElement(Ir.Provider,{value:{scopeRef:c,focusManager:m}},r.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),n,r.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:l}))}var Ar=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Tr=Ar.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Ar.push('[tabindex]:not([tabindex="-1"]):not([disabled])');var Mr=Ar.join(':not([hidden]):not([tabindex="-1"]),');function Or(e){return e[0].parentElement}function _r(e){for(var t=Br.getTreeNode(kr);t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Pr(e){return Nr(e)}function Lr(e,t){return t.some((function(t){return t.contains(e)}))}function Nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!0,r=!1,i=void 0;try{for(var o,a=Br.traverse(Br.getTreeNode(t))[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.scopeRef;if(Lr(e,l.current))return!0}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}function Dr(e,t){for(var n,r=null===(n=Br.getTreeNode(t))||void 0===n?void 0:n.parent;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{xr(e)}catch(e){}}function jr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e[0].previousElementSibling,r=Fr(Or(e),{tabbable:t},e);r.currentNode=n;var i=r.nextNode();t&&!i&&((r=Fr(Or(e),{tabbable:!1},e)).currentNode=n,i=r.nextNode()),Rr(i)}function Fr(e,t,n){var r=(null==t?void 0:t.tabbable)?Mr:Tr,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var i;return(null==t||null===(i=t.from)||void 0===i?void 0:i.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(r)||!Er(e)||n&&!Lr(e,n)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(i.currentNode=t.from),i}var Ur=function(){function e(){hr(this,e),this.fastMap=new Map,this.root=new zr({scopeRef:null}),this.fastMap.set(null,this.root)}return yr(e,[{key:"size",get:function(){return this.fastMap.size}},{key:"getTreeNode",value:function(e){return this.fastMap.get(e)}},{key:"addTreeNode",value:function(e,t,n){var r=this.fastMap.get(null!=t?t:null),i=new zr({scopeRef:e});r.addChild(i),i.parent=r,this.fastMap.set(e,i),n&&(i.nodeToRestore=n)}},{key:"removeTreeNode",value:function(e){if(null!==e){var t=this.fastMap.get(e),n=t.parent,r=!0,i=!1,o=void 0;try{for(var a,s=this.traverse()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l!==t&&t.nodeToRestore&&l.nodeToRestore&&t.scopeRef.current&&Lr(l.nodeToRestore,t.scopeRef.current)&&(l.nodeToRestore=t.nodeToRestore)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}var c=t.children;n.removeChild(t),c.length>0&&c.forEach((function(e){return n.addChild(e)})),this.fastMap.delete(t.scopeRef)}}},{key:"traverse",value:function(){var e,t,n,r,i,o,a,s,l=arguments;return wr(this,(function(c){switch(c.label){case 0:return null==(e=l.length>0&&void 0!==l[0]?l[0]:this.root).scopeRef?[3,2]:[4,e];case 1:c.sent(),c.label=2;case 2:if(t=!0,n=!1,r=void 0,!(e.children.length>0))return[3,10];c.label=3;case 3:c.trys.push([3,8,9,10]),i=e.children[Symbol.iterator](),c.label=4;case 4:return(t=(o=i.next()).done)?[3,7]:(a=o.value,[5,Sr(this.traverse(a))]);case 5:c.sent(),c.label=6;case 6:return t=!0,[3,4];case 7:return[3,10];case 8:return s=c.sent(),n=!0,r=s,[3,10];case 9:try{t||null==i.return||i.return()}finally{if(n)throw r}return[7];case 10:return[2]}}))}},{key:"clone",value:function(){var t=new e,n=!0,r=!1,i=void 0;try{for(var o,a=this.traverse()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.addTreeNode(s.scopeRef,s.parent.scopeRef,s.nodeToRestore)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}}]),e}(),zr=function(){function e(t){hr(this,e),this.children=[],this.contain=!1,this.scopeRef=t.scopeRef}return yr(e,[{key:"addChild",value:function(e){this.children.push(e),e.parent=this}},{key:"removeChild",value:function(e){this.children.splice(this.children.indexOf(e),1),e.parent=void 0}}]),e}(),Br=new Ur;function Gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoFocus,n=void 0!==t&&t,i=e.isTextInput,o=e.within,a=(0,r.useRef)({isFocused:!1,isFocusVisible:n||Xn()}),s=br((0,r.useState)(!1),2),l=s[0],c=s[1],u=br((0,r.useState)((function(){return a.current.isFocused&&a.current.isFocusVisible})),2),d=u[0],p=u[1],m=(0,r.useCallback)((function(){return p(a.current.isFocused&&a.current.isFocusVisible)}),[]),f=(0,r.useCallback)((function(e){a.current.isFocused=e,c(e),m()}),[m]);er((function(e){a.current.isFocusVisible=e,m()}),[],{isTextInput:i});var h=Un({isDisabled:o,onFocusChange:f}),g=h.focusProps,y=tr({isDisabled:!o,onFocusWithinChange:f}),v=y.focusWithinProps;return{isFocused:l,isFocusVisible:a.current.isFocused&&d,focusProps:o?v:g}}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hr(e,t,n[t])}))}return e}function $r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Vr(e){return Nt()||Dt()?e.altKey:e.ctrlKey}function Yr(e){return Nt()?e.metaKey:e.ctrlKey}function Qr(e){var t=e.selectionManager,n=e.keyboardDelegate,i=e.ref,o=e.autoFocus,a=void 0!==o&&o,s=e.shouldFocusWrap,l=void 0!==s&&s,c=e.disallowEmptySelection,u=void 0!==c&&c,d=e.disallowSelectAll,p=void 0!==d&&d,m=e.selectOnFocus,f=void 0===m?"replace"===t.selectionBehavior:m,h=e.disallowTypeAhead,g=void 0!==h&&h,y=e.shouldUseVirtualFocus,v=e.allowsTabNavigation,b=void 0!==v&&v,w=e.isVirtualized,S=e.scrollRef,x=void 0===S?i:S,E=tn().direction,I=(0,r.useRef)({top:0,left:0});!function(e,t,n,i){var o=this,a=(0,r.useRef)(n);a.current=n;var s=null==n;(0,r.useEffect)((function(){if(!s){var n=e.current,r=function(e){return a.current.call(o,e)};return n.addEventListener(t,r,i),function(){n.removeEventListener(t,r,i)}}}),[e,t,i,s])}(x,"scroll",w?null:function(){I.current={top:x.current.scrollTop,left:x.current.scrollLeft}});var k=(0,r.useRef)(a);(0,r.useEffect)((function(){if(k.current){var e=null;"first"===a&&(e=n.getFirstKey()),"last"===a&&(e=n.getLastKey());var r=t.selectedKeys;r.size&&(e=r.values().next().value),t.setFocused(!0),t.setFocusedKey(e),null!=e||y||xr(i.current)}k.current=!1}),[]),(0,r.useEffect)((function(){if(!w&&t.focusedKey&&(null==x?void 0:x.current)){var e=x.current.querySelector('[data-key="'.concat(t.focusedKey,'"]'));e&&jt(x.current,e)}}),[w,x,t.focusedKey]);var C,A={onKeyDown:function(e){if(e.altKey&&"Tab"===e.key&&e.preventDefault(),i.current.contains(e.target)){var r=function(n,r){null!=n&&(t.setFocusedKey(n,r),e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):f&&!Vr(e)&&t.replaceSelection(n))};switch(e.key){case"ArrowDown":if(n.getKeyBelow){var o,a;e.preventDefault();var s=null!=t.focusedKey?n.getKeyBelow(t.focusedKey):null===(o=n.getFirstKey)||void 0===o?void 0:o.call(n);null==s&&l&&(s=null===(a=n.getFirstKey)||void 0===a?void 0:a.call(n,t.focusedKey)),r(s)}break;case"ArrowUp":if(n.getKeyAbove){var c,d;e.preventDefault();var m=null!=t.focusedKey?n.getKeyAbove(t.focusedKey):null===(c=n.getLastKey)||void 0===c?void 0:c.call(n);null==m&&l&&(m=null===(d=n.getLastKey)||void 0===d?void 0:d.call(n,t.focusedKey)),r(m)}break;case"ArrowLeft":if(n.getKeyLeftOf)e.preventDefault(),r(n.getKeyLeftOf(t.focusedKey),"rtl"===E?"first":"last");break;case"ArrowRight":if(n.getKeyRightOf)e.preventDefault(),r(n.getKeyRightOf(t.focusedKey),"rtl"===E?"last":"first");break;case"Home":if(n.getFirstKey){e.preventDefault();var h=n.getFirstKey(t.focusedKey,Yr(e));t.setFocusedKey(h),Yr(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(h):f&&t.replaceSelection(h)}break;case"End":if(n.getLastKey){e.preventDefault();var g=n.getLastKey(t.focusedKey,Yr(e));t.setFocusedKey(g),Yr(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(g):f&&t.replaceSelection(g)}break;case"PageDown":if(n.getKeyPageBelow)e.preventDefault(),r(n.getKeyPageBelow(t.focusedKey));break;case"PageUp":if(n.getKeyPageAbove)e.preventDefault(),r(n.getKeyPageAbove(t.focusedKey));break;case"a":Yr(e)&&"multiple"===t.selectionMode&&!0!==p&&(e.preventDefault(),t.selectAll());break;case"Escape":e.preventDefault(),u||t.clearSelection();break;case"Tab":if(!b){if(e.shiftKey)i.current.focus();else{var y,v,w=Fr(i.current,{tabbable:!0});do{(v=w.lastChild())&&(y=v)}while(v);y&&!y.contains(document.activeElement)&&bt(y)}break}}}},onFocus:function(e){if(t.isFocused)e.currentTarget.contains(e.target)||t.setFocused(!1);else if(e.currentTarget.contains(e.target))if(t.setFocused(!0),null==t.focusedKey){var r,i,o=function(e){null!=e&&(t.setFocusedKey(e),f&&t.replaceSelection(e))},a=e.relatedTarget;a&&e.currentTarget.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?o(null!==(r=t.lastSelectedKey)&&void 0!==r?r:n.getLastKey()):o(null!==(i=t.firstSelectedKey)&&void 0!==i?i:n.getFirstKey())}else if(!w){x.current.scrollTop=I.current.top,x.current.scrollLeft=I.current.left;var s=x.current.querySelector('[data-key="'.concat(t.focusedKey,'"]'));s&&(bt(s),jt(x.current,s))}},onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},onMouseDown:function(e){x.current===e.target&&e.preventDefault()}},T=function(e){var t=e.keyboardDelegate,n=e.selectionManager,i=e.onTypeSelect,o=(0,r.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?function(e){var r=function(e){return 1!==e.length&&/^[A-Z]/i.test(e)?"":e}(e.key);if(r&&!e.ctrlKey&&!e.metaKey){" "===r&&o.search.trim().length>0&&(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),o.search+=r;var a=t.getKeyForSearch(o.search,n.focusedKey);null==a&&(a=t.getKeyForSearch(o.search)),null!=a&&(n.setFocusedKey(a),i&&i(a)),clearTimeout(o.timeout),o.timeout=setTimeout((function(){o.search=""}),1e3)}}:null}}}({keyboardDelegate:n,selectionManager:t}),M=T.typeSelectProps;return g||(A=ft(M,A)),y||(C=null==t.focusedKey?0:-1),{collectionProps:$r(Kr({},A),{tabIndex:C})}}function Zr(e){var t=e.selectionManager,n=e.key,i=e.ref,o=e.shouldSelectOnPressUp,a=e.isVirtualized,s=e.shouldUseVirtualFocus,l=e.focus,c=e.isDisabled,u=e.onAction,d=e.allowsDifferentPressOrigin,p=function(e){if("keyboard"===e.pointerType&&Vr(e))t.toggleSelection(n);else{if("none"===t.selectionMode)return;"single"===t.selectionMode?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):e&&e.shiftKey?t.extendSelection(n):"toggle"===t.selectionBehavior||e&&(Yr(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(n):t.replaceSelection(n)}};(0,r.useEffect)((function(){n===t.focusedKey&&t.isFocused&&!s&&document.activeElement!==i.current&&(l?l():xr(i.current))}),[i,n,t.focusedKey,t.childFocusStrategy,t.isFocused,s]),c=c||t.isDisabled(n);var m={};s||c?c&&(m.onMouseDown=function(e){e.preventDefault()}):m={tabIndex:n===t.focusedKey?0:-1,onFocus:function(e){e.target===i.current&&t.setFocusedKey(n)}};var f=!c&&t.canSelectItem(n),h=u&&!c,g=h&&("replace"===t.selectionBehavior?!f:t.isEmpty),y=h&&f&&"replace"===t.selectionBehavior,v=g||y,b=(0,r.useRef)(null),w=v&&f,S=(0,r.useRef)(!1),x=(0,r.useRef)(!1),E={};o?(E.onPressStart=function(e){b.current=e.pointerType,S.current=w,"keyboard"!==e.pointerType||v&&!Jr()||p(e)},d?(E.onPressUp=function(e){"keyboard"!==e.pointerType&&p(e)},E.onPress=g?function(){return u()}:null):E.onPress=function(e){if(g||y&&"mouse"!==e.pointerType){if("keyboard"===e.pointerType&&!qr())return;u()}else"keyboard"!==e.pointerType&&p(e)}):(E.onPressStart=function(e){b.current=e.pointerType,S.current=w,x.current=g,("mouse"===e.pointerType&&!g||"keyboard"===e.pointerType&&(!u||Jr()))&&p(e)},E.onPress=function(e){("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&v&&qr()||"mouse"===e.pointerType&&x.current)&&(v?u():p(e))}),a||(m["data-key"]=n),E.preventFocusOnPress=s;var I=An(E),k=I.pressProps,C=I.isPressed,A=y?function(e){"mouse"===b.current&&(e.stopPropagation(),e.preventDefault(),u())}:void 0,T=lr({isDisabled:!w,onLongPress:function(e){"touch"===e.pointerType&&(p(e),t.setSelectionBehavior("toggle"))}}).longPressProps;return{itemProps:ft(m,f||g?k:{},w?T:{},{onDoubleClick:A,onDragStartCapture:function(e){"touch"===b.current&&S.current&&e.preventDefault()}}),isPressed:C,isSelected:t.isSelected(n),isDisabled:c,allowsSelection:f,hasAction:v}}function qr(){var e=self.event;return"Enter"===(null==e?void 0:e.key)}function Jr(){var e=self.event;return" "===(null==e?void 0:e.key)||"Space"===(null==e?void 0:e.code)}var Xr=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.collection=t,this.disabledKeys=n,this.ref=r,this.collator=i}var t,n,r;return t=e,(n=[{key:"getKeyBelow",value:function(e){for(e=this.collection.getKeyAfter(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}}},{key:"getKeyAbove",value:function(e){for(e=this.collection.getKeyBefore(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}}},{key:"getFirstKey",value:function(){for(var e=this.collection.getFirstKey();null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}}},{key:"getLastKey",value:function(){for(var e=this.collection.getLastKey();null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}}},{key:"getItem",value:function(e){return this.ref.current.querySelector('[data-key="'.concat(e,'"]'))}},{key:"getKeyPageAbove",value:function(e){var t=this.ref.current,n=this.getItem(e);if(!n)return null;for(var r=Math.max(0,n.offsetTop+n.offsetHeight-t.offsetHeight);n&&n.offsetTop>r;)e=this.getKeyAbove(e),n=this.getItem(e);return e}},{key:"getKeyPageBelow",value:function(e){var t=this.ref.current,n=this.getItem(e);if(!n)return null;for(var r=Math.min(t.scrollHeight,n.offsetTop-n.offsetHeight+t.offsetHeight);n&&n.offsetTop<r;)e=this.getKeyBelow(e),n=this.getItem(e);return e}},{key:"getKeyForSearch",value:function(e,t){if(!this.collator)return null;for(var n=this.collection,r=t||this.getFirstKey();null!=r;){var i=n.getItem(r),o=i.textValue.slice(0,e.length);if(i.textValue&&0===this.collator.compare(o,e))return r;r=this.getKeyBelow(r)}return null}}])&&Wr(t.prototype,n),r&&Wr(t,r),e}();function ei(e){var t=e.selectionManager,n=e.collection,i=e.disabledKeys,o=e.ref,a=e.keyboardDelegate,s=e.autoFocus,l=e.shouldFocusWrap,c=e.isVirtualized,u=e.disallowEmptySelection,d=e.selectOnFocus,p=void 0===d?"replace"===t.selectionBehavior:d,m=e.disallowTypeAhead,f=e.shouldUseVirtualFocus,h=e.allowsTabNavigation,g=an({usage:"search",sensitivity:"base"}),y=t.disabledBehavior,v=(0,r.useMemo)((function(){return a||new Xr(n,"selection"===y?new Set:i,o,g)}),[a,n,i,o,g,y]);return{listProps:Qr({ref:o,selectionManager:t,keyboardDelegate:v,autoFocus:s,shouldFocusWrap:l,disallowEmptySelection:u,selectOnFocus:p,disallowTypeAhead:m,shouldUseVirtualFocus:f,allowsTabNavigation:h,isVirtualized:c,scrollRef:o}).collectionProps}}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ti(e,t,n[t])}))}return e}function ri(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ii(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oi=new WeakMap;function ai(e,t){var n=oi.get(e).id;if(!n)throw new Error("Unknown list");return"".concat(n,"-").concat(function(e){return"string"==typeof e?e.replace(/\s*/g,""):""+e}(t))}function si(e){var t,n;do{(n=e.lastChild())&&(t=n)}while(n);return t}function li(e,t){var n=e.key,r=function(e,t){var n=e.key,r=t.selectionManager,i=ut(),o=!t.selectionManager.canSelectItem(n),a=t.selectionManager.isSelected(n);return{checkboxProps:{id:i,"aria-label":rn(cr(ur)).format("select"),isSelected:a,isDisabled:o,onChange:function(){return r.select(n)}}}}(e,t),i=r.checkboxProps;return{checkboxProps:ri(ni({},i),{"aria-labelledby":"".concat(i.id," ").concat(ai(t,n))})}}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||pi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e){return function(e){if(Array.isArray(e))return ci(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){if(e){if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ci(e,t):void 0}}function mi(e,t,n){var i=ui((0,r.useState)(e||t),2),o=i[0],a=i[1],s=(0,r.useRef)(void 0!==e),l=s.current,c=void 0!==e,u=(0,r.useRef)(o);l!==c&&console.warn("WARN: A component changed from ".concat(l?"controlled":"uncontrolled"," to ").concat(c?"controlled":"uncontrolled",".")),s.current=c;var d=(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&(Object.is(u.current,e)||n.apply(void 0,[e].concat(di(r)))),c||(u.current=e)};if("function"==typeof e){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320");var s=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=e.apply(void 0,[c?u.current:t].concat(di(i)));return o.apply(void 0,[s].concat(di(r))),c?t:s};a(s)}else c||a(e),o.apply(void 0,[e].concat(di(r)))}),[c,n]);return c?u.current=e:e=o,[e,d]}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function yi(e,t,n){return yi=gi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Si(i,n.prototype),i},yi.apply(null,arguments)}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bi(e)}function wi(e,t){return!t||"object"!==Ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Si(e,t){return Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Si(e,t)}function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||ki(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e){return function(e){if(Array.isArray(e))return fi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ki(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ii=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ki(e,t){if(e){if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(e,t):void 0}}function Ci(e){var t="function"==typeof Map?new Map:void 0;return Ci=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return yi(e,arguments,bi(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Si(r,e)},Ci(e)}function Ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bi(e);if(t){var i=bi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wi(this,n)}}var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(n,e);var t=Ai(n);function n(e,r,i){var o,a,s;return hi(this,n),o=t.call(this,e),a=e,(null!=(s=n)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s)?(o.anchorKey=r||e.anchorKey,o.currentKey=i||e.currentKey):(o.anchorKey=r,o.currentKey=i),o}return n}(Ci(Set));function Mi(e){var t=e.selectionMode,n=void 0===t?"none":t,i=e.disallowEmptySelection,o=e.allowDuplicateSelectionEvents,a=e.selectionBehavior,s=void 0===a?"toggle":a,l=e.disabledBehavior,c=void 0===l?"all":l,u=(0,r.useRef)(!1),d=xi((0,r.useState)(!1),2)[1],p=(0,r.useRef)(null),m=(0,r.useRef)(null),f=xi((0,r.useState)(null),2)[1],h=xi(mi((0,r.useMemo)((function(){return Oi(e.selectedKeys)}),[e.selectedKeys]),(0,r.useMemo)((function(){return Oi(e.defaultSelectedKeys,new Ti)}),[e.defaultSelectedKeys]),e.onSelectionChange),2),g=h[0],y=h[1],v=(0,r.useMemo)((function(){return e.disabledKeys?new Set(e.disabledKeys):new Set}),[e.disabledKeys]),b=xi((0,r.useState)(s),2),w=b[0],S=b[1];"replace"===s&&"toggle"===w&&"object"==typeof g&&0===g.size&&S("replace");var x=(0,r.useRef)(s);return(0,r.useEffect)((function(){s!==x.current&&(S(s),x.current=s)}),[s]),{selectionMode:n,disallowEmptySelection:i,selectionBehavior:w,setSelectionBehavior:S,get isFocused(){return u.current},setFocused:function(e){u.current=e,d(e)},get focusedKey(){return p.current},get childFocusStrategy(){return m.current},setFocusedKey:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";p.current=e,m.current=t,f(e)},selectedKeys:g,setSelectedKeys:function(e){!o&&function(e,t){if(e.size!==t.size)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!t.has(s))return!1}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}(e,g)||y(e)},disabledKeys:v,disabledBehavior:c}}function Oi(e,t){return e?"all"===e?"all":new Ti(e):t}var _i=function(){function e(t,n,r){var i;hi(this,e),this.collection=t,this.state=n,this.allowsCellSelection=null!==(i=null==r?void 0:r.allowsCellSelection)&&void 0!==i&&i,this._isSelectAll=null}var t,n,r;return t=e,(n=[{key:"selectionMode",get:function(){return this.state.selectionMode}},{key:"disallowEmptySelection",get:function(){return this.state.disallowEmptySelection}},{key:"selectionBehavior",get:function(){return this.state.selectionBehavior}},{key:"setSelectionBehavior",value:function(e){this.state.setSelectionBehavior(e)}},{key:"isFocused",get:function(){return this.state.isFocused}},{key:"setFocused",value:function(e){this.state.setFocused(e)}},{key:"focusedKey",get:function(){return this.state.focusedKey}},{key:"childFocusStrategy",get:function(){return this.state.childFocusStrategy}},{key:"setFocusedKey",value:function(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}},{key:"selectedKeys",get:function(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}},{key:"rawSelection",get:function(){return this.state.selectedKeys}},{key:"isSelected",value:function(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}},{key:"isEmpty",get:function(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}},{key:"isSelectAll",get:function(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;var e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every((function(e){return t.has(e)})),this._isSelectAll}},{key:"firstSelectedKey",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var i,o=this.state.selectedKeys[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=this.collection.getItem(a);(!e||(null==s?void 0:s.index)<e.index)&&(e=s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null==e?void 0:e.key}},{key:"lastSelectedKey",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var i,o=this.state.selectedKeys[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=this.collection.getItem(a);(!e||(null==s?void 0:s.index)>e.index)&&(e=s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null==e?void 0:e.key}},{key:"disabledKeys",get:function(){return this.state.disabledKeys}},{key:"disabledBehavior",get:function(){return this.state.disabledBehavior}},{key:"extendSelection",value:function(e){if("none"!==this.selectionMode)if("single"!==this.selectionMode){var t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new Ti([e],e,e);else{var n=this.state.selectedKeys,r=n.anchorKey||e;t=new Ti(n,r,e);var i=!0,o=!1,a=void 0;try{for(var s,l=this.getKeyRange(r,n.currentKey||e)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;t.delete(c)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var u=!0,d=!1,p=void 0;try{for(var m,f=this.getKeyRange(e,r)[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var h=m.value;this.canSelectItem(h)&&t.add(h)}}catch(e){d=!0,p=e}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}}this.state.setSelectedKeys(t)}else this.replaceSelection(e)}},{key:"getKeyRange",value:function(e,t){var n=this.collection.getItem(e),r=this.collection.getItem(t);return n&&r?n.index<=r.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}},{key:"getKeyRangeInternal",value:function(e,t){for(var n=[],r=e;r;){var i=this.collection.getItem(r);if((i&&"item"===i.type||"cell"===i.type&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}},{key:"getKey",value:function(e){var t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}},{key:"toggleSelection",value:function(e){if("none"!==this.selectionMode)if("single"!==this.selectionMode||this.isSelected(e)){if(null!=(e=this.getKey(e))){var t=new Ti("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}}else this.replaceSelection(e)}},{key:"replaceSelection",value:function(e){if("none"!==this.selectionMode&&null!=(e=this.getKey(e))){var t=this.canSelectItem(e)?new Ti([e],e,e):new Ti;this.state.setSelectedKeys(t)}}},{key:"setSelectedKeys",value:function(e){if("none"!==this.selectionMode){var t=new Ti,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(null!=(s=this.getKey(s))&&(t.add(s),"single"===this.selectionMode))break}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.state.setSelectedKeys(t)}}},{key:"getSelectAllKeys",value:function(){var e=this,t=[],n=function(r){for(;r;){if(e.canSelectItem(r)){var i=e.collection.getItem(r);"item"===i.type&&t.push(r),i.hasChildNodes&&(e.allowsCellSelection||"item"!==i.type)&&n(Ei(i.childNodes)[0].key)}r=e.collection.getKeyAfter(r)}};return n(this.collection.getFirstKey()),t}},{key:"selectAll",value:function(){"multiple"===this.selectionMode&&this.state.setSelectedKeys("all")}},{key:"clearSelection",value:function(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new Ti)}},{key:"toggleSelectAll",value:function(){this.isSelectAll?this.clearSelection():this.selectAll()}},{key:"select",value:function(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}},{key:"isSelectionEqual",value:function(e){if(e===this.state.selectedKeys)return!0;var t=this.selectedKeys;if(e.size!==t.size)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!t.has(s))return!1}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var l=!0,c=!1,u=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var m=d.value;if(!e.has(m))return!1}}catch(e){c=!0,u=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw u}}return!0}},{key:"canSelectItem",value:function(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;var t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}},{key:"isDisabled",value:function(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}}])&&vi(t.prototype,n),r&&vi(t,r),e}();function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ri(e){return function(e){if(Array.isArray(e))return Pi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ji=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Fi=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ui(e){return null}function zi(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&r.Children.count(e.children)>0)}Ui.getCollectionNode=function(e,t){var n,i,o,a,s;return ji(this,(function(l){switch(l.label){case 0:return n=e.childItems,i=e.title,o=e.children,a=e.title||e.children,(s=e.textValue||("string"==typeof a?a:"")||e["aria-label"]||"")||(null==t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),[4,{type:"item",props:e,rendered:a,textValue:s,"aria-label":e["aria-label"],hasChildNodes:zi(e),childNodes:function(){var e,t,a,s,l,c,u;return ji(this,(function(d){switch(d.label){case 0:if(e=!0,t=!1,a=void 0,!n)return[3,9];d.label=1;case 1:d.trys.push([1,6,7,8]),s=n[Symbol.iterator](),d.label=2;case 2:return(e=(l=s.next()).done)?[3,5]:[4,{type:"item",value:l.value}];case 3:d.sent(),d.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return c=d.sent(),t=!0,a=c,[3,8];case 7:try{e||null==s.return||s.return()}finally{if(t)throw a}return[7];case 8:return[3,11];case 9:return i?(u=[],r.Children.forEach(o,(function(e){u.push({type:"item",element:e})})),[5,Fi(u)]):[3,11];case 10:d.sent(),d.label=11;case 11:return[2]}}))}}];case 1:return l.sent(),[2]}}))};var Bi=Ui;function Gi(e){return null}Gi.getCollectionNode=function(e){var t,n,i;return ji(this,(function(o){switch(o.label){case 0:return t=e.children,n=e.title,i=e.items,[4,{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],childNodes:function(){var e,n,o,a,s,l,c;return ji(this,(function(u){switch(u.label){case 0:if("function"!=typeof t)return[3,9];if(!i)throw new Error("props.children was a function but props.items is missing");e=!0,n=!1,o=void 0,u.label=1;case 1:u.trys.push([1,6,7,8]),a=i[Symbol.iterator](),u.label=2;case 2:return(e=(s=a.next()).done)?[3,5]:[4,{type:"item",value:s.value,renderer:t}];case 3:u.sent(),u.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return l=u.sent(),n=!0,o=l,[3,8];case 7:try{e||null==a.return||a.return()}finally{if(n)throw o}return[7];case 8:return[3,11];case 9:return c=[],r.Children.forEach(t,(function(e){c.push({type:"item",element:e})})),[5,Fi(c)];case 10:u.sent(),u.label=11;case 11:return[2]}}))}}];case 1:return o.sent(),[2]}}))};var Wi=Gi,Hi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache=new WeakMap}var t,n,i;return t=e,n=[{key:"build",value:function(e,t){var n=this;return this.context=t,Ki((function(){return n.iterateCollection(e)}))}},{key:"iterateCollection",value:function(e){var t,n,i,o,a,s,l,c,u,d,p,m,f,h,g,y,v,b,w,S,x,E,I,k;return ji(this,(function(C){switch(C.label){case 0:if(t=e.children,n=e.items,"function"!=typeof t)return[3,9];if(!n)throw new Error("props.children was a function but props.items is missing");i=!0,o=!1,a=void 0,C.label=1;case 1:C.trys.push([1,6,7,8]),s=e.items[Symbol.iterator](),C.label=2;case 2:return(i=(l=s.next()).done)?[3,5]:(c=l.value,[5,Fi(this.getFullNode({value:c},{renderer:t}))]);case 3:C.sent(),C.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return k=C.sent(),o=!0,a=k,[3,8];case 7:try{i||null==s.return||s.return()}finally{if(o)throw a}return[7];case 8:return[3,23];case 9:u=[],r.Children.forEach(t,(function(e){u.push(e)})),d=0,p=!0,m=!1,f=void 0,C.label=10;case 10:C.trys.push([10,21,22,23]),h=u[Symbol.iterator](),C.label=11;case 11:if(p=(g=h.next()).done)return[3,20];y=g.value,v=this.getFullNode({element:y,index:d},{}),b=!0,w=!1,S=void 0,C.label=12;case 12:C.trys.push([12,17,18,19]),x=v[Symbol.iterator](),C.label=13;case 13:return(b=(E=x.next()).done)?[3,16]:(I=E.value,d++,[4,I]);case 14:C.sent(),C.label=15;case 15:return b=!0,[3,13];case 16:return[3,19];case 17:return k=C.sent(),w=!0,S=k,[3,19];case 18:try{b||null==x.return||x.return()}finally{if(w)throw S}return[7];case 19:return p=!0,[3,11];case 20:return[3,23];case 21:return k=C.sent(),m=!0,f=k,[3,23];case 22:try{p||null==h.return||h.return()}finally{if(m)throw f}return[7];case 23:return[2]}}))}},{key:"getKey",value:function(e,t,n,r){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return"".concat(r).concat(t.key);var i=t.value;if(null!=i){var o,a=null!==(o=i.key)&&void 0!==o?o:i.id;if(null==a)throw new Error("No key found for item");return a}return r?"".concat(r,".").concat(t.index):"$.".concat(t.index)}},{key:"getChildState",value:function(e,t){return{renderer:t.renderer||e.renderer}}},{key:"getFullNode",value:function(e,t,n,i){var o,a,s,l,c,u,d,p,m,f,h,g,y,v,b,w,S,x,E,I;return ji(this,(function(k){switch(k.label){case 0:return!(o=e.element)&&e.value&&t&&t.renderer?!(a=this.cache.get(e.value))||a.shouldInvalidate&&a.shouldInvalidate(this.context)?[3,2]:(a.index=e.index,a.parentKey=i?i.key:null,[4,a]):[3,3];case 1:return k.sent(),[2];case 2:o=t.renderer(e.value),k.label=3;case 3:if(!r.isValidElement(o))return[3,14];if("function"!=typeof(s=o.type)&&"function"!=typeof s.getCollectionNode)throw l="function"==typeof o.type?o.type.name:o.type,new Error("Unknown element <".concat(l,"> in collection."));c=s.getCollectionNode(o.props,this.context),u=e.index,d=c.next(),k.label=4;case 4:if(d.done||!d.value)return[3,13];p=d.value,e.index=u,(m=p.key)||(m=p.element?null:this.getKey(o,e,t,n)),f=this.getFullNode(Di(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ni(e,t,n[t])}))}return e}({},p),{key:m,index:u,wrapper:$i(e.wrapper,p.wrapper)}),this.getChildState(t,p),n?"".concat(n).concat(o.key):o.key,i),h=Ri(f),g=!0,y=!1,v=void 0,k.label=5;case 5:k.trys.push([5,10,11,12]),b=h[Symbol.iterator](),k.label=6;case 6:if(g=(w=b.next()).done)return[3,9];if((S=w.value).value=p.value||e.value,S.value&&this.cache.set(S.value,S),e.type&&S.type!==e.type)throw new Error("Unsupported type <".concat(Vi(S.type),"> in <").concat(Vi(i.type),">. Only <").concat(Vi(e.type),"> is supported."));return u++,[4,S];case 7:k.sent(),k.label=8;case 8:return g=!0,[3,6];case 9:return[3,12];case 10:return x=k.sent(),y=!0,v=x,[3,12];case 11:try{g||null==b.return||b.return()}finally{if(y)throw v}return[7];case 12:return d=c.next(h),[3,4];case 13:return[2];case 14:return null==e.key?[2]:(E=this,I={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:e.value,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:Ki((function(){var n,r,i,o,a,s,l,c,u,d,p,m,f,h,g;return ji(this,(function(y){switch(y.label){case 0:if(!e.hasChildNodes)return[2];n=0,r=!0,i=!1,o=void 0,y.label=1;case 1:y.trys.push([1,12,13,14]),a=e.childNodes()[Symbol.iterator](),y.label=2;case 2:if(r=(s=a.next()).done)return[3,11];null!=(l=s.value).key&&(l.key="".concat(I.key).concat(l.key)),l.index=n,c=E.getFullNode(l,E.getChildState(t,l),I.key,I),u=!0,d=!1,p=void 0,y.label=3;case 3:y.trys.push([3,8,9,10]),m=c[Symbol.iterator](),y.label=4;case 4:return(u=(f=m.next()).done)?[3,7]:(h=f.value,n++,[4,h]);case 5:y.sent(),y.label=6;case 6:return u=!0,[3,4];case 7:return[3,10];case 8:return g=y.sent(),d=!0,p=g,[3,10];case 9:try{u||null==m.return||m.return()}finally{if(d)throw p}return[7];case 10:return r=!0,[3,2];case 11:return[3,14];case 12:return g=y.sent(),i=!0,o=g,[3,14];case 13:try{r||null==a.return||a.return()}finally{if(i)throw o}return[7];case 14:return[2]}}))}))},[4,I]);case 15:return k.sent(),[2]}}))}}],n&&Li(t.prototype,n),i&&Li(t,i),e}();function Ki(e){var t=[],n=null;return Ni({},Symbol.iterator,(function(){var r,i,o,a,s,l,c,u,d,p,m,f;return ji(this,(function(h){switch(h.label){case 0:r=!0,i=!1,o=void 0,h.label=1;case 1:h.trys.push([1,6,7,8]),a=t[Symbol.iterator](),h.label=2;case 2:return(r=(s=a.next()).done)?[3,5]:[4,s.value];case 3:h.sent(),h.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return f=h.sent(),i=!0,o=f,[3,8];case 7:try{r||null==a.return||a.return()}finally{if(i)throw o}return[7];case 8:n||(n=e()),l=!0,c=!1,u=void 0,h.label=9;case 9:h.trys.push([9,14,15,16]),d=n[Symbol.iterator](),h.label=10;case 10:return(l=(p=d.next()).done)?[3,13]:(m=p.value,t.push(m),[4,m]);case 11:h.sent(),h.label=12;case 12:return l=!0,[3,10];case 13:return[3,16];case 14:return f=h.sent(),c=!0,u=f,[3,16];case 15:try{l||null==d.return||d.return()}finally{if(c)throw u}return[7];case 16:return[2]}}))}))}function $i(e,t){return e&&t?function(n){return e(t(n))}:e||(t||void 0)}function Vi(e){return e[0].toUpperCase()+e.slice(1)}function Yi(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=(0,r.useMemo)((function(){return new Hi}),[]),a=(0,r.useRef)(null);return(0,r.useMemo)((function(){var r=o.build(e,n);return a.current=t(r,a.current),a.current}),[o,e.children,e.items,n].concat(Ri(i)))}var Qi=new WeakMap;function Zi(e){var t=Qi.get(e);if(null!=t)return t;t=0;var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"section"===s.type?t+=Zi(s.childNodes):t++}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return Qi.set(e,t),t}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||to(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e){return function(e){if(Array.isArray(e))return qi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||to(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){if(e){if("string"==typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}var no=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ro=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},io=Symbol.iterator,oo=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyMap=new Map,this.iterable=t;var r,i=function(e){n.keyMap.set(e.key,e);var t=!0,r=!1,o=void 0;if(e.childNodes&&"section"===e.type)try{for(var a,s=e.childNodes[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value;i(l)}}catch(e){r=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw o}}},o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;i(u)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}var d=0,p=!0,m=!1,f=void 0;try{for(var h,g=this.keyMap[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){var y=Xi(h.value,2),v=y[0],b=y[1];r?(r.nextKey=v,b.prevKey=r.key):(this.firstKey=v,b.prevKey=void 0),"item"===b.type&&(b.index=d++),(r=b).nextKey=void 0}}catch(e){m=!0,f=e}finally{try{p||null==g.return||g.return()}finally{if(m)throw f}}this.lastKey=null==r?void 0:r.key}var t,n,r;return t=e,(n=[{key:io,value:function(){return no(this,(function(e){switch(e.label){case 0:return[5,ro(this.iterable)];case 1:return e.sent(),[2]}}))}},{key:"size",get:function(){return this.keyMap.size}},{key:"getKeys",value:function(){return this.keyMap.keys()}},{key:"getKeyBefore",value:function(e){var t=this.keyMap.get(e);return t?t.prevKey:null}},{key:"getKeyAfter",value:function(e){var t=this.keyMap.get(e);return t?t.nextKey:null}},{key:"getFirstKey",value:function(){return this.firstKey}},{key:"getLastKey",value:function(){return this.lastKey}},{key:"getItem",value:function(e){return this.keyMap.get(e)}},{key:"at",value:function(e){var t=eo(this.getKeys());return this.getItem(t[e])}}])&&Ji(t.prototype,n),r&&Ji(t,r),e}();function ao(e){var t=e.filter,n=Mi(e),i=(0,r.useMemo)((function(){return e.disabledKeys?new Set(e.disabledKeys):new Set}),[e.disabledKeys]),o=(0,r.useMemo)((function(){return{suppressTextValueWarning:e.suppressTextValueWarning}}),[e.suppressTextValueWarning]),a=Yi(e,(function(e){return new oo(t?t(e):e)}),o,[t]);return(0,r.useEffect)((function(){null==n.focusedKey||a.getItem(n.focusedKey)||n.setFocusedKey(null)}),[a,n.focusedKey]),{collection:a,disabledKeys:i,selectionManager:new _i(a,n)}}var so,lo=n(32952),co=n(19962),uo=n(14330),po=n(86732),mo=n(90845);!function(e){function t(e){var t=e.theme,i=void 0===t?{}:t,o=e.itemAnimationMode,s=e.assistiveScroll,l=void 0!==s&&s,c=(0,He._T)(e,["theme","itemAnimationMode","assistiveScroll"]),u=ao(c),d=r.useRef(null),p=function(e,t,n){var r=e.isVirtualized,i=e.keyboardDelegate,o=e.onAction;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");var a=ei({selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,ref:n,keyboardDelegate:i,isVirtualized:r,selectOnFocus:"replace"===t.selectionManager.selectionBehavior}).listProps,s=ut();oi.set(t,{id:s,onAction:o});var l=mr({selectionManager:t.selectionManager,hasItemActions:!!o}),c=ft(vt(e,{labelable:!0}),{role:"grid",id:s,"aria-multiselectable":"multiple"===t.selectionManager.selectionMode?"true":void 0},0===t.collection.size?{}:a,l);return r&&(c["aria-rowcount"]=t.collection.size,c["aria-colcount"]=1),dr({},t),{gridProps:c}}(c,u,d).gridProps;return r.createElement("ul",(0,He.pi)({},p,{ref:d},(0,pe.Sh)(a.list,i.list)),Array.from(u.collection).map((function(e){return r.createElement(n,{key:e.key,item:e,state:u,theme:i.item,animationMode:o,assistiveScroll:l})})))}function n(e){var t=e.item,n=e.state,o=e.animationMode,s=e.assistiveScroll,l=e.showCheckbox,c=void 0!==l&&l,u=e.theme,d=void 0===u?{}:u,p=r.useRef(null),m=function(e,t,n){var r=e.node,i=e.isVirtualized,o=e.shouldSelectOnPressUp,a=tn().direction,s=oi.get(t).onAction,l=pt(),c=Zr({selectionManager:t.selectionManager,key:r.key,ref:n,isVirtualized:i,shouldSelectOnPressUp:o,onAction:s?function(){return s(r.key)}:void 0,focus:function(){n.current.contains(document.activeElement)||xr(n.current)}}),u=c.itemProps,d=ii(c,["itemProps"]),p=ft(u,{role:"row",onKeyDownCapture:function(e){if(e.currentTarget.contains(e.target)){var t=Fr(n.current);switch(t.currentNode=document.activeElement,e.key){case"ArrowLeft":var r="rtl"===a?t.nextNode():t.previousNode();if(r)e.preventDefault(),e.stopPropagation(),xr(r);else if(e.preventDefault(),e.stopPropagation(),"rtl"===a)xr(n.current);else{t.currentNode=n.current;var i=si(t);i&&xr(i)}break;case"ArrowRight":var o="rtl"===a?t.previousNode():t.nextNode();if(o)e.preventDefault(),e.stopPropagation(),xr(o);else if(e.preventDefault(),e.stopPropagation(),"ltr"===a)xr(n.current);else{t.currentNode=n.current;var s=si(t);s&&xr(s)}break;case"ArrowUp":case"ArrowDown":!e.altKey&&n.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),n.current.parentElement.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}}},onFocus:function(e){e.target===n.current||Xn()||t.selectionManager.setFocusedKey(r.key)},"aria-label":r.textValue||void 0,"aria-selected":t.selectionManager.canSelectItem(r.key)?t.selectionManager.isSelected(r.key):void 0,"aria-disabled":t.selectionManager.isDisabled(r.key)||void 0,"aria-labelledby":l&&r.textValue?"".concat(ai(t,r.key)," ").concat(l):void 0,id:ai(t,r.key)});return i&&(p["aria-rowindex"]=r.index+1),ni({rowProps:p,gridCellProps:{role:"gridcell","aria-colindex":1},descriptionProps:{id:l}},d)}({node:t},n,p),f=m.rowProps,h=m.gridCellProps,g=m.isPressed,y=Gr(),v=y.isFocusVisible,b=y.focusProps,w=r.useMemo((function(){return new lo.xQ}),[]),S=r.useCallback((function(){return null!=o&&r.createElement(po.H,{mouseDownEvents:w,animationMode:o,className:d.ripple})}),[w,o,d.ripple]);r.useEffect((function(){var e;s&&v&&(null===(e=p.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[v,s]);var x=c&&"none"!==n.selectionManager.selectionMode&&"toggle"===n.selectionManager.selectionBehavior,E=f.onPointerDown,I=ft((0,He._T)(f,["onPointerDown"]),b,{onPointerDown:function(e){w.next({pageX:e.pageX,pageY:e.pageY}),null==E||E(e)}});return mo.P.useEffectOnDidMount((function(){var e;p.current&&(e=p.current,co.Oq(co.NO.isButtonLike)(e).forEach((function(e){var t,n=null===(t=e.onpointerdown)||void 0===t?void 0:t.bind(e);e.onpointerdown=function(e){e.stopPropagation(),null==n||n(e)}})))})),r.createElement("li",(0,He.pi)({},I,{ref:p},(0,pe.Sh)("none"!==n.selectionManager.selectionMode?a.selectableItem:a.item,g?d.pressed:void 0,v?d.focused:void 0,d.base)),r.createElement("div",(0,He.pi)({},h),x&&r.createElement(i,{item:t,state:n}),t.rendered),S())}function i(e){var t=e.item,n=e.state,i=li({key:t.key},n).checkboxProps;return r.createElement(uo.Ys,(0,He.pi)({name:"".concat(t.textValue,"-checkbox")},i,{checked:Ke.h.create(Boolean(i.isSelected))}))}e.List=t,e.LiftedList=function(e){return(0,pe.xb)(t)(e)},e.Item=Bi;var o={position:"relative",overflow:"hidden",$nest:{'& > [role="gridcell"]':{display:"flex",justifyContent:"space-between",alignItems:"center",width:l.ux.percent(100)}}},a=l.ux.stylesheet({list:[{listStyle:"none",overflow:"auto",padding:0}],item:[o],selectableItem:[o,{cursor:"pointer"}]})}(so||(so={}));const fo=.25,ho=.25,go=.5;var yo={backgroundColor:T.CoreNeutral10,$nest:{'& [data-role="list-item-secondary-buttons"]':{opacity:1}}},vo=l.ux.stylesheet({list:[{margin:0,display:"flex",flexDirection:"column"}],listItem:[{display:"flex",height:l.ux.rem(2),cursor:"pointer",outline:"none",border:"none",backgroundColor:T.CoreNeutral0,borderRadius:l.ux.rem(fo),padding:"0 0 0 ".concat(l.ux.rem(go)),boxSizing:"border-box",$nest:{"&:hover":yo}}],listItemFocused:[yo]}),bo=n(65223);function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var So="listItemPrimaryButton",xo="listItemLabel",Eo="listItemSecondaryButtonsContainer",Io="listItemSecondaryButton",ko={width:"calc(".concat(l.ux.rem(2)," - ").concat(l.ux.rem(.125),")"),height:"calc(".concat(l.ux.rem(2)," - ").concat(l.ux.rem(ho),")"),margin:"".concat(l.ux.rem(ho)," ").concat(l.ux.rem(.125)),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:T.CoreNeutral10,borderRadius:l.ux.rem(fo),$nest:{"&:active, &:hover, &:focus-visible":{backgroundColor:T.CoreNeutral20,opacity:1}}},Co={listItemPrimaryButton:l.ux.joinClasses([So,l.ux.style({cursor:"pointer",outline:"none",border:"none",background:"transparent",padding:0})]),listItemLabel:l.ux.joinClasses([xo,l.ux.style({display:"inline-flex",textAlign:"left"})]),listItemSecondaryButtonsContainer:l.ux.joinClasses([Eo,l.ux.style({display:"flex",alignItems:"center",opacity:0,$nest:{"&:focus-within":{opacity:1}}})]),listItemSecondaryButton:l.ux.joinClasses([Io,l.ux.style(ko)])},Ao=n(31542);function To(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Mo(e,t,n[t])}))}return e}function _o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Po(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return To(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return To(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var No={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"};function Do(e){var t=e.children,n=e.elementType,i=void 0===n?"div":n,o=(e.isFocusable,e.style,Po(e,["children","elementType","isFocusable","style"])),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=e.isFocusable,i=Lo((0,r.useState)(!1),2),o=i[0],a=i[1],s=tr({isDisabled:!n,onFocusWithinChange:function(e){return a(e)}}).focusWithinProps,l=(0,r.useMemo)((function(){return o?t:t?Oo({},No,t):No}),[o]);return{visuallyHiddenProps:_o(Oo({},s),{style:l})}}(e),s=a.visuallyHiddenProps;return r.createElement(i,ft(o,s),t)}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fo(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jo(e,t,n[t])}))}return e}function zo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Bo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Ho(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e){return function(e){if(Array.isArray(e))return Ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ho(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e,t){if(e){if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}function Ko(e){return e&&e.__esModule?e.default:e}var $o={top:"top",bottom:"top",left:"left",right:"left"},Vo={top:"bottom",bottom:"top",left:"right",right:"left"},Yo={top:"left",left:"top"},Qo={top:"height",left:"width"},Zo={},qo="undefined"!=typeof self&&self.visualViewport;function Jo(e,t,n,r,i){var o=r.scroll[e],a=r[Qo[e]],s=t-i-o,l=t+i-o+n;return s<0?-s:l>a?Math.max(a-l,-s):0}function Xo(e){if(Zo[e])return Zo[e];var t=Go(e.split(" "),2),n=t[0],r=t[1],i=$o[n]||"right",o=Yo[i];$o[r]||(r="center");var a=Qo[i],s=Qo[o];return Zo[e]={placement:n,crossPlacement:r,axis:i,crossAxis:o,size:a,crossSize:s},Zo[e]}function ea(e,t,n,r,i,o,a,s){var l=r.placement,c=r.crossPlacement,u=r.axis,d=r.crossAxis,p=r.size,m=r.crossSize,f={};f[d]=e[d],"center"===c?f[d]+=(e[m]-n[m])/2:c!==d&&(f[d]+=e[m]-n[m]),f[d]+=o;var h=e[d]+e[m]/2-n[m],g=e[d]+e[m]/2;if(f[d]=Math.min(Math.max(h,f[d]),g),l===u){var y=s?a[p]:t[p];f[Vo[u]]=Math.floor(y-e[u]+i)}else f[u]=Math.floor(e[u]+e[p]+i);return f}function ta(e,t,n,r,i,o){var a=o.placement,s=o.axis,l=o.size;return a===s?Math.max(0,n[s]-e[s]-e.scroll[s]+t[s]-r[s]-r[Vo[s]]-i):Math.max(0,e[l]+e[s]+e.scroll[s]-t[s]-n[s]-n[l]-r[s]-r[Vo[s]]-i)}function na(e,t,n,r,i,o,a,s,l,c,u,d,p){var m=Xo(e),f=m.size,h=m.crossAxis,g=m.crossSize,y=m.placement,v=m.crossPlacement,b=ea(t,s,n,m,c,u,l,d),w=c,S=ta(s,l,t,i,o+c,m);if(a&&r[f]>S){var x=Xo("".concat(Vo[y]," ").concat(v)),E=ea(t,s,n,x,c,u,l,d);ta(s,l,t,i,o+c,x)>S&&(m=x,b=E,w=c)}var I=Jo(h,b[h],n[g],s,o);b[h]+=I;var k=function(e,t,n,r,i,o){return null!=e.top?Math.max(0,t.height+t.top+t.scroll.top-(n.top+e.top)-(i.top+i.bottom+o)):Math.max(0,r.top+n.top-(t.top+t.scroll.top)-(i.top+i.bottom+o))}(b,s,l,t,i,o);p&&p<k&&(k=p),n.height=Math.min(n.height,k),I=Jo(h,(b=ea(t,s,n,m,w,u,l,d))[h],n[g],s,o),b[h]+=I;var C={};return C[h]=t[h]-b[h]+t[g]/2,{position:b,maxHeight:k,arrowOffsetLeft:C.left,arrowOffsetTop:C.top,placement:m.placement}}function ra(e){var t=e.placement,n=e.targetNode,r=e.overlayNode,i=e.scrollNode,o=e.padding,a=e.shouldFlip,s=e.boundaryElement,l=e.offset,c=e.crossOffset,u=e.maxHeight,d=Fo(r,HTMLElement)&&r.offsetParent||document.body,p="BODY"===d.tagName,m=self.getComputedStyle(d).position,f=!!m&&"static"!==m,h=p?ia(n):oa(n,d);if(!p){var g=self.getComputedStyle(n),y=g.marginTop,v=g.marginLeft;h.top+=parseInt(y,10)||0,h.left+=parseInt(v,10)||0}var b,w,S=ia(r),x=(b=r,w=self.getComputedStyle(b),{top:parseInt(w.marginTop,10)||0,bottom:parseInt(w.marginBottom,10)||0,left:parseInt(w.marginLeft,10)||0,right:parseInt(w.marginRight,10)||0});S.width+=x.left+x.right,S.height+=x.top+x.bottom;var E=function(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}(i);return na(t,h,S,E,x,o,a,function(e){var t=0,n=0,r=0,i=0,o={};if("BODY"===e.tagName){var a,s,l=document.documentElement;t=null!==(a=null==qo?void 0:qo.width)&&void 0!==a?a:l.clientWidth,n=null!==(s=null==qo?void 0:qo.height)&&void 0!==s?s:l.clientHeight,o.top=l.scrollTop||e.scrollTop,o.left=l.scrollLeft||e.scrollLeft}else{var c;t=(c=ia(e)).width,n=c.height,r=c.top,i=c.left,o.top=e.scrollTop,o.left=e.scrollLeft}return{width:t,height:n,scroll:o,top:r,left:i}}(s),"BODY"===s.tagName?ia(d):oa(d,s),l,c,f,u)}function ia(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.width,o=t.height,a=document.documentElement,s=a.scrollTop,l=a.scrollLeft;return{top:n+s-a.clientTop,left:r+l-a.clientLeft,width:i,height:o}}function oa(e,t){var n,r=self.getComputedStyle(e);if("fixed"===r.position){var i=e.getBoundingClientRect();n={top:i.top,left:i.left,width:i.width,height:i.height}}else{n=ia(e);var o=ia(t),a=self.getComputedStyle(t);o.top+=(parseInt(a.borderTopWidth,10)||0)-t.scrollTop,o.left+=(parseInt(a.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=o.top,n.left-=o.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}var aa=new WeakMap;var sa="undefined"!=typeof self&&self.visualViewport;function la(e){var t,n=tn().direction,i=e.targetRef,o=e.overlayRef,a=e.scrollRef,s=void 0===a?o:a,l=e.placement,c=void 0===l?"bottom":l,u=e.containerPadding,d=void 0===u?12:u,p=e.shouldFlip,m=void 0===p||p,f=e.boundaryElement,h=void 0===f?"undefined"!=typeof document?document.body:null:f,g=e.offset,y=void 0===g?0:g,v=e.crossOffset,b=void 0===v?0:v,w=e.shouldUpdatePosition,S=void 0===w||w,x=e.isOpen,E=void 0===x||x,I=e.onClose,k=e.maxHeight,C=Go((0,r.useState)({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),2),A=C[0],T=C[1],M=[S,c,o.current,i.current,s.current,d,m,h,y,b,E,n,k],O=(0,r.useCallback)((function(){!1!==S&&E&&o.current&&i.current&&s.current&&h&&T(ra({placement:ca(c,n),overlayNode:o.current,targetNode:i.current,scrollNode:s.current,padding:d,shouldFlip:m,boundaryElement:h,offset:y,crossOffset:b,maxHeight:k}))}),M);lt(O,M),lt((function(){return self.addEventListener("resize",t,!1),function(){self.removeEventListener("resize",t,!1)}}),[t=O]),Ct({ref:o,onResize:O});var _=(0,r.useRef)(!1);lt((function(){var e,t=function(){_.current=!0,clearTimeout(e),e=setTimeout((function(){_.current=!1}),500),O()};return null==sa||sa.addEventListener("resize",t),function(){null==sa||sa.removeEventListener("resize",t)}}),[O]);var P=(0,r.useCallback)((function(){_.current||I()}),[I,_]);return function(e){var t=e.triggerRef,n=e.isOpen,i=e.onClose;(0,r.useEffect)((function(){if(n&&null!==i){var e=function(e){var n=e.target;if(t.current&&(!Fo(n,Node)||n.contains(t.current))){var r=i||aa.get(t.current);r&&r()}};return self.addEventListener("scroll",e,!0),function(){self.removeEventListener("scroll",e,!0)}}}),[n,i,t])}({triggerRef:i,isOpen:E,onClose:I&&P}),{overlayProps:{style:zo(Uo({position:"absolute",zIndex:1e5},A.position),{maxHeight:A.maxHeight})},placement:A.placement,arrowProps:{style:{left:A.arrowOffsetLeft,top:A.arrowOffsetTop}},updatePosition:O}}function ca(e,t){return"rtl"===t?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}var ua=[];function da(e,t){var n=e.onClose,i=e.shouldCloseOnBlur,o=e.isOpen,a=e.isDismissable,s=void 0!==a&&a,l=e.isKeyboardDismissDisabled,c=void 0!==l&&l,u=e.shouldCloseOnInteractOutside;(0,r.useEffect)((function(){return o&&ua.push(t),function(){var e=ua.indexOf(t);e>=0&&ua.splice(e,1)}}),[o,t]);var d=function(){ua[ua.length-1]===t&&n&&n()};!function(e){var t=e.ref,n=e.onInteractOutside,i=e.isDisabled,o=e.onInteractOutsideStart,a=(0,r.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1,onInteractOutside:n,onInteractOutsideStart:o}).current;a.onInteractOutside=n,a.onInteractOutsideStart=o,(0,r.useEffect)((function(){if(!i){var e=function(e){sr(e,t)&&a.onInteractOutside&&(a.onInteractOutsideStart&&a.onInteractOutsideStart(e),a.isPointerDown=!0)};if("undefined"!=typeof PointerEvent){var n=function(e){a.isPointerDown&&a.onInteractOutside&&sr(e,t)&&(a.isPointerDown=!1,a.onInteractOutside(e))};return document.addEventListener("pointerdown",e,!0),document.addEventListener("pointerup",n,!0),function(){document.removeEventListener("pointerdown",e,!0),document.removeEventListener("pointerup",n,!0)}}var r=function(e){a.ignoreEmulatedMouseEvents?a.ignoreEmulatedMouseEvents=!1:a.isPointerDown&&a.onInteractOutside&&sr(e,t)&&(a.isPointerDown=!1,a.onInteractOutside(e))},o=function(e){a.ignoreEmulatedMouseEvents=!0,a.onInteractOutside&&a.isPointerDown&&sr(e,t)&&(a.isPointerDown=!1,a.onInteractOutside(e))};return document.addEventListener("mousedown",e,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",o,!0),function(){document.removeEventListener("mousedown",e,!0),document.removeEventListener("mouseup",r,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",o,!0)}}}),[t,a,i])}({ref:t,onInteractOutside:s?function(e){u&&!u(e.target)||(ua[ua.length-1]===t&&(e.stopPropagation(),e.preventDefault()),d())}:null,onInteractOutsideStart:function(e){u&&!u(e.target)||ua[ua.length-1]===t&&(e.stopPropagation(),e.preventDefault())}});return{overlayProps:Uo({onKeyDown:function(e){"Escape"!==e.key||c||(e.stopPropagation(),e.preventDefault(),d())}},tr({isDisabled:!i,onBlurWithin:function(e){e.relatedTarget&&Nr(e.relatedTarget,kr)||(u&&!u(e.relatedTarget)||n())}}).focusWithinProps),underlayProps:{onPointerDown:function(e){e.target===e.currentTarget&&e.preventDefault()}}}}var pa="undefined"!=typeof self&&self.visualViewport,ma=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled;lt((function(){if(!t)return Dt()?ga():ha()}),[t])}function ha(){return mt(ya(document.documentElement,"paddingRight","".concat(self.innerWidth-document.documentElement.clientWidth,"px")),ya(document.documentElement,"overflow","hidden"))}function ga(){var e,t=0,n=self.pageXOffset,r=self.pageYOffset,i=mt(ya(document.documentElement,"paddingRight","".concat(self.innerWidth-document.documentElement.clientWidth,"px")),ya(document.documentElement,"overflow","hidden"),ya(document.body,"marginTop","-".concat(r,"px")));self.scrollTo(0,0);var o=mt(va(document,"touchstart",(function(n){(e=At(n.target))===document.documentElement&&e===document.body||(t=n.changedTouches[0].pageY)}),{passive:!1,capture:!0}),va(document,"touchmove",(function(n){if(e!==document.documentElement&&e!==document.body){var r=n.changedTouches[0].pageY,i=e.scrollTop,o=e.scrollHeight-e.clientHeight;(i<=0&&r>t||i>=o&&r<t)&&n.preventDefault(),t=r}else n.preventDefault()}),{passive:!1,capture:!0}),va(document,"touchend",(function(e){var t=e.target;wa(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame((function(){t.style.transform=""})))}),{passive:!1,capture:!0}),va(document,"focus",(function(e){var t=e.target;wa(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame((function(){t.style.transform="",pa&&(pa.height<self.innerHeight?requestAnimationFrame((function(){ba(t)})):pa.addEventListener("resize",(function(){return ba(t)}),{once:!0}))})))}),!0),va(self,"scroll",(function(){self.scrollTo(0,0)})));return function(){i(),o(),self.scrollTo(n,r)}}function ya(e,t,n){var r=e.style[t];return e.style[t]=n,function(){e.style[t]=r}}function va(e,t,n,r){return e.addEventListener(t,n,r),function(){e.removeEventListener(t,n,r)}}function ba(e){for(var t=document.scrollingElement||document.documentElement;e&&e!==t;){var n=At(e);if(n!==document.documentElement&&n!==document.body&&n!==e){var r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top;i>r+e.clientHeight&&(n.scrollTop+=i-r)}e=n.parentElement}}function wa(e){return Fo(e,HTMLInputElement)&&!ma.has(e.type)||Fo(e,HTMLTextAreaElement)||Fo(e,HTMLElement)&&e.isContentEditable}var Sa;function xa(e){var t=e.onDismiss,n=function(e,t){var n=e.id,r=e["aria-label"],i=e["aria-labelledby"];if(n=ut(n),i&&r){var o=new Set(ot(i.trim().split(/\s+/)).concat([n]));i=ot(o).join(" ")}else i&&(i=i.trim().split(/\s+/).join(" "));return r||i||!t||(r=t),{id:n,"aria-label":r,"aria-labelledby":i}}(Bo(e,["onDismiss"]),rn(Ko(Sa)).format("dismiss"));return r.createElement(Do,null,r.createElement("button",zo(Uo({},n),{tabIndex:-1,onClick:function(){t&&t()}})))}Sa={"ar-AE":{dismiss:"ØªØ¬Ø§ÙÙ"},"bg-BG":{dismiss:"ÐÑÑÐ²ÑÑÐ»ÑÐ½Ðµ"},"cs-CZ":{dismiss:"Odstranit"},"da-DK":{dismiss:"Luk"},"de-DE":{dismiss:"SchlieÃen"},"el-GR":{dismiss:"ÎÏÏÏÏÎ¹ÏÎ·"},"en-US":{dismiss:"Dismiss"},"es-ES":{dismiss:"Descartar"},"et-EE":{dismiss:"LÃµpeta"},"fi-FI":{dismiss:"HylkÃ¤Ã¤"},"fr-FR":{dismiss:"Rejeter"},"he-IL":{dismiss:"××ª×¢××"},"hr-HR":{dismiss:"Odbaci"},"hu-HU":{dismiss:"ElutasÃ­tÃ¡s"},"it-IT":{dismiss:"Ignora"},"ja-JP":{dismiss:"éãã"},"ko-KR":{dismiss:"ë¬´ì"},"lt-LT":{dismiss:"Atmesti"},"lv-LV":{dismiss:"NerÄdÄ«t"},"nb-NO":{dismiss:"Lukk"},"nl-NL":{dismiss:"Negeren"},"pl-PL":{dismiss:"Zignoruj"},"pt-BR":{dismiss:"Descartar"},"pt-PT":{dismiss:"Dispensar"},"ro-RO":{dismiss:"Revocare"},"ru-RU":{dismiss:"ÐÑÐ¾Ð¿ÑÑÑÐ¸ÑÑ"},"sk-SK":{dismiss:"ZruÅ¡iÅ¥"},"sl-SI":{dismiss:"Opusti"},"sr-SP":{dismiss:"Odbaci"},"sv-SE":{dismiss:"Avvisa"},"tr-TR":{dismiss:"Kapat"},"uk-UA":{dismiss:"Ð¡ÐºÐ°ÑÑÐ²Ð°ÑÐ¸"},"zh-CN":{dismiss:"åæ¶"},"zh-TW":{dismiss:"éé"}};var Ea=new WeakMap,Ia=[];function ka(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=new Set(e),r=new Set,i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return(Fo(t,HTMLElement)||Fo(t,SVGElement))&&"true"===t.dataset.liveAnnouncer&&n.add(t),n.has(t)||r.has(t.parentElement)&&"row"!==t.parentElement.getAttribute("role")?NodeFilter.FILTER_REJECT:e.some((function(e){return t.contains(e)}))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),o=function(e){var t,n=null!==(t=Ea.get(e))&&void 0!==t?t:0;"true"===e.getAttribute("aria-hidden")&&0===n||(0===n&&e.setAttribute("aria-hidden","true"),r.add(e),Ea.set(e,n+1))};Ia.length&&Ia[Ia.length-1].disconnect();for(var a=i.nextNode();null!=a;)o(a),a=i.nextNode();var s=new MutationObserver((function(e){var t=!0,i=!1,a=void 0;try{for(var s,l=function(){var e=s.value;if("childList"!==e.type||0===e.addedNodes.length)return"continue";var t=!0,i=!1,a=void 0;if(!Wo(n).concat(Wo(r)).some((function(t){return t.contains(e.target)})))try{for(var l,c=e.addedNodes[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var u=l.value;(Fo(u,HTMLElement)||Fo(u,SVGElement))&&"true"===u.dataset.liveAnnouncer?n.add(u):Fo(u,Element)&&o(u)}}catch(e){i=!0,a=e}finally{try{t||null==c.return||c.return()}finally{if(i)throw a}}},c=e[Symbol.iterator]();!(t=(s=c.next()).done);t=!0)l()}catch(e){i=!0,a=e}finally{try{t||null==c.return||c.return()}finally{if(i)throw a}}}));s.observe(t,{childList:!0,subtree:!0});var l={observe:function(){s.observe(t,{childList:!0,subtree:!0})},disconnect:function(){s.disconnect()}};return Ia.push(l),function(){s.disconnect();var e=!0,t=!1,n=void 0;try{for(var i,o=r[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,c=Ea.get(a);1===c?(a.removeAttribute("aria-hidden"),Ea.delete(a)):Ea.set(a,c-1)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}l===Ia[Ia.length-1]?(Ia.pop(),Ia.length&&Ia[Ia.length-1].observe()):Ia.splice(Ia.indexOf(l),1)}}var Ca=r.createContext(null);function Aa(e){var t=qe(),n=e.portalContainer,i=void 0===n?t?null:document.body:n,o=Go((0,r.useState)(!1),2),a=o[0],s=o[1],l=(0,r.useMemo)((function(){return{contain:a,setContain:s}}),[a,s]);if(!i)return null;var c=r.createElement(Ca.Provider,{value:l},r.createElement(Cr,{restoreFocus:!0,contain:a},e.children));return Ao.createPortal(c,i)}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ta(e,t,n[t])}))}return e}function Oa(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pa(e){return e&&e.__esModule?e.default:e}var La;function Na(e,t,n){var i=e.type,o=void 0===i?"menu":i,a=e.isDisabled,s=e.trigger,l=void 0===s?"press":s,c=ut(),u=function(e,t,n){var i=e.type,o=t.isOpen;(0,r.useEffect)((function(){n&&n.current&&aa.set(n.current,t.close)}));var a=void 0;"menu"===i?a=!0:"listbox"===i&&(a="listbox");var s=ut();return{triggerProps:{"aria-haspopup":a,"aria-expanded":o,"aria-controls":o?s:null,onPress:t.toggle},overlayProps:{id:s}}}({type:o},t,n),d=u.triggerProps,p=u.overlayProps,m=rn(Pa(La)),f=lr({isDisabled:a||"longPress"!==l,accessibilityDescription:m.format("longPressMessage"),onLongPressStart:function(){t.close()},onLongPress:function(){t.open("first")}}).longPressProps,h={onPressStart:function(e){"touch"===e.pointerType||"keyboard"===e.pointerType||a||t.toggle("virtual"===e.pointerType?"first":null)},onPress:function(e){"touch"!==e.pointerType||a||t.toggle()}};return delete d.onPress,{menuTriggerProps:Oa(Ma({},d,"press"===l?h:f),{id:c,onKeyDown:function(e){if(!a&&("longPress"!==l||e.altKey)&&n&&n.current)switch(e.key){case"Enter":case" ":if("longPress"===l)return;case"ArrowDown":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("last")}}}),menuProps:Oa(Ma({},p),{"aria-labelledby":c,autoFocus:t.focusStrategy||!0,onClose:t.close})}}La={"ar-AE":{longPressMessage:"Ø§Ø¶ØºØ· ÙØ·ÙÙØ§Ù Ø£Ù Ø§Ø¶ØºØ· Ø¹ÙÙ Alt + Ø§ÙØ³ÙÙ ÙØ£Ø³ÙÙ ÙÙØªØ­ Ø§ÙÙØ§Ø¦ÙØ©"},"bg-BG":{longPressMessage:"ÐÐ°ÑÐ¸ÑÐ½ÐµÑÐµ Ð¿ÑÐ¾Ð´ÑÐ»Ð¶Ð¸ÑÐµÐ»Ð½Ð¾ Ð¸Ð»Ð¸ Ð½Ð°ÑÐ¸ÑÐ½ÐµÑÐµ Alt+ ÑÑÑÐµÐ»ÐºÐ° Ð½Ð°Ð´Ð¾Ð»Ñ, Ð·Ð° Ð´Ð° Ð¾ÑÐ²Ð¾ÑÐ¸ÑÐµ Ð¼ÐµÐ½ÑÑÐ¾"},"cs-CZ":{longPressMessage:"DlouhÃ½m stiskem nebo stisknutÃ­m klÃ¡ves Alt + Å¡ipka dolÅ¯ otevÅete nabÃ­dku"},"da-DK":{longPressMessage:"Langt tryk eller tryk pÃ¥ Alt + pil ned for at Ã¥bne menuen"},"de-DE":{longPressMessage:"DrÃ¼cken Sie lange oder drÃ¼cken Sie Alt + Nach-unten, um das MenÃ¼ zu Ã¶ffnen"},"el-GR":{longPressMessage:"Î Î¹Î­ÏÏÎµ ÏÎ±ÏÎ±ÏÎµÏÎ±Î¼Î­Î½Î± Î® ÏÎ±ÏÎ®ÏÏÎµ Alt + ÎºÎ¬ÏÏ Î²Î­Î»Î¿Ï Î³Î¹Î± Î½Î± Î±Î½Î¿Î¯Î¾ÎµÏÎµ ÏÎ¿ Î¼ÎµÎ½Î¿Ï"},"en-US":{longPressMessage:"Long press or press Alt + ArrowDown to open menu"},"es-ES":{longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menÃº"},"et-EE":{longPressMessage:"MenÃ¼Ã¼ avamiseks vajutage pikalt vÃµi vajutage klahve Alt + allanool"},"fi-FI":{longPressMessage:"Avaa valikko painamalla pohjassa tai nÃ¤ppÃ¤inyhdistelmÃ¤llÃ¤ Alt + Alanuoli"},"fr-FR":{longPressMessage:"Appuyez de maniÃ¨re prolongÃ©e ou appuyez sur AltÂ +Â FlÃ¨che vers le bas pour ouvrir le menu."},"he-IL":{longPressMessage:"×××¥ ××××¦× ××¨××× ×× ××§×© Alt + ArrowDown ××× ××¤×ª×× ××ª ××ª×¤×¨××"},"hr-HR":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"},"hu-HU":{longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyÃ­l gombot a menÃ¼ megnyitÃ¡sÃ¡hoz"},"it-IT":{longPressMessage:"Premere a lungo o premere Alt + Freccia giÃ¹ per aprire il menu"},"ja-JP":{longPressMessage:"é·æ¼ãã¾ãã¯ Alt+ä¸ç¢å°ã­ã¼ã§ã¡ãã¥ã¼ãéã"},"ko-KR":{longPressMessage:"ê¸¸ê² ëë¥´ê±°ë Alt + ìëìª½ íì´íë¥¼ ëë¬ ë©ë´ ì´ê¸°"},"lt-LT":{longPressMessage:"NorÄdami atidaryti meniu, nuspaudÄ palaikykite arba paspauskite âAlt + ArrowDownâ."},"lv-LV":{longPressMessage:"Lai atvÄrtu izvÄlni, turiet nospiestu vai nospiediet taustiÅu kombinÄciju Alt + lejupvÄrstÄ bultiÅa"},"nb-NO":{longPressMessage:"Langt trykk eller trykk Alt + PilNed for Ã¥ Ã¥pne menyen"},"nl-NL":{longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"},"pl-PL":{longPressMessage:"NaciÅnij i przytrzymaj lub naciÅnij klawisze Alt + StrzaÅka w dÃ³Å, aby otworzyÄ menu"},"pt-BR":{longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"},"pt-PT":{longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"},"ro-RO":{longPressMessage:"ApÄsaÈi lung sau apÄsaÈi pe Alt + sÄgeatÄ Ã®n jos pentru a deschide meniul"},"ru-RU":{longPressMessage:"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð¸ ÑÐ´ÐµÑÐ¶Ð¸Ð²Ð°Ð¹ÑÐµ Ð¸Ð»Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ Alt + Ð¡ÑÑÐµÐ»ÐºÐ° Ð²Ð½Ð¸Ð·, ÑÑÐ¾Ð±Ñ Ð¾ÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ"},"sk-SK":{longPressMessage:"Ponuku otvorÃ­te dlhÃ½m stlaÄenÃ­m alebo stlaÄenÃ­m klÃ¡vesu Alt + klÃ¡vesu so Å¡Ã­pkou nadol"},"sl-SI":{longPressMessage:"Za odprtje menija pritisnite in drÅ¾ite gumb ali pritisnite Alt+puÅ¡Äica navzdol"},"sr-SP":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"},"sv-SE":{longPressMessage:"HÃ¥ll nedtryckt eller tryck pÃ¥ Alt + pil nedÃ¥t fÃ¶r att Ã¶ppna menyn"},"tr-TR":{longPressMessage:"MenÃ¼yÃ¼ aÃ§mak iÃ§in uzun basÄ±n veya Alt + AÅaÄÄ± Ok tuÅuna basÄ±n"},"uk-UA":{longPressMessage:"ÐÐ¾Ð²Ð³Ð¾ Ð°Ð±Ð¾ Ð·Ð²Ð¸ÑÐ°Ð¹Ð½Ð¾ Ð½Ð°ÑÐ¸ÑÐ½ÑÑÑ ÐºÐ¾Ð¼Ð±ÑÐ½Ð°ÑÑÑ ÐºÐ»Ð°Ð²ÑÑ Alt Ñ ÑÑÑÑÐ»ÐºÐ° Ð²Ð½Ð¸Ð·, ÑÐ¾Ð± Ð²ÑÐ´ÐºÑÐ¸ÑÐ¸ Ð¼ÐµÐ½Ñ"},"zh-CN":{longPressMessage:"é¿æææ Alt + åä¸æ¹åé®ä»¥æå¼èå"},"zh-TW":{longPressMessage:"é·æææ Alt+åä¸éµä»¥éååè½è¡¨"}};var Da=new WeakMap;function Ra(e,t,n){var i,o,a=e.key,s=e.closeOnSelect,l=e.isVirtualized,c=null!==(i=e.isDisabled)&&void 0!==i?i:t.disabledKeys.has(a),u=null!==(o=e.isSelected)&&void 0!==o?o:t.selectionManager.isSelected(a),d=t.selectionManager.focusedKey===a,p=Da.get(t),m=e.onClose||p.onClose,f=e.onAction||p.onAction,h="menuitem";"single"===t.selectionManager.selectionMode?h="menuitemradio":"multiple"===t.selectionManager.selectionMode&&(h="menuitemcheckbox");var g=pt(),y=pt(),v=pt(),b={"aria-disabled":c,role:h,"aria-label":e["aria-label"],"aria-labelledby":g,"aria-describedby":[y,v].filter(Boolean).join(" ")||void 0};"none"!==t.selectionManager.selectionMode&&(b["aria-checked"]=u),l&&(b["aria-posinset"]=t.collection.getItem(a).index,b["aria-setsize"]=Zi(t.collection));var w=Zr({selectionManager:t.selectionManager,key:a,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0}).itemProps,S=An({onPressStart:function(e){"keyboard"===e.pointerType&&f&&f(a)},onPressUp:function(e){"keyboard"!==e.pointerType&&(f&&f(a),m&&(null!=s?s:"multiple"!==t.selectionManager.selectionMode)&&m())},isDisabled:c}),x=S.pressProps,E=S.isPressed,I=function(e){var t=e.onHoverStart,n=e.onHoverChange,i=e.onHoverEnd,o=e.isDisabled,a=vn((0,r.useState)(!1),2),s=a[0],l=a[1],c=(0,r.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,r.useEffect)(ar,[]);var u=(0,r.useMemo)((function(){var e=function(e,r){if(c.pointerType=r,!o&&"touch"!==r&&!c.isHovered&&e.currentTarget.contains(e.target)){c.isHovered=!0;var i=e.currentTarget;c.target=i,t&&t({type:"hoverstart",target:i,pointerType:r}),n&&n(!0),l(!0)}},r=function(e,t){if(c.pointerType="",c.target=null,"touch"!==t&&c.isHovered){c.isHovered=!1;var r=e.currentTarget;i&&i({type:"hoverend",target:r,pointerType:t}),n&&n(!1),l(!1)}},a={};return"undefined"!=typeof PointerEvent?(a.onPointerEnter=function(t){nr&&"mouse"===t.pointerType||e(t,t.pointerType)},a.onPointerLeave=function(e){!o&&e.currentTarget.contains(e.target)&&r(e,e.pointerType)}):(a.onTouchStart=function(){c.ignoreEmulatedMouseEvents=!0},a.onMouseEnter=function(t){c.ignoreEmulatedMouseEvents||nr||e(t,"mouse"),c.ignoreEmulatedMouseEvents=!1},a.onMouseLeave=function(e){!o&&e.currentTarget.contains(e.target)&&r(e,"mouse")}),{hoverProps:a,triggerHoverEnd:r}}),[t,n,i,o,c]),d=u.hoverProps,p=u.triggerHoverEnd;return(0,r.useEffect)((function(){o&&p({currentTarget:c.target},c.pointerType)}),[o]),{hoverProps:d,isHovered:s}}({isDisabled:c,onHoverStart:function(){Xn()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(a))}});return{menuItemProps:Ma({},b,ft(w,x,I.hoverProps,{onKeyDown:function(e){if(!e.repeat)switch(e.key){case" ":!c&&"none"===t.selectionManager.selectionMode&&!1!==s&&m&&m();break;case"Enter":!c&&!1!==s&&m&&m()}}})),labelProps:{id:g},descriptionProps:{id:y},keyboardShortcutProps:{id:v},isFocused:d,isSelected:u,isPressed:E,isDisabled:c}}function ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ja(e,t,n[t])}))}return e}function Ua(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $a(e){var t=function(e){var t=Ba(mi(e.isOpen,e.defaultOpen||!1,e.onOpenChange),2),n=t[0],r=t[1];return{isOpen:n,setOpen:r,open:function(){r(!0)},close:function(){r(!1)},toggle:function(){r(!n)}}}(e),n=Ka((0,r.useState)(null),2),i=n[0],o=n[1];return Ha(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wa(e,t,n[t])}))}return e}({focusStrategy:i},t),{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(e),t.open()},toggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(e),t.toggle()}})}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Ja(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e){return function(e){if(Array.isArray(e))return Va(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ja(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){if(e){if("string"==typeof e)return Va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Va(e,t):void 0}}var Xa=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},es=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ts=Symbol.iterator,ns=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.expandedKeys,i=this;Ya(this,e),this.keyMap=new Map,this.iterable=t,r=r||new Set;var o,a=function(e){i.keyMap.set(e.key,e);var t=!0,n=!1,o=void 0;if(e.childNodes&&("section"===e.type||r.has(e.key)))try{for(var s,l=e.childNodes[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var c=s.value;a(c)}}catch(e){n=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw o}}},s=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value;a(p)}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}var m=0,f=!0,h=!1,g=void 0;try{for(var y,v=this.keyMap[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=Za(y.value,2),w=b[0],S=b[1];o?(o.nextKey=w,S.prevKey=o.key):(this.firstKey=w,S.prevKey=void 0),"item"===S.type&&(S.index=m++),(o=S).nextKey=void 0}}catch(e){h=!0,g=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw g}}this.lastKey=null==o?void 0:o.key}var t,n,r;return t=e,(n=[{key:ts,value:function(){return Xa(this,(function(e){switch(e.label){case 0:return[5,es(this.iterable)];case 1:return e.sent(),[2]}}))}},{key:"size",get:function(){return this.keyMap.size}},{key:"getKeys",value:function(){return this.keyMap.keys()}},{key:"getKeyBefore",value:function(e){var t=this.keyMap.get(e);return t?t.prevKey:null}},{key:"getKeyAfter",value:function(e){var t=this.keyMap.get(e);return t?t.nextKey:null}},{key:"getFirstKey",value:function(){return this.firstKey}},{key:"getLastKey",value:function(){return this.lastKey}},{key:"getItem",value:function(e){return this.keyMap.get(e)}},{key:"at",value:function(e){var t=qa(this.getKeys());return this.getItem(t[e])}}])&&Qa(t.prototype,n),r&&Qa(t,r),e}();function rs(e){var t=Za(mi(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),2),n=t[0],i=t[1],o=Mi(e),a=(0,r.useMemo)((function(){return e.disabledKeys?new Set(e.disabledKeys):new Set}),[e.disabledKeys]),s=Yi(e,(function(e){return new ns(e,{expandedKeys:n})}),null,[n]);(0,r.useEffect)((function(){null==o.focusedKey||s.getItem(o.focusedKey)||o.setFocusedKey(null)}),[s,o.focusedKey]);return{collection:s,expandedKeys:n,disabledKeys:a,toggleKey:function(e){i(function(e,t){var n=new Set(e);n.has(t)?n.delete(t):n.add(t);return n}(n,e))},selectionManager:new _i(s,o)}}var is=n(95300),os=n(85985),as=n(87847),ss=n(77843),ls=n(41398),cs=n(77176),us=n(28043),ds=n(2834),ps=n(4021),ms=n(64757);const fs={Primary:{Default:"var(--base-boundaries-primary-default)"},Secondary:{Default:"var(--base-boundaries-secondary-default)"}},hs={OnPrimary:{Default:"var(--base-content-onprimary-default)"},Primary:{Default:"var(--base-content-primary-default)"},Secondary:{Default:"var(--base-content-secondary-default)"}},gs={Primary:{Default:"var(--base-surface-primary-default)"},Secondary:{Default:"var(--base-surface-secondary-default)"}},ys="0px 1px 4px 0.5px var(--base-boundaries-primary-default-f3)",vs="0.5px solid var(--base-boundaries-primary-default-1)";var bs,ws=function(e){var t=e.fontStyles;return r.createElement("div",{className:t.fontsPreload},r.createElement("span",{className:t.italicBold}),r.createElement("span",{className:t.italicRegular}),r.createElement("span",{className:t.italicLight}),r.createElement("span",{className:t.normalBold}),r.createElement("span",{className:t.normalRegular}),r.createElement("span",{className:t.normalLight}))},Ss=l.ux.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]}),xs=n(13444),Es="opacity 150ms linear",Is=l.ux.stylesheet({visible:[{opacity:1}],hidden:[{opacity:0}],visibleTransition:[{opacity:1,transition:Es}],hiddenTransition:[{opacity:0,transition:Es}]}),ks={enter:Is.hidden,enterActive:Is.visibleTransition,enterDone:Is.visible,exit:Is.visible,exitActive:Is.hiddenTransition,exitDone:Is.hidden};!function(e){e.enter="enter",e.enterActive="enterActive",e.enterDone="enterDone",e.exit="exit",e.exitActive="exitActive",e.exitDone="exitDone"}(bs||(bs={})),function(e){var t={enter:e.enterActive,enterActive:e.enterDone,enterDone:e.exit,exit:e.exitActive,exitActive:e.exitDone,exitDone:e.enter};e.next=function(e){return t[e]},e.shouldSwitchState=function(t){return function(n){return n===e.enterDone&&!t||n===e.exitDone&&t||n===e.enter||n===e.exit}}}(bs||(bs={}));var Cs=function(e){return r.createElement(As,(0,He.pi)({},e,{classNames:ks}))},As=function(e){var t,n,i=r.useRef((t=e.in,{state:n=Ke.h.create(t?bs.enterDone:bs.exitDone),next:function(){return n.modify(bs.next)}}));return r.useEffect((function(){var t=i.current.state.pipe(os.h(bs.shouldSwitchState(e.in)),xs.g(0),ds.b(i.current.next)).subscribe();return function(){return t.unsubscribe()}}),[e.in,i]),r.createElement(E.F.Fragment,null,i.current.state.view((function(t){return t===bs.exitDone?null:e.children(ks[t],i.current.next,t)})))};var Ts,Ms=function(e){var t,i,o,a=e.children,s=e.className,l=e.state,c=e.offset,u=void 0===c?8:c,d=e.onTransitionEnd,p=(0,He._T)(e,["children","className","state","offset","onTransitionEnd"]),m=r.useRef(null),f=function(e,t){var n=e.triggerRef,i=e.popoverRef,o=e.isNonModal,a=e.isKeyboardDismissDisabled,s=Bo(e,["triggerRef","popoverRef","isNonModal","isKeyboardDismissDisabled"]),l=da({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:a},i),c=l.overlayProps,u=l.underlayProps,d=la(zo(Uo({},s),{targetRef:n,overlayRef:i,isOpen:t.isOpen,onClose:null})),p=d.overlayProps,m=d.arrowProps,f=d.placement,h=Go((0,r.useState)(!1),2),g=h[0],y=h[1];return lt((function(){!o&&f&&y(!0)}),[o,f]),fa({isDisabled:o||!g}),lt((function(){if(t.isOpen&&!o&&i.current)return ka([i.current])}),[o,t.isOpen,i]),{popoverProps:ft(c,p),arrowProps:m,underlayProps:u,placement:f}}((0,He.pi)((0,He.pi)({},p),{offset:u,popoverRef:m}),l).popoverProps,h=(i="div",void 0===(o={withPreload:!1})&&(o={withPreload:!0}),function(e){return r.useLayoutEffect((function(){n(43788)}),[]),r.createElement(r.Fragment,null,o.withPreload?r.createElement(ws,{fontStyles:(0,He.pi)({},Ss)}):null,r.createElement(i,(0,He.pi)({},e,(0,pe.Sh)(e.className,Boolean(o.customFontStyle)?o.customFontStyle:Ss.wrapper))))});return r.createElement(Aa,null,r.createElement("div",(0,He.pi)({},f,{style:(0,He.pi)((0,He.pi)({},f.style),{minWidth:null===(t=p.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:m},(0,pe.Sh)(Ls.popover,s),{onTransitionEnd:d}),r.createElement(xa,{onDismiss:l.close}),r.createElement(h,{className:Ls.wrapper},a),r.createElement(xa,{onDismiss:l.close})))},Os=function(e){var t=e.children,n=(0,He._T)(e,["children"]),i=r.useRef(t);return r.createElement(Cs,{in:n.state.isOpen},(function(e,t){return r.createElement(Ms,(0,He.pi)({},n,{onTransitionEnd:t},(0,pe.Sh)(n.className,e)),i.current)}))},_s={width:l.ux.percent(100)},Ps={display:"flex",flexDirection:"column",alignItems:"flex-start",background:gs.Primary.Default,boxShadow:ys,border:vs,borderRadius:l.ux.rem(fo)},Ls=l.ux.stylesheet({wrapper:[_s],popover:[Ps]}),Ns=n(1509),Ds=n(32096),Rs={borderTop:"1px solid ".concat(fs.Secondary.Default),margin:"".concat(l.ux.rem(go)," ").concat(l.ux.rem(-1))},js={listStyle:"none",margin:0,padding:0,outline:l.ux.important("none")},Fs={position:"relative",overflow:"hidden",padding:"".concat(l.ux.rem(ho)," ").concat(l.ux.rem(1)),borderRadius:l.ux.rem(fo),cursor:"pointer",$nest:{"&:hover":{background:T.CoreBlue1},"&:focus, &:focus-visible":{boxShadow:"0 0 0 1px ".concat(T.CoreNeutral0,", 0 0 0 3px ").concat(T.CoreBlue40),outline:l.ux.important("none"),background:T.CoreBlue1,zIndex:Ds.VN},"& i":{marginLeft:l.ux.rem(-.5),marginRight:l.ux.rem(go)}}},Us={color:hs.Secondary.Default},zs={margin:"0 ".concat(l.ux.rem(go))},Bs={display:"flex",alignItems:"center"},Gs={justifyContent:"space-between",width:l.ux.percent(100)},Ws={padding:"0 ".concat(l.ux.rem(1))},Hs={background:T.CoreBlue1,$nest:{"& span":{fontWeight:700}}},Ks={padding:"".concat(l.ux.rem(go)," ").concat(l.ux.rem(1))},$s={fontSize:l.ux.rem(.625),letterSpacing:l.ux.rem(.04),lineHeight:l.ux.rem(1),color:hs.Secondary.Default,padding:"".concat(l.ux.rem(go)," ").concat(l.ux.rem(1.5)," ").concat(l.ux.rem(go)," ").concat(l.ux.rem(1))},Vs={$nest:{'&[data-active="true"]':{background:T.CoreNeutral1,color:T.CoreBlue50}}},Ys=l.ux.stylesheet({triggerButton:[Vs],separator:[Rs],itemList:[js],mainItemsList:[js,Ks],menuItem:[Fs],menuItemContentWrapper:[Bs],menuItemContent:[Bs,Gs],menuItemDisabled:[Ws],menuItemSelected:[Hs],sectionHeading:[$s],section:[{padding:0}],label:[Us],tag:[zs]});!function(e){e.Item=Bi,e.Section=Wi;function t(e){var t=e.name,o=e.className,a=e.itemAnimationMode,s=void 0===a?po.m.FromClickPoint:a,l=e.theme,c=void 0===l?{}:l,u=e.onMouseOver,d=e.onMouseLeave,p=(0,He._T)(e,["name","className","itemAnimationMode","theme","onMouseOver","onMouseLeave"]),m=r.useMemo((function(){return Boolean(t)?"".concat(t,"-list"):"dropdown-menu-list"}),[t]),f=rs(p),h=r.useRef(null),g=function(e,t,n){var r=e.shouldFocusWrap,i=void 0===r||r,o=_a(e,["shouldFocusWrap"]);e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");var a=vt(e,{labelable:!0}),s=ei(Oa(Ma({},o),{ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:i})).listProps;return Da.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:ft(a,Ma({role:"menu"},s))}}(p,f,h).menuProps,y=ft(g,{onMouseOver:u,onMouseLeave:d});return r.createElement("ul",(0,He.pi)({"data-name":m},y,{ref:h},(0,pe.Sh)(Ys.mainItemsList,c.list,o)),Array.from(f.collection).map((function(e){return"section"===e.type?r.createElement(i,{key:e.key,section:e,state:f,theme:c}):r.createElement(n,{key:e.key,name:t,item:e,state:f,animationMode:s,className:c.item})})))}function n(e){var t=e.item,n=e.state,i=e.animationMode,o=e.className,a=e.name,s=r.useMemo((function(){return Boolean(a)?"".concat(a,"-item"):"dropdown-menu-item"}),[a]),l=r.useRef(null),c=Ra({key:t.key},n,l),u=c.menuItemProps,d=c.isDisabled,p=c.isSelected,m=r.useMemo((function(){return new lo.xQ}),[]),f=r.useCallback((function(){return null!=i&&r.createElement(po.H,{mouseDownEvents:m,animationMode:i})}),[m,i]),h=u.onPointerDown,g=ft((0,He._T)(u,["onPointerDown"]),{onPointerDown:function(e){m.next({pageX:e.pageX,pageY:e.pageY}),null==h||h(e)}});return mo.P.useEffectOnDidMount((function(){if(null!=l.current){var e=l.current.focus.bind(l.current);l.current.focus=function(t){var n;Boolean(null===(n=l.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}})),r.createElement("li",(0,He.pi)({"data-name":s},g,{ref:l},(0,pe.Sh)(Ys.menuItem,o,d?Ys.menuItemDisabled:void 0,p?Ys.menuItemSelected:void 0)),r.createElement(Ns.Z,{nodeType:"span",styleType:Ns.Z.Type.Base,className:Ys.menuItemContentWrapper},t.rendered),f())}function i(e){var t,i,o,a,s=e.name,l=e.section,c=e.state,u=e.onAction,d=e.theme,p=void 0===d?{}:d,m=e.itemAnimationMode,f=void 0===m?po.m.FromClickPoint:m,h=r.useMemo((function(){return Boolean(s)?"".concat(s,"-section"):"dropdown-menu-section"}),[s]),g=(t={heading:l.rendered,"aria-label":l["aria-label"]},i=t.heading,o=t["aria-label"],a=ut(),{itemProps:{role:"presentation"},headingProps:i?{id:a,"aria-hidden":!0}:{},groupProps:{role:"group","aria-label":o,"aria-labelledby":i?a:void 0}}),y=g.itemProps,v=g.headingProps,b=g.groupProps,w=function(e){var t,n=vt(e,{labelable:!0});return"vertical"===e.orientation&&(t="vertical"),"hr"!==e.elementType?{separatorProps:Ua(Fa({},n),{role:"separator","aria-orientation":t})}:{separatorProps:n}}({elementType:"li"}).separatorProps;return r.createElement(r.Fragment,null,l.key!==c.collection.getFirstKey()&&r.createElement("li",(0,He.pi)({},w,{className:Ys.separator})),r.createElement("li",(0,He.pi)({"data-name":h},y,(0,pe.Sh)(Ys.section,p.section)),Boolean(l.rendered)&&r.createElement(Ns.Z.H5,(0,He.pi)({},v,{className:Ys.sectionHeading}),l.rendered),r.createElement("ul",(0,He.pi)({},b,{className:Ys.itemList}),Array.from(l.childNodes).map((function(e){return r.createElement(n,{key:e.key,item:e,state:c,onAction:u,animationMode:f,className:p.item,name:s})})))))}e.Dropdown=function(e){var n=e.placement,i=void 0===n?"bottom start":n,o=e.theme,a=void 0===o?{}:o,s=e.name,l=e.appearanceBehavior,c=void 0===l?"mouseHover":l,u=e.showDelay,d=void 0===u?500:u,p=e.closeDelay,m=void 0===p?500:p,f=(0,He._T)(e,["placement","theme","name","appearanceBehavior","showDelay","closeDelay"]),h=r.useMemo((function(){return Boolean(s)?"".concat(s,"-trigger"):"dropdown-menu-trigger"}),[s]),g=r.useMemo((function(){return new lo.xQ}),[]),y=r.useMemo((function(){return new is.X(!1)}),[]),v=$a(f),b=r.useRef(null),w=Na({},v,b),S=w.menuTriggerProps,x=(S.onPress,S.onPressStart,(0,He._T)(S,["onPress","onPressStart"])),E=w.menuProps;return mo.P.useSubscriptionTo(g.pipe(os.h((function(){return"mouseHover"===c})),as.D((function(e){return ss.F(e?d:m)})),ls.M(y),cs.U((function(e){var t=e[0],n=e[1];return t&&!n})),us.x(),ds.b((function(e){return e?v.open():v.close()})))),r.createElement(r.Fragment,null,r.createElement(ms.zx.Tertiary,(0,He.pi)({},x,{name:h},(0,pe.Sh)(Ys.triggerButton,a.button),{onClick:function(){return v.toggle()},mount:function(e){return b.current=e},"aria-label":f["aria-label"],title:f["aria-label"],active:v.isOpen,onMouseOver:function(){y.next(!1),g.next(!0)},onMouseLeave:function(){return g.next(!1)}}),f.label),r.createElement(Os,{state:v,triggerRef:b,placement:i},r.createElement(t,(0,He.pi)({},f,E,{theme:a,onAction:function(e){var t;null===(t=f.onAction)||void 0===t||t.call(f,e),g.next(!1),y.next(!0)},onMouseOver:function(){return g.next(!0)},onMouseLeave:function(){y.next(!1),g.next(!1)}}))))},e.List=t,e.ItemContent=function(e){var t=e.children,n=e.label,i=e.tag;return r.createElement("span",{className:Ys.menuItemContent},r.createElement("span",null,t,Boolean(i)&&r.createElement(ps.C.Regular,{className:Ys.tag},i)),Boolean(n)&&r.createElement(Ns.Z.Small,{className:Ys.label},n))}}(Ts||(Ts={}));var Qs=n(83078);function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qs={flexShrink:0,alignItems:"center",justifyContent:"center",height:l.ux.rem(2),width:l.ux.rem(2)},Js={$nest:{"& i":{height:l.ux.rem(2),width:l.ux.rem(2)}}},Xs=l.ux.stylesheet({button:[qs],item:[Js]}),el=n(85089),tl=n(60797),nl=n(73975),rl=n(93508),il=n(66310),ol=n(80334),al=n(76974),sl=n(2844),ll=n(76498);function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pl=function(e,t){var n={root:e,rootMargin:"0px",threshold:[0,1]};return el.n(t,n).pipe(os.h(ll.Od),cs.U((function(e){return 1!==e[0].intersectionRatio})),rl.O(t.offsetHeight>e.offsetHeight))},ml=function(e,t){return Ke.h.combine(e,t,Qs.vB(pl)).pipe(tl.oA,il.w(f.yR),ol.h(al.of(!0)))},fl=nl.MW({topOverflow:nl.vD,bottomOverflow:nl.vD});var hl=new M.z6(100);var gl=l.ux.stylesheet({"scroll-main":[{display:"flex",flexDirection:"column",borderTop:"1px solid transparent",borderBottom:"1px solid transparent",transitionProperty:"border-top-color, border-bottom-color",transitionDuration:".2s",pointerEvents:"auto"}],overflowBottom:[{borderBottomColor:l.ux.important(T.CoreNeutral20)}],overflowTop:[{borderTopColor:l.ux.important(T.CoreNeutral20)}]}),yl=n(24209),vl=n(17343);function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sl(){return Sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wl(e,t,n[t])}))}return e}function El(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Il="sliderOuterContainer",kl="sliderLabel",Cl="sliderContainer",Al="slider",Tl="sliderDragging",Ml="sliderNotDragging",Ol="sliderSliderDivisionPoint",_l="sliderDivisionPointHoverArea",Pl="sliderInner",Ll="sliderInnerNotDragging",Nl="sliderInnerDragging",Dl="sliderInnerJiggle",Rl="sliderKnob",jl="sliderKnobJiggle",Fl="sliderKnobNotDragging",Ul="sliderKnobDragging",zl="sliderKnobEmoji",Bl={fontWeight:700,fontSize:l.ux.rem(.875),lineHeight:l.ux.rem(1),width:l.ux.rem(8)},Gl={height:l.ux.rem(2.625),display:"flex",flexDirection:"column",justifyContent:"center"},Wl={position:"relative",width:l.ux.percent(100),backgroundColor:T.CoreNeutral40,borderRadius:l.ux.rem(.375),transition:"height 0.15s ease-in-out",$nest:wl({"&:hover":{height:l.ux.rem(.5)}},"&:hover .".concat(Ol),{visibility:"visible"})},Hl={height:l.ux.rem(.125)},Kl={height:l.ux.rem(.5),$nest:wl({},"& .".concat(Ol),{visibility:"visible"})},$l={position:"absolute",height:l.ux.rem(.25),backgroundColor:T.CoreNeutral0,top:l.ux.rem(.125),bottom:l.ux.rem(.125),borderRadius:l.ux.percent(100),visibility:"hidden"},Vl={background:T.CoreNeutral90,opacity:0,height:l.ux.rem(1.5),position:"absolute",borderRadius:l.ux.percent(100),cursor:"pointer",top:l.ux.rem(-.5),zIndex:1,$nest:{"&:hover":{opacity:.1}}},Yl={position:"relative",display:"flex",alignItems:"center",backgroundColor:T.CorePurple40,height:l.ux.percent(100),borderRadius:l.ux.rem(.375)},Ql=l.ux.keyframes({from:{width:"100%"},to:{width:"calc(100% - ".concat(l.ux.rem(1.5),")")}}),Zl=l.ux.keyframes({from:{width:"calc(100% - ".concat(l.ux.rem(1.5),")")},to:{width:"100%"}}),ql={animation:"".concat(Ql," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(Zl," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},Jl=l.ux.keyframes({from:{transform:"none"},to:{transform:"translateX(".concat(l.ux.rem(-.75),")")}}),Xl=l.ux.keyframes({from:{transform:"translateX(".concat(l.ux.rem(-.75),")")},to:{transform:"none"}}),ec={animation:"".concat(Jl," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(Xl," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},tc={position:"absolute",right:l.ux.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:T.CoreNeutral0,borderRadius:l.ux.rem(1.875),cursor:"ew-resize",transitionProperty:"width, height",transitionDuration:"0.15s",transitionTimingFunction:"ease-in-out",zIndex:1,$nest:{"&:hover":{width:l.ux.rem(2),height:l.ux.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},nc={width:l.ux.rem(1.75),height:l.ux.rem(1.75),boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)"},rc={width:l.ux.rem(2),height:l.ux.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},ic={width:l.ux.rem(.9375),height:l.ux.rem(.9375),pointerEvents:"none"},oc={outerContainer:l.ux.joinClasses([Il,l.ux.style({display:"flex",alignItems:"center"})]),label:l.ux.joinClasses([kl,l.ux.style(Bl)]),container:l.ux.joinClasses([Cl,l.ux.style(Gl)]),slider:l.ux.joinClasses([Al,l.ux.style(Wl)]),sliderNotDragging:l.ux.joinClasses([Ml,l.ux.style(Hl)]),sliderDragging:l.ux.joinClasses([Tl,l.ux.style(Kl)]),sliderDivisionPoint:l.ux.joinClasses([Ol,l.ux.style($l)]),sliderDivisionPointHoverArea:l.ux.joinClasses([_l,l.ux.style(Vl)]),sliderInner:l.ux.joinClasses([Pl,l.ux.style(Yl)]),sliderInnerNotDragging:l.ux.joinClasses([Ll,l.ux.style({transition:"width 0.15s ease-in-out"})]),sliderInnerDragging:l.ux.joinClasses([Nl,l.ux.style({transition:"none"})]),sliderInnerJiggle:l.ux.joinClasses([Dl,l.ux.style(ql)]),knob:l.ux.joinClasses([Rl,l.ux.style(tc)]),knobJiggle:l.ux.joinClasses([jl,l.ux.style(ec)]),knobNotDragging:l.ux.joinClasses([Fl,l.ux.style(nc)]),knobDragging:l.ux.joinClasses([Ul,l.ux.style(rc)]),knobEmoji:l.ux.joinClasses([zl,l.ux.style(ic)])},ac=n(94632);function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var cc=l.ux.stylesheet({default:[{overflow:"initial",userSelect:"initial",verticalAlign:"initial"}]}),uc=l.ux.stylesheet({container:[{display:"inline-flex",flexDirection:"column",position:"relative"}],label:[{display:"flex",alignItems:"center"}],labelText:[{marginLeft:"8px"}]}),dc=function(e){var t=e.type;return r.createElement("div",null,t," not implemented")},pc={button:(0,A.ND)(),alternativeChoice:function(e){var t=e.designSystem,n=e.content,i=e.activeIndex,o=e.notify,a=y.C8.Logging.getLogger("AlternativeChoiceView");return r.createElement(t.column,{children:[(0,f.zG)(h.fromNullable(n[i]),g.Yo((function(){return"Cannot render alternative choice preview if there's no choice that matches the current alternative index."})),g.UI((function(e){return e.preview})),g.Y$(v.gO.isBlock,(function(){return"Cannot render alternative choice preview if it's not of type `block.`"})),g.Y$(v.gO.hasOnlyTextParts,(function(){return"Cannot render alternative choice preview `block` if not every part is of type `text.`"})),g.UI((function(e){return e.parts.length>0?r.createElement(t.block,w({},e,{children:e.parts.map((function(e,n){return r.createElement(t.text,w({key:n},e))})),spacing:{top:p.T.D0,right:p.T.D0,bottom:p.T.D1,left:p.T.D0},key:"preview"})):null})),g.fS((function(e){return a.warn(e),null}))),r.createElement(t.block,{innerSpacing:{horizontal:p.T.D05,vertical:p.T.D05},verticalAlign:p.g$.Top,children:n.map((function(e,n){return"button"===e.label.type&&"block"===e.label.label.type?r.createElement(t.button.toggle,{key:n,text:t.block(w({},e.label.label,{children:e.label.label.parts.map((function(e,n){return"text"===e.type?e.text:"icon"===e.type&&"known"===e.source.kind?r.createElement(t.icon[e.source.name],w({key:n},e)):null}))})),name:e.label.name.value,state:x(i)(e.label.actions)?p.BN.Selected:p.BN.Deselected,tooltip:void 0,shape:p.jL.Square,onClick:o(e.label.actions,e.label.id)}):a.warn("Content where `label.type` is not `button` and `label.label.type` is not `block` are not supported (yet)",{content:e})})),key:"control",id:v.JX.from("AlternativeChoiceView-control")})],id:v.JX.from("AlternativeChoiceView")})},text:F,clickableText:function(e){var t=e.textView,n=e.onClick,i=e.name,o=lc(e,["textView","onClick","name"]);return r.createElement(ms.zx,{name:i,onClick:n,className:l.ux.joinClasses([ac.LI,cc.default])},r.createElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sc(e,t,n[t])}))}return e}({},o,{text:o.text})))},image:function(e){var t=e.name,n=e.url,i=e.size,o=e.backgroundColor;return r.createElement("div",{className:Ie(o),"data-role":"icon"},r.createElement("img",{src:n,className:ke(i),alt:t}))},imageSized:function(e){var t=e.name,n=e.url,i=e.height,o=e.width,a=e.backgroundColor;return r.createElement("div",{className:Te(i,o,a),"data-role":"icon"},r.createElement("img",{src:n,className:Me(i,o),alt:t.value}))},icon:he,alertsCount:function(e){var t=e.textView,n=s(e,["textView"]),i=r.useContext(o.o.Context);return r.createElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({key:"alertsCountText"},n,{text:"".concat(i.alertIds.length)}))},assistantCard:function(e){var t=e.child,n=e.footer,i=e.id;return r.createElement(c,{id:"".concat(i,"-container")},t,n?r.createElement("div",{className:d.wrapper},n):null)},count:function(e){var t=e.backgroundColor,n=e.value,i=e.id,o=e.textColor,a=void 0===o?p.Il.CoreNeutral0:o;return r.createElement(ie,{id:i},r.createElement(q,{id:i,backgroundColor:t,borderRadius:{topLeft:p.wU.Radius3,topRight:p.wU.Radius3,bottomRight:p.wU.Radius3,bottomLeft:p.wU.Radius3},minWidth:.75,padding:{top:p.T.D0,right:p.T.D025,bottom:p.T.D0125,left:p.T.D025}},r.createElement(F,{size:p.yH.Small,format:[p.SQ.Bold],textColor:a,text:n})))},block:ie,row:function(e){var t=e.left,n=e.right,i=e.spacing,o=e.verticalAlign,a=Array.isArray(t)&&0===t.length,s=Array.isArray(n)&&0===n.length;return a&&s?null:r.createElement("div",{"data-role":"row-layout",className:je(i)},a?null:r.createElement("div",{"data-role":"row-content",className:Fe(o)},t),s?null:r.createElement("div",{"data-role":"row-content",className:Ue(o)},n))},column:c,slider:function(e){var t=e.fillColor,n=e.segmentSize,i=e.choices,o=e.designSystem,a=e.onChoiceSelected,s=mo.P.useElWatcher(),c=s.ref,u=s.onMount,d=new lo.xQ,m=new lo.xQ,g=new lo.xQ,v=new lo.xQ,b=new lo.xQ,w=new lo.xQ,S=new is.X(!0),x=i.length-1,I=x>0?100/x:0,k=i.reduce((function(e){var t=e[e.length-1],n=0;return void 0!==t&&(n=t+I),e.push(n),e}),[]),C=new is.X(k[1]),A=yl.T(b.pipe(vl.h(!0)),g.pipe(vl.h(!1)),v.pipe(vl.h(!1))).pipe(rl.O(!1)),M=yl.T(b,m).pipe(ls.M(A),os.h((function(e){var t=El(e,2);t[0];return t[1]})),cs.U((function(e){return El(e,1)[0]})),ls.M(c),cs.U((function(e){var t=El(e,2),n=t[0],r=t[1];return(0,f.zG)(r,h.map((function(e){return e.getBoundingClientRect()})),h.bindTo("sliderClientRect"),h.apS("containerMouseEventVal",h.some(n)))})),tl.oA,cs.U((function(e){var t=e.containerMouseEventVal,n=e.sliderClientRect,r=n.x,i=n.x+n.width;return t.clientX<=r?0:t.clientX>=i?100:(t.clientX-r)/(i-r)*100}))),O=C.pipe(us.x(),cs.U((function(e){for(var t=-1,n=0;n<k.length-1;n++){var r=k[n],i=k[n+1];e>=r&&e<=i&&(t=e>=(r+i)/2?n+1:n)}return t}))),_=O.pipe(us.x(),cs.U((function(e){return i[e]})));return mo.P.useSubscriptionTo(yl.T(M.pipe(us.x()),A.pipe(us.x(),os.h((function(e){return!e})),ls.M(M),cs.U((function(e){var t=El(e,2);t[0];return t[1]})),cs.U((function(e){var t,n=0,r=!0,i=!1,o=void 0;try{for(var a,s=k[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=Math.abs(e-l);(void 0===t||c<t)&&(t=c,n=l)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}))),d.pipe(os.h((function(e){return"ArrowRight"===e.key||"ArrowLeft"===e.key})),ds.b((function(e){e.preventDefault(),e.stopPropagation()})),cs.U((function(e){return e.key})),os.h((function(e){return"ArrowRight"===e||"ArrowLeft"===e})),ls.M(C),cs.U((function(e){var t,n=El(e,2),r=n[0],i=n[1];return(t="ArrowRight"===r?i+I:i-I)>100?100:t<0?0:t}))),w.pipe(cs.U((function(e){return k[e]})))).pipe(ds.b((function(e){return C.next(e)})))),mo.P.useSubscriptionTo(_.pipe(cs.U((function(e){return a(e.actions,e.id,p.nz.SelectSliderChoice)})),ds.b((function(e){return e()})))),i.length<2?(y.C8.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:i.length}),null):r.createElement(E.F.div,{className:oc.outerContainer,onKeyDown:function(e){return d.next(e)},"data-role":"slider"},r.createElement(E.F.div,{className:oc.label},_.pipe(cs.U((function(e){return e.label})))),r.createElement(E.F.div,{className:oc.container,style:{width:l.ux.rem(x*n)},onMouseMove:function(e){return m.next(e)},onMouseUp:function(e){return g.next(e)},onMouseLeave:function(e){return v.next(e)}},r.createElement(E.F.div,Sl({},(0,pe.Sh)(oc.slider,A.pipe(cs.U((function(e){return e?oc.sliderDragging:oc.sliderNotDragging})))),{mount:u,onMouseOver:function(){return S.next(!1)},onFocus:function(){return S.next(!1)}}),r.createElement(E.F.div,Sl({},(0,pe.Sh)(oc.sliderInner,A.pipe(cs.U((function(e){return e?oc.sliderInnerDragging:oc.sliderInnerNotDragging}))),S.pipe(cs.U((function(e){return e&&1===x?oc.sliderInnerJiggle:null})))),{style:{width:C.pipe(cs.U(l.ux.percent)),color:T[t]}}),r.createElement(E.F.div,Sl({},(0,pe.Sh)(oc.knob,A.pipe(cs.U((function(e){return e?oc.knobDragging:oc.knobNotDragging}))),S.pipe(cs.U((function(e){return e&&x>1?oc.knobJiggle:null})))),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),b.next(e)},tabIndex:0}),_.pipe(cs.U((function(e){return"known"===e.icon.source.kind?r.createElement(o.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):r.createElement(o.image,xl({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source))}))))),A.pipe(cs.U((function(e){return i.map((function(t,i){var o={width:l.ux.rem(.25),left:l.ux.rem(0===i?.125:i===x?i*n-.25-.125:i*n-.25)};return r.createElement(E.F.Fragment,{key:t.id},r.createElement("div",{className:oc.sliderDivisionPoint,style:o}),O.pipe(cs.U((function(t){return t===i||e?null:r.createElement(E.F.div,{className:oc.sliderDivisionPointHoverArea,style:xl({},o,{transform:"scaleX(6)"}),onClick:function(){return w.next(i)}})}))))}))}))))))},box:q,alternativeSlider:function(e){var t=e.fillColor,n=e.segmentSize,i=e.choices,o=e.designSystem,a=e.activeAltIndex,s=e.notify;return r.createElement(o.column,{children:[r.createElement(o.slider,{fillColor:t,segmentSize:n,choices:i.map((function(e){return{id:e.id,icon:e.icon,label:e.label,actions:e.actions}})),designSystem:o,onChoiceSelected:s,key:"select"}),r.createElement(E.F.Fragment,{key:"preview"},a.view((function(e){return(0,f.zG)(h.fromNullable(i[e+1]),g.Yo((function(){return"Cannot render alternative slider preview if there's no choice that matches the current alternative index."})),g.UI((function(e){return e.preview})),g.Y$(v.gO.isBlock,(function(){return"Cannot render alternative slider preview if it's not of type `block.`"})),g.Y$(v.gO.hasOnlyTextParts,(function(){return"Cannot render alternative slider preview `block` if not every part is of type `text.`"})),g.UI((function(e){return r.createElement(o.block,k({},e,{children:e.parts.map((function(e,t){return r.createElement(o.text,k({key:t},e))}))}))})),g.fS((function(e){return y.C8.Logging.getLogger("AlternativeSliderView").warn(e),null})))})))],id:v.JX.from("AlternativeSlider")})},scroll:function(e){var t=Ke.h.create(h.none),n=Ke.h.create(h.none),i=Ke.h.create(h.none),o=ml(t,n),a=ml(t,i),s=sl.aj([o,a]).pipe(cs.U((function(e){var t=dl(e,2);return{topOverflow:t[0],bottomOverflow:t[1]}})),rl.O({topOverflow:!1,bottomOverflow:!1}),us.x(fl.equals));return r.createElement(r.Fragment,null,r.createElement("style",null,'div[data-role="scroll"] {\n            border-color: transparent;\n          }'),r.createElement(E.F.div,{"data-role":"scroll",className:s.pipe(cs.U((function(t){return function(e){var t=e.maxHeight,n=e.topOverflow,r=e.bottomOverflow,i=[];i.push(gl["scroll-main"]),n&&i.push(gl.overflowTop);r&&i.push(gl.overflowBottom);void 0!==t&&i.push(function(e){var t="overflow-".concat(e),n=hl.get(t);if(void 0!==n)return n;var r=l.ux.style({$debugName:"overflow",maxHeight:l.ux.rem(e),overflowY:"auto",overflowX:"hidden",$nest:{"& > *":{overflow:"visible"}}});return hl.put(t,r),r}(t));return i.length>0?l.ux.joinClasses(i):void 0}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ul(e,t,n[t])}))}return e}({},e,t))}))),mount:function(e){return t.set(h.fromNullable(e))}},r.createElement("div",{style:{margin:0},ref:function(e){return n.set(h.fromNullable(e))}}),e.children,r.createElement("div",{style:{margin:0},ref:function(e){return i.set(h.fromNullable(e))}})))},list:function(e){return r.createElement(so.List,{"data-role":"list",selectionMode:"single",selectionBehavior:"toggle",assistiveScroll:!0,theme:{list:vo.list,item:{base:vo.listItem,focused:vo.listItemFocused}},onSelectionChange:function(t){return("all"===t?e.items:e.items.filter((function(e){return t.has(e.id)}))).forEach(e.onSelect)}},e.items.map((function(t,n){return r.createElement(so.Item,{key:t.id},e.renderItem(t,n))})))},listItem:function(e){var t=r.createElement(r.Fragment,null,r.createElement("div",{"data-role":"list-item",className:Co.listItemPrimaryButton},r.createElement("div",{"data-role":"list-item-label",className:Co.listItemLabel},e.label)),e.secondaryButtons.length>0?r.createElement("div",{"data-role":"list-item-secondary-buttons",className:Co.listItemSecondaryButtonsContainer},e.secondaryButtons.map((function(t){var n=r.createElement("button",{key:t.id,"data-role":"list-item-secondary-button",onClick:function(e){e.stopPropagation(),t.onClick()},onKeyDown:function(e){return e.stopPropagation()},className:Co.listItemSecondaryButton,"aria-label":t.tooltip},"icon"===t.label.type?"known"===t.label.icon.source.kind?r.createElement(e.designSystem.icon[t.label.icon.source.name],{key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor}):r.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wo(e,t,n[t])}))}return e}({key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor},t.label.icon.source)):t.label.text);return t.tooltip?r.createElement(bo.u,{key:t.id,title:t.tooltip},n):n}))):null);return e.tooltip?r.createElement(bo.u,{title:(0,A.a3)(e.tooltip)},t):t},strongAlertRef:o.b,nativeSkillsModal:dc,nativeToneInsightsModal:dc,nativeLearnMoreModal:dc,nativeSettingsModal:dc,nativeFeedbackModal:dc,nativeGetStartedChecklistModal:function(e){var t=e.designSystem,n=e.notify;return r.createElement(t.block,{innerSpacing:{horizontal:p.T.D05,vertical:p.T.D05},verticalAlign:p.g$.Top,horizontalAlign:p.Kq.Center,children:[r.createElement("p",{key:"header"},"Mock Implementation of nativeGetStartedChecklistModal"),r.createElement(t.button.primary,{key:"complete-all-items-btn",text:"Complete all items",name:"fire-actions",state:p.BN.Enabled,tooltip:void 0,shape:p.jL.Square,onClick:n}),r.createElement("p",{key:"footer"},"")],key:"block",id:v.JX.from("container-block")})},nativeKeyTakeawaysAssistantCard:dc,nativeProofitModal:dc,dropDownMenuButton:function(e){var t=function(t){return"known"===t.source.kind?r.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):r.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zs(e,t,n[t])}))}return e}({key:t.source.name,backgroundColor:t.backgroundColor},t.source))};return r.createElement(Ts.Dropdown,{label:t(e.icon),placement:"bottom right",theme:{button:Xs.button,item:Xs.item},"aria-label":e.menu.label,onAction:function(t){return(0,f.zG)(e.menu.sections,m.tS((function(e){return e.items})),m.Ew((function(e){return e.id===String(t)})),Qs.bw((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.menu.sections.map((function(e,n){return r.createElement(Ts.Section,{key:n,title:e.title},e.items.map((function(e){return r.createElement(Ts.Item,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)})))})))},radioButtonsGroup:function(e){var t=e.id,n=e.options,i=e.onClick;return r.createElement("form",{className:uc.container},n.map((function(e,n){return r.createElement("label",{className:uc.label,htmlFor:e.id,key:e.id},r.createElement("input",{type:"radio",name:t,key:n,id:e.id,onChange:function(t){t.target.checked&&i(e.onSelect,e.id)()},value:e.id}),r.createElement("span",{className:uc.labelText},e.label))})))},nativeExperimentalGBConsistencyUpsellFooter:dc,nativeExperimentalGBToneInsightsUpsellFooter:dc}},18702:(e,t,n)=>{n.d(t,{P:()=>j});var r=n(54495),o=n(25186),a=n(27378),s=n(90845),l=n(50628),c=n(2834),u=n(22232),d=n(5114),p=n(83078),m=n(38983),f=n(5739),h=n(79880),g=n(80432),y=n(26393),v=n(89894),b=function(e){var t=e.parentKey,n=e.from,r=e.transition,i=e.to,o=e.onAnimationEnd,s=e.renderContent,l=w(r.animateFrom,"from"),c=w(r.animateTo,"to"),u=l.needFullWidth||c.needFullWidth;return a.createElement("div",{className:v.ux.joinClasses([S,u?x:""])},n&&a.createElement("div",{onAnimationEnd:function(){return o(r.fromName)},className:v.ux.joinClasses(l.className)},s(n,"from-".concat(t),[])),a.createElement("div",{onAnimationEnd:function(){return o(r.toName)},className:v.ux.joinClasses(c.className)},s(i,"to-".concat(t),[])))};function w(e,t){switch(e){case"fadeOut":return{className:[I],needFullWidth:!1};case"fadeIn":return{className:[C],needFullWidth:!1};case"slideLeft":return{className:T(t,"left"),needFullWidth:!0};case"slideRight":return{className:T(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}var S=v.ux.style({position:"relative",overflow:"hidden"}),x=v.ux.style({width:"100%"}),E=v.ux.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),I=v.ux.style({position:"absolute",opacity:0,visibility:"hidden",animation:"".concat(E," ").concat(v.ux.seconds(.3)," ease-out")}),k=v.ux.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),C=v.ux.style({animation:"".concat(k," ").concat(v.ux.seconds(.3)," ease-out")}),A=function(e){return"calc(".concat(e,"px * var(--cardWidth))")},T=function(e,t){var n="to"===e?0:"".concat(A("left"===t?-1:1)),r="from"===e?0:"".concat(A("left"===t?1:-1)),i=v.ux.keyframes({from:{transform:"translateX(".concat(r,")"),visibility:"visible"},to:{transform:"translateX(".concat(n,")"),visibility:"from"===e?"hidden":"visible"}}),o=v.ux.style({position:"absolute",left:0,right:0,visibility:"hidden"}),a=v.ux.style({position:"from"===e?"absolute":"relative",animation:"".concat(i," ").concat(v.ux.seconds(.3)," ease-out")});return"from"===e?[o,a]:[a]},M=n(42500);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function N(e){return function(e){if(Array.isArray(e))return e}(e)||P(e)||R(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e){return function(e){if(Array.isArray(e))return O(e)}(e)||P(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}var j=function(e){var t=e.content,n=e.prevContent,i=e.transitions,v=e.designSystem,w=e.notify,S=e.onMount,x=e.onAnimationEnd,E=e.sduiRootId,I=function(e){return"name"in e},k=function(e){return(0,r.zG)(e,o.UI((function(e){return"applyAlerts"===e.type&&0===e.alternativeIndex?{type:"applyAlerts",alternativeIndex:T.get()}:"selectAlternative"===e.type?(T.set(e.alternativeIndex),e):e})))},C=function(e,t,n){return function(r){if(!e||0===e.length)return r(n);var i,o=N(e),s=o[0],l=o.slice(1);if("behavior:strongAlertRef"===s.type)i=function(e){return a.createElement(v.strongAlertRef,{key:"".concat(t,"-strongAlertRef"),alertIds:s.alertIds,children:r(L({},e,{alertRefs:s.alertIds}))})};else(0,u.vE)(s.type);return C(l,t,n)(i)}},A=new Map,T=m.h.create(0),O=function(e,t,n,i,o){var s=I(e)?n.find((function(t){return t.toName===e.name.value})):void 0;if(void 0!==s){var l=A.get(s.fromName);return a.createElement(b,{key:F(t,e),parentKey:t,renderContent:function(e,t){return O(e,F(t,e),[],r.Q1,o)},onAnimationEnd:i,from:l,to:e,transition:s})}switch(e.type){case"text":return a.createElement(v.text,L({key:F(t,e)},e));case"clickableText":return a.createElement(v.clickableText,L({},e,{key:F(t,e),name:e.name.value,textView:v.text,onClick:P(o)(e.onClickActions,e.id)}));case"button":var c=O(e.label,t,n,i,o);return a.createElement(f.F.Fragment,{key:F(t,e)},T.view((function(n){return a.createElement(v.button[e.kind],{key:F(t,e),text:c,name:e.name.value,state:e.name.value===h.MU.ButtonAccept&&-1===n?h.BN.Hidden:e.state,tooltip:e.tooltip,shape:e.shape,verticalAlign:"block"===e.label.type||"row"===e.label.type?e.label.verticalAlign:void 0,onClick:P(o)(e.actions,e.id)})})));case"alternativeChoice":return a.createElement(f.F.Fragment,{key:F(t,e)},T.view((function(n){return a.createElement(v.alternativeChoice,{key:F(t,e),designSystem:v,content:e.alternatives,activeIndex:n,notify:P(o)})})));case"icon":return _(e.source,e.backgroundColor,F(t,e));case"image":return a.createElement(v.imageSized,L({key:F(t,e)},e));case"count":return a.createElement(v.count,L({key:F(t,e)},e));case"block":return a.createElement(v.block,L({key:F(t,e)},e,{children:e.parts.map((function(e,r){return O(e,F(t,{id:r.toString()}),n,i,o)}))}));case"row":return a.createElement(v.row,L({key:F(t,e)},e,{left:e.left.map((function(e,r){return O(e,F(t,{id:r.toString()}),n,i,o)})),right:e.right.map((function(e,r){return O(e,F(t,{id:r.toString()}),n,i,o)}))}));case"column":return a.createElement(v.column,L({key:F(t,e)},e,{children:e.children.map((function(e,r){return O(e,F(t,{id:r.toString()}),n,i,o)}))}));case"slider":return a.createElement(v.slider,L({key:F(t,e),designSystem:v,onChoiceSelected:P(o)},e));case"alternativeSlider":return a.createElement(v.alternativeSlider,L({key:F(t,e),designSystem:v,activeAltIndex:T.view(),notify:P(o)},e));case"strongAlertRef":var u=L({},o,{alertRefs:e.alertIds});return a.createElement(v.strongAlertRef,L({key:t},e,{children:O(e.child,t,n,i,u)}));case"scroll":return a.createElement(v.scroll,L({key:F(t,e),children:O(e.child,t,n,i,o)},e));case"box":return a.createElement(v.box,L({key:F(t,e),children:O(e.child,t,n,i,o)},e));case"list":return a.createElement(v.list,L({key:F(t,e),onSelect:function(e){return P(o)(e.actions,e.id)()},renderItem:function(r,s){var l=F(t,e)+"."+s.toString(),c=O(r.label,t,n,i,o);return C(r.behaviors,l,o)((function(e){return a.createElement(v.listItem,{key:l,id:r.id,label:c,tooltip:r.tooltip,behaviors:r.behaviors,secondaryButtons:r.secondaryButtons.map((function(t){return L({},t,{onClick:P(e)(t.onClickActions,t.id)})})),designSystem:v})}))}},e));case"alertsCount":return a.createElement(v.alertsCount,L({key:F(t,e),textView:v.text},e));case"assistantCard":return a.createElement(v.assistantCard,L({key:F(t,e)},e,{child:O(e.child,t,n,i,o),footer:e.footer?O(e.footer,t,n,i,o):null}));case"nativeSkillsModal":return a.createElement(v.nativeSkillsModal,L({key:F(t,e)},e));case"nativeToneInsightsModal":return a.createElement(v.nativeToneInsightsModal,L({key:F(t,e)},e));case"nativeLearnMoreModal":return a.createElement(v.nativeLearnMoreModal,L({key:F(t,e)},e));case"nativeSettingsModal":return a.createElement(v.nativeSettingsModal,L({key:F(t,e)},e));case"nativeFeedbackModal":return a.createElement(v.nativeFeedbackModal,L({key:F(t,e)},e));case"nativeGetStartedChecklistModal":return a.createElement(v.nativeGetStartedChecklistModal,L({key:F(t,e),designSystem:v,notify:function(){return w(e.id,e.onComplete,o)}},e));case"nativeKeyTakeawaysAssistantCard":return a.createElement(v.nativeKeyTakeawaysAssistantCard,L({key:F(t,e)},e));case"nativeProofitModal":return a.createElement(v.nativeProofitModal,L({key:F(t,e)},e));case"viewStack":return(0,r.zG)(d.fromNullable(e.views[e.selected]),d.fold((function(){return a.createElement("div",null,"unknown selected view, corresponding view is missing")}),(function(e){return O(e,t,n,i,o)})));case"dropDownMenuButton":return a.createElement(v.dropDownMenuButton,L({key:F(t,e),designSystem:v,onClick:P(o)},e));case"nativeExperimentalGBConsistencyUpsellFooter":return a.createElement(v.nativeExperimentalGBConsistencyUpsellFooter,L({key:F(t,e)},e));case"nativeExperimentalGBToneInsightsUpsellFooter":return a.createElement(v.nativeExperimentalGBToneInsightsUpsellFooter,L({key:F(t,e)},e));case"radioButtonsGroup":return a.createElement(v.radioButtonsGroup,L({key:F(t,e),designSystem:v,onClick:P(o)},e));case"assistantFeed":case"lensesSwitchPanel":case"gButton":throw new Error("".concat(e.type," can not be rendered directly"));default:return function(e){if(g.f.includes(e.type))throw new Error("".concat(e.type," component rendering is not implemented here"));return a.createElement("div",null,"unknown element")}(e)}},_=function(e,t,n){return"known"===e.kind?a.createElement(v.icon[e.name],{key:n,backgroundColor:t}):a.createElement(v.image,L({key:n},e,{backgroundColor:t}))},P=function(e){return function(t,n){return function(){return(0,r.zG)(t,k,(function(t){return w(n,t,e)}))}}};d.isSome(n)&&y.a.forEach(p.MH(n),(function(e){I(e)&&A.set(e.name.value,e)}));var R=i.reduce((function(e,t){return A.has(t.fromName)&&(e+=1),e+=1}),0),j=m.h.create([]);s.P.useSubscriptionTo((0,r.zG)(j,l.P((function(e){return e.length===R})),c.b(x))),s.P.useEffectOnDidMount(S);return a.createElement(M.o.Context.Provider,{value:{alertIds:[]}},O(t,E,i,(function(e){return j.modify((function(t){return D(t).concat([e])}))}),{alertRefs:[]}))};function F(e,t){return"".concat(e,".").concat(t.id)}},42500:(e,t,n)=>{n.d(t,{b:()=>a,o:()=>r});var r,i=n(88056),o=n(27378);(r||(r={})).Context=o.createContext(i.Y.invariantContent("AlertRefState"));var a=function(e){var t=e.children,n=e.alertIds;return o.createElement(r.Context.Provider,{value:{alertIds:n}},t)}},82890:(e,t,n)=>{n.d(t,{_:()=>H});var r=n(29866),i=n(54495),o=n(38983),a=n(32952),s=n(16782),l=n(95300),c=n(9922),u=n(24209),d=n(77176),p=n(60797),m=n(40649),f=n(41398),h=n(85985),g=n(93508),y=n(16118),v=n(24713),b=n(19429),w=n(81670),S=n(5114),x=n(92843),E=n(8125),I=n(95195),k=n(95574),C=n(45701),A=n(22232),T=n(83078),M=n(93756);n(99702),n(69936);new Map;var O=function(e,t){return _(e,(function(e,n){return t(n)}))},_=function(e,t){return(0,i.zG)(e,(n=t,function(e){for(var t,r=new Map,i=e.entries();!(t=i.next()).done;){var o=t.value,a=o[0],s=o[1];n(a,s)&&r.set(a,s)}return r}));var n};var P=n(81531),L=n(46680),N=n(21038),D=n(28811),R=n(31539),j=n(79880),F=n(26393);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onFeedRemove=new a.xQ,this.onFeedEmpty=new a.xQ,this._header=new s.t(1),this._feeds=new Map,this._currentCards=o.h.create(R.l.empty),this._feed=new l.X(void 0),this._feedStack=new l.X([]),this._cardIdToFocus=new a.xQ,this._subs=new c.w.Keeper,this._log=P.C8.Logging.getLogger("SDUIFeedManager",L.i.TRACE,L.T.Manager.getColor()),this._forceFeedInternalInfo=new a.xQ,this._changeFeed=function(e){var t=n;n._feed.next(e),(0,i.zG)(e.cards,R.l.applyDiff,b.UI(w.T.recover((function(e){return t._log.error("conflicts on diff apply",e)}))),(function(n){var r=t._currentCards.get(),i=n(r);if(r.entries.size>0&&0===i.entries.size){var o=t._feeds.get(e.feedId);void 0!==o&&t.onFeedEmpty.next(o)}t._currentCards.modify(n)}))};var r=u.T(this._feedStack.pipe(d.U((function(e){return S.fromNullable(e[e.length-1])})),p.oA,d.U((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),E=u.T(this._feedStack.pipe(m.g("length"),d.U((function(e){return S.fromNullable(e[e.length-1])})),p.oA,d.U((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),I=this._cardIdToFocus.pipe(f.M(this._feedStack.pipe(d.U((function(e){var t;return null===(t=e[e.length-1])||void 0===t?void 0:t.focusedCardId})))),h.h((function(e){var t=W(e,2);return t[0]!==t[1]})),d.U((function(e){return W(e,1)[0]})),f.M(this.feed),d.U((function(e){var t=W(e,2),r=t[0],i=t[1];return n._getFeedInternalInfo(i.feedId,N.j.Item.Id.from(r))}))),k=t.pipe(g.O(D.a.empty),y.G(),d.U((function(e){var t=W(e,2),n=t[0],r=t[1];return D.a.diff(n,r)})),d.U((function(e){return n._processSDUIItems(e)})),f.M(r),d.U((function(e){var t=W(e,2),n=t[0],r=t[1],o=r.feedOrd,a=r.feedFilter;return{feedId:r.feedId,cards:(0,i.zG)(n,x.v.filter(a,(function(e,t){return a(t)}),a)),feedOrd:o,itemIdToSelect:S.none}}))),C=u.T(E,I).pipe(f.M(t,this._currentCards),d.U((function(e){var t=W(e,3),n=t[0],r=n.feedOrd,o=n.feedFilter,a=n.feedId,s=n.itemIdToSelect,l=t[1],c=t[2],u=(0,i.zG)(l,R.l.iso.unwrap,(function(e){return(0,i.zG)(e.entries,(t=o,function(e){return O(e,t)}));var t}));return{feedId:a,cards:R.l.diffFromEntries(c.entries,u),feedOrd:r,itemIdToSelect:s}})));this._subs.push(u.T(k,C).subscribe(this._changeFeed)),this._subs.push(E.pipe(v.j("header")).subscribe((function(e){return n._header.next(e)})))}var t,n,_;return t=e,(n=[{key:"header",get:function(){return this._header.asObservable()}},{key:"feed",get:function(){return this._feed.pipe(h.h(E.$K))}},{key:"currentFeed",get:function(){return S.fromNullable(this._feed.getValue())}},{key:"_getFeed",value:function(e){var t=this._feeds.get(e);return void 0===t?I.t$("Cannot switch to feed. Feed with id '".concat(e,"' not found.")):I.F2(t)}},{key:"_getFeedInternalInfo",value:function(e,t){var n=(0,i.zG)(this._getFeed(e),I.UI((function(e){return e.content})),k.MH);return{feedId:e,feedFilter:function(e){var t=K(e.content);return!S.isNone(t)&&n.filtering.reduce((function(e,n){return!1===e?e:(0,i.zG)(t,S.chain((function(e){return S.fromNullable(e[n.property])})),S.fold((function(){return n.condition===j.j2.NotEqualTo}),(function(e){return n.condition===j.j2.EqualTo?e===n.value:e!==n.value})))}),!0)},feedOrd:(0,r.g_)(C.getMonoid())(n.ordering.map((function(e){return(0,i.zG)(C.ordNumber,C.contramap((function(t){return(0,i.zG)(K(t),S.chain((function(t){return S.fromNullable(t[e.orderBy])})),S.fold((function(){return Number.MAX_VALUE}),(function(t){return e.direction===j.di.Asc?t:-1*t})))})))}))),itemIdToSelect:S.some(t),header:n.header}}},{key:"pushFeed",value:function(e,t){var n=this;return(0,i.zG)(this._getFeed(e),I.UI((function(){var r=n._feedStack.getValue();return r=r.concat({feedId:e,focusedCardId:t?N.j.Item.Id.from(t):void 0}),n._feedStack.next(r),null})))}},{key:"popFeed",value:function(){var e=this._feedStack.getValue();e.length>1?(e=e.slice(0,e.length-1),this._feedStack.next(e)):this._log.warn("Invoked `popFeed()` when there are less than 2 feeds in the feed stack, this is a no-op.")}},{key:"focusCard",value:function(e){var t=this;return(0,i.zG)(this.currentFeed,I.Yo((function(){return"Cannot focus card when there is no active feed."})),I.UI((function(){return t._cardIdToFocus.next(e),null})))}},{key:"notifyCardFocused",value:function(e){var t=this._feedStack.getValue(),n=t[t.length-1];(0,A.kG)(void 0!==n),t=t.slice(0,t.length-1).concat(G({},n,{focusedCardId:e})),this._feedStack.next(t)}},{key:"_processSDUIItems",value:function(e){var t=this;return x.v.fromMutation((function(n){var r=t;(0,i.zG)(e,x.v.forEach((function(e){if(void 0!==r._feeds.get(e.id)){var t=r;r._feeds.delete(e.id),(0,i.zG)(r.currentFeed,S.filter((function(t){return t.feedId.toString()===e.id.toString()})),T.bw((function(){return t.onFeedRemove.next(e)})))}else n.set(e.id,M.t$(e))}),(function(e,t){if("assistantFeed"===t.content.type){var o=t.content;if(void 0!==r._feeds.get(e.id)){var a=r;r._feeds.set(e.id,G({},t,{content:o})),(0,i.zG)(r.currentFeed,S.filter((function(t){return t.feedId===e.id})),S.map((function(e){return a._header.next(o.header)})))}else r._log.warn("Feed with id '".concat(e.id,"' not found for update"))}else n.set(e.id,M.Hk(e,t))}),(function(e){if("assistantFeed"===e.content.type){var t=e.content;r._feeds.set(e.id,G({},e,{content:t}))}else n.set(e.id,M.F2(e))})))}))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&z(t.prototype,n),_&&z(t,_),e}();function K(e){return(0,i.zG)(F.a.findFirst(e,"assistantCard"),S.chain((function(e){return S.fromNullable(e.properties)})))}},31903:(e,t,n)=>{n.d(t,{Q:()=>l});var r=n(54495),i=n(37492),o=n(51072),a=n(81531);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._capiSDUIClient=t,this._log=a.C8.Logging.getLogger("SDUIFeedbackServiceImpl")}var t,n,l;return t=e,(n=[{key:"sendUserAction",value:function(e,t){var n=this;(0,r.zG)(this._capiSDUIClient.sendUserAction(e,t),o.Vi,(function(e){return e.catch((function(e){i.EP.isDroppedError(e)?n._log.debug("Stopped listening for sendUserAction message acknowledge",e):i.YG.isNotConnectedError(e)?n._log.warn("Failed to sendUserAction as CAPI was not connected",e):n._log.error("Failed to sendUserAction",e)}))}))}}])&&s(t.prototype,n),l&&s(t,l),e}()},58954:(e,t,n)=>{n.d(t,{p:()=>r});var r,i,o=n(27378),a=n(25186),s=n(54495),l=n(5739),c=n(40151),u=n(28043),d=n(77176),p=n(34217),m=n(15646),f=n(35248),h=n(18702);(i=r||(r={})).ListCard=p.UI.Node.make((function(){return p.UI.mount(p.UI.Node.empty,(function(){return c.E}))})),i.SingleCard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.P;return p.UI.Node.make((function(n){var r=n.view,i=n.notify,c=r("view");return o.createElement(l.F.Fragment,null,c.pipe(u.x((function(e,t){return e.equals(t)})),d.U((function(n){return o.createElement(t,{key:n.id,sduiRootId:n.id,content:n.cardDSL.value,designSystem:e,notify:function(e,t,r){return i({type:m.lY.Type.sduiCardAction,sourceId:e,cardId:n.id,actions:t,scope:r})()},transitions:a.Sb(n.transitions),prevContent:n.prevCardDSL,onAnimationEnd:i({type:m.eI.Kind.completeTransitionTo,id:n.id,transitionId:n.visualState.transitionId}),onMount:s.Q1})}))))}))}},52726:(e,t,n)=>{n.d(t,{p:()=>d});var r=n(54495),i=n(5114),o=n(83078),a=n(34217),s=n(35416),l=n(6100),c=n(76974),u=n(77176);function d(e,t){return a.Z.composeKnot({content:a.Z.fromSideEffect(r.Q1,m(e,t)),root:p()})}var p=function(){return function(){return c.of({})}};function m(e,t){var n=e.view(t.getActiveAlertsCount).view((function(e){return 0===e})),a=e.view(l.v.Prism.getFeedItems());return e.pipe(u.U(s.In.getActiveItem),u.U((function(e){if(i.isNone(e))return{root:"empty",card:{kind:"empty"}};var s=o.MH(e),l=a.get(),c=(0,r.zG)(l.getAt(l.size-1),i.exists((function(e){return e.id===s.id})));return{root:s.id,card:t.viewState(n.get(),c)(s)}})))}},94810:(e,t,n)=>{n.d(t,{c:()=>r});var r,i=n(27378),o=n(5739),a=n(5114),s=n(34217);!function(e){var t,n=function(e){return s.UI.Knot.make(l,{card:e})};!function(e){e.onMount="onMount"}(t=e.ActionsKind||(e.ActionsKind={})),e.assistant=function(e){return s.UI.Knot.make(r,{content:n(e)})};var r=e.AssistantBox=s.UI.Grid.make((function(e){var n=e.notify,r=e.slots;return i.createElement(o.F.div,{id:"assistant-feed-wrapper",mount:function(e){return n({kind:t.onMount,element:a.fromNullable(e)})()}},r.content)}));e.card=n;var l=e.IdProvider=s.UI.Grid.make((function(e){var t=e.slots,n=e.state;return i.createElement(o.F.div,{"data-id":n},t.card)}))}(r||(r={}))},8821:(e,t,n)=>{n.d(t,{N:()=>r});var r,i,o,a=n(25186),s=n(54495),l=n(77176),c=n(60797),u=n(41398),d=n(85985),p=n(5114),m=n(35416),f=n(40330);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o=r||(r={}),((i=o.PrevNextNavigation||(o.PrevNextNavigation={})).Events||(i.Events={})).fromSduiCardActions=(0,s.ls)(l.U((function(e){var t=(0,s.zG)(e.actions,a.hX(f.zx.Action.isTransitionAction));return e.actions.find((function(e){return"prevCard"===e.type}))?p.some({kind:"prevClicked",transitions:t}):e.actions.find((function(e){return"nextCard"===e.type}))?p.some({kind:"nextClicked",transitions:t}):p.none})),c.oA),i.sideEffect=function(e,t,n){return{id:"SingleCardAssistant.prevNextNavigation",when:m.nL.Effect.When.isSidebarOpen,what:m.nL.Effect.ItemsApplicator.create((0,s.zG)(e,u.M(t.pipe(d.h(m.nL.hasCards))),l.U((function(e){var t=g(e,2),n=t[0],r=t[1];return(0,s.zG)(r.currentLens.cardIndex,p.chain((function(e){return r.currentLens.items.getAt("nextClicked"===n.kind?e+1:e-1)})))})),c.oA,l.U((function(e){return function(t){return m.nL.Prism.getLensWithItems().modify(n.selectItemById(e.id),t)}}))))}}},64998:(e,t,n)=>{n.d(t,{i:()=>r});var r,i,o,a=n(54495),s=n(8125),l=n(95195),c=n(5114),u=n(83078),d=n(81531),p=n(35416),m=n(91605),f=n(26393),h=n(79880);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i=r||(r={}),o=(0,s.HP)(d.C8.Logging.getLogger),(i.DisablePrevNextButtons||(i.DisablePrevNextButtons={})).create=function(e){var t=o("SingleCardAssistant.Transformers.disablePrevNextButtons");return function(n){var r=n.state,i=n.metadata;if(!p.nL.hasItems(r))return t.trace("state has no feed items, returning original state"),l.t$({state:r,metadata:i});var o=r;return(0,a.zG)(o.currentLens.cardIndex,c.chain((function(e){return(0,a.zG)(p.In.getActiveItem(r.currentLens),c.map((function(t){return(0,a.bc)(t,e)})))})),c.map((function(t){var n=b(t,2),i=n[0],a=n[1];return p.nL.Prism.getLensWithItems().modify((function(t){if(!m.e.isSDUIItem(i)||!c.isSome(i.cardDSL))return t;var n=e.clone(i),o=u.MH(n.cardDSL),s=!1,l=f.a.map(o,(function(e){if("button"===e.type&&e.name.value===h.MU.ButtonPrev){var t=0===a?h.BN.Disabled:h.BN.Enabled;return s=s||t!==e.state,v({},e,{state:t})}if("button"===e.type&&e.name.value===h.MU.ButtonNext){var n=a===r.currentLens.items.size-1?h.BN.Disabled:h.BN.Enabled;return s=s||n!==e.state,v({},e,{state:n})}return e}));return c.isSome(l)&&s?(n=Object.assign(n,{cardDSL:l}),v({},t,{items:t.items.add(n)})):t}),o)})),c.getOrElse((function(){return r})),(function(e){return l.t$({state:e,metadata:i})}))}}},60984:(e,t,n)=>{n.d(t,{Q:()=>r});var r,i=n(27378),o=n(34217);(r||(r={})).Empty=o.UI.Node.make((function(){return i.createElement("div",null)}))},81136:(e,t,n)=>{n.d(t,{t:()=>s});var r=n(54495),i=n(73864);function o(e,t){return{decode:e.decode,encode:t.encode}}function a(e){return{decode:e.decode,encode:r.yR}}i.Z_,i.Rx,i.O7,i.dX,i.mI;var s,l,c,u,d,p,m=n(32281),f=n(11577),h=n(73975),g=n(95195),y=n(22232),v=n(15646),b=n(98992);l=s||(s={}),c=l.Type=v.lY.Type.sduiCardAction,u=f.n(m.z2)(b.eX),l.eq=h.f7((function(e,t){return e.type===c&&e.type===t.type&&e.cardId===t.cardId&&u.equals(e.actions,t.actions)})),d=o(f.n(i.z2)(b.eX),{encode:function(e){return e}}),p=(0,r.ls)(d.decode,g.Vn((function(e){return new Error(i.ii(e))}))),l.isSduiCardAction=function(e){return e.type===s.Type&&(n=e.actions,g.tO(p(n)))&&"object"==typeof(t=e.scope)&&null!=t&&Object.keys(t).every((function(e){var n=t[e];return"alertRefs"===e?Array.isArray(n):((0,y.L0)(e),!1)}));var t,n}},84174:(e,t,n)=>{n.d(t,{q:()=>Y});var r=n(54495),i=n(5114),o=n(95195),a=n(22232),s=n(55415),l=n(71249),c=n(83078),u=n(8125),d=n(25186),p=n(5920),m=n(81531),f=n(46680),h=n(33678),g=n(74660),y=n(66896),v=n(15646),b=n(81136),w=n(35416),S=n(6100),x=n(9922),E=n(32952),I=n(19751),k=n(77176),C=n(41398),A=n(85985),T=n(28043),M=n(60797),O=n(40151),_=n(16892),P=n(21038),L=n(12054),N=n(40330),D=n(17594),R=n(31668),j=n(91605),F=n(63513);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){G(e,t,n[t])}))}return e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}var V,Y=function(){function e(t,n,s,l,c,u,y,S){var C,A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new h.A,T=this;z(this,e),this._sduiService=t,this._checksFeedCapabilities=n,this._lensState=s,this._sduiManager=l,this._sduiFeedManager=c,this._alertReader=u,this._getByRawAlertId=y,this._platformEnvironment=A,this._log=m.C8.Logging.getLogger("SDUICardsViewModelImpl",f.i.DEBUG),this._subs=new x.w.Keeper,this.sduiActionEvents=new E.xQ,this.actionEvents=new E.xQ,this.sduiAlertIdResolver=(0,r.ls)(F.wQ.Id.create,this._getByRawAlertId,i.map((function(e){return P.j.AlertId.from(e.id)}))),this._sduiActionsHandler=this.sduiActionEvents.pipe(I.skipBy(b.t.eq),k.U((function(e){var t=e.cardId,n=e.sourceId,s=e.actions,l=e.scope;return function(e){var c=T;return T._log.info("sdui card action:",{cardId:t,actions:s}),(0,r.zG)(s,d.u4(e,(function(e,u){switch(u.type){case"notify":return c._sduiService.sendUserAction(n,u.userAction),e;case"removeRoot":var m=c;return(0,r.zG)(e.currentLens.items.get(t),i.map((function(e){return e.value})),i.chain((function(e){return(0,r.zG)(m._resolveSDUIStrongAlertRef(l.alertRefs),i.map((function(t){return{alertIds:t,card:e}})))})),i.fold((function(){var n=m,a=s.some(N.zx.Action.isApplyAlertsAction)?e:V.itemsLens.set((0,r.zG)(p.l.update(e.currentLens.items,t,(function(e){return n._checksFeedCapabilities.remove(r.W8,r.W8)(e)})),o.g_((function(){return e.currentLens.items}),r.yR)),e);return(0,r.zG)(e.currentLens.items.get(t),i.filterMap((function(e){return(0,r.zG)(n._checksFeedCapabilities.hasActiveAlert(e.value),i.map((function(e){return e.alert})),i.filter((function(e){return!D.$.isPremium(e)&&!s.some(N.zx.Action.isApplyAlertsAction)})),i.map((function(t){return(0,r.bc)(e.value,t)})))})),i.fold((function(){return n._sduiManager.pushRemovedRoot([P.j.Item.Id.from(t),L.i5.RemoveRootSDUIAction]),a}),(function(t){var o=H(t,2),a=o[0],s=o[1],l=n;return requestAnimationFrame((function(){return l.actionEvents.next({type:v.lY.Type.alertIgnore,alertId:s.id,id:a.id,eligibleForSurvey:s.dismissSurvey,drilldownSuggestionIds:s.alertType===g.bZ.Type.Synfony?(0,r.zG)(a.synfonySelection,i.getOrElse((function(){return[]}))):void 0})})),e})))}),(function(t){var n=t.alertIds,o=t.card,a=m;return s.some(N.zx.Action.isApplyAlertsAction)||requestAnimationFrame((function(){var e=a;(0,r.zG)(n,d.fw(i.option)((function(t){return e._alertReader.getById(e._mapToDenaliAlertId(t))})),i.map(d.UI((function(t){return e.actionEvents.next({type:v.lY.Type.alertIgnore,alertId:t.id,id:o.id,eligibleForSurvey:t.dismissSurvey,drilldownSuggestionIds:t.alertType===g.bZ.Type.Synfony?(0,r.zG)(o.synfonySelection,i.getOrElse((function(){return[]}))):void 0})})))),a._sduiManager.pushRemovedAlerts([n,L.i5.RemoveAlertsSDUIAction])})),e})));case"applyAlerts":var f=c;return(0,r.zG)(e.currentLens.items.get(t),i.map((function(e){return e.value})),o.Yo((function(){return new Error("unknown cardId: ".concat(t))})),o.Pd((function(e){return f._log.error("error in processing applyAlerts action",e)}),(function(e){var t=f;(0,r.zG)(f._resolveSDUIStrongAlertRef(l.alertRefs),i.fold((function(){var n=t,o=(0,r.zG)(t._checksFeedCapabilities.hasActiveAlert(e),i.map((function(e){return e.alert})));i.isNone(o)?t._log.error("error in processing applyAlerts action: card must have active alert"):requestAnimationFrame((function(){return n.actionEvents.next({type:v.lY.Type.alertApply,id:e.id,eligibleForSurvey:o.value.acceptSurvey,eligibleForGbPrompt:o.value.gbPrompt,alertId:o.value.id,alternativeIndex:u.alternativeIndex,cardType:v.lY.getCardType({activeAlert:o.value})})}))}),(function(n){var o=t;requestAnimationFrame((function(){var t=o;(0,r.zG)(n,d.fw(i.option)((function(e){return t._alertReader.getById(t._mapToDenaliAlertId(e))})),i.map(d.UI((function(n){return t.actionEvents.next({type:v.lY.Type.alertApply,id:e.id,eligibleForSurvey:n.acceptSurvey,eligibleForGbPrompt:n.gbPrompt,alertId:n.id,alternativeIndex:u.alternativeIndex,cardType:v.lY.getCardType({activeAlert:D.$.fromModel(n)})})})))),o._sduiManager.pushRemovedAlerts([n,L.i5.RemoveAlertsSDUIAction])}))})))})),(function(){return e}));case"closeCard":return e.patch({currentLens:w.nL.hasItems(e)?c._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:g.l$.sidebar});case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"removeAlerts":case"openCreateSnippetModal":case"showHighlights":case"hideHighlights":case"selectAlternative":case"newRevision":return e;case"openLink":return c._platformEnvironment.actions.openPopup(new R.Z(u.url)),e;case"pushAssistantFeed":var h=c;return requestAnimationFrame((function(){return(0,r.zG)(h._sduiFeedManager.pushFeed(P.j.Item.Id.from(u.feedId),u.cardId),o.Vn((function(e){return h._log.error(e),e})))})),e;case"popAssistantFeed":var y=c;return requestAnimationFrame((function(){return y._sduiFeedManager.popFeed()})),e;case"focusAssistantCard":var b=c;return requestAnimationFrame((function(){return b._sduiFeedManager.focusCard(u.cardId)})),e;case"switchView":var S={where:u.where,selected:u.selected,sduiRootId:P.j.Item.Id.from(t)};return c._switchCallerCard(S),c._switchActiveCard(S),c._switchActiveFeed(S),e;default:return(0,a.L0)(u),e}})),(function(e){return e.patch({alertSource:g.l$.sidebar})}))}}))),this._focusedItem=this._lensState.view((function(e){return w.nL.hasItems(e)?(0,r.zG)(e.currentLens.cardIndex,i.chain((function(t){return e.currentLens.items.getAt(t)}))):i.none})),(C=this._subs).push.apply(C,K(this._integrateCardsViewModel(S)).concat([this._handleSduiCardOnFocus(),this._handleSduiFeedRemove(),this._handleSduiFeedEmpty(),this._handleSduiOnEmptyEvents()]))}var t,n,u;return t=e,(n=[{key:"_handleSduiOnEmptyEvents",value:function(){var e=this;return this._sduiManager.onAlertsRefEmpty.pipe(C.M(this._focusedItem),A.h((function(e){var t=H(e,2),n=t[0].sduiRootId,o=t[1];return(0,r.zG)(o,i.filter((function(e){return e.id===n})),i.isSome)})),k.U((function(e){return H(e,1)[0]}))).subscribe((function(t){var n=t.sduiId,r=t.sduiRootId,i=t.emptyStrongAlertRef;return e.sduiActionEvents.next({type:b.t.Type,sourceId:n,cardId:r,actions:i.onEmpty,scope:{alertRefs:i.alertIds}})}))}},{key:"_handleSduiFeedRemove",value:function(){var e=this;return this._sduiFeedManager.onFeedRemove.subscribe((function(t){(0,a.kG)("assistantFeed"===t.content.type),e.sduiActionEvents.next({type:b.t.Type,sourceId:t.id,cardId:t.id,actions:t.content.onRemove,scope:{alertRefs:[]}})}))}},{key:"_handleSduiFeedEmpty",value:function(){var e=this;return this._sduiFeedManager.onFeedEmpty.subscribe((function(t){(0,a.kG)("assistantFeed"===t.content.type),t.content.onEmpty&&e.sduiActionEvents.next({type:b.t.Type,sourceId:t.id,cardId:t.id,actions:t.content.onEmpty,scope:{alertRefs:[]}})}))}},{key:"_integrateCardsViewModel",value:function(e){return[this.actionEvents.subscribe(e.actionEvents),e.actionEvents.pipe(A.h(b.t.isSduiCardAction)).subscribe(this.sduiActionEvents)]}},{key:"_handleSduiCardOnFocus",value:function(){var e=this;return this._focusedItem.pipe(T.x((function(e,t){return i.getEq(_.s.eqById).equals(e,t)})),M.oA,A.h(j.e.isSDUIItem),k.U((0,r.ls)(s.ei("id"),P.j.Item.Id.from)),k.U((function(t){return(0,r.zG)(e._sduiManager.findFirstCardWithContent(t),i.map((function(e){return[e,t]})))})),M.oA).subscribe((function(t){var n=H(t,2),o=n[0],a=o.card,s=o.parentStrongAlertRef,l=n[1];e._sduiFeedManager.notifyCardFocused(l),e.sduiActionEvents.next({type:b.t.Type,sourceId:a.id,cardId:l,actions:a.onFocus,scope:{alertRefs:(0,r.zG)(s,i.map((function(e){return e.alertIds})),i.getOrElse((function(){return[]})))}})}))}},{key:"getApplicatorEffects",value:function(){return(0,r.zG)([[this._sduiActionsHandler,"sduiActions"]],l.UI((function(e){var t=H(e,2),n=t[0],r=t[1];return{id:"cardsViewModel.effects.".concat(r),when:y.R.isWithAlertsId,what:w.nL.Effect.Applicator.create(n)}})))}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"_switchCallerCard",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"_switchActiveCard",value:function(e){var t=this;(0,r.zG)(this._focusedItem.get(),i.filter((function(t){return e.sduiRootId!==t.id})),c.bw((function(n){return t._sduiManager.pushSwitchView(W({},e,{sduiRootId:P.j.Item.Id.from(n.id)}))})))}},{key:"_switchActiveFeed",value:function(e){var t=this;(0,r.zG)(this._sduiFeedManager.currentFeed,i.filter((function(t){return t.feedId!==e.sduiRootId})),c.bw((function(n){var r=n.feedId;return t._sduiManager.pushSwitchView(W({},e,{sduiRootId:r}))})))}},{key:"_resolveSDUIStrongAlertRef",value:function(e){return(0,r.zG)(e,d.UI(this.sduiAlertIdResolver),d.vP(i.option))}},{key:"_mapToDenaliAlertId",value:function(e){return"".concat(e)}}])&&B(t.prototype,n),u&&B(t,u),e}();!function(e){e.itemsLens=w.nL.Prism.getLens().compose(S.v.Prism.items),e.createLegacy=function(e,t,n,o,a,s,l,u){var d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new h.A;return(0,r.zG)(c.gz(e,o,a),i.fold((function(){return new V.Mock}),(function(e){var r=H(e,3),i=r[0],o=r[1],a=r[2];return new Y(i,t,n,o,a,s,l,u,d)})))};e.Mock=function e(){z(this,e),this.actionEvents=new E.xQ,this.sduiActionEvents=new E.xQ,this.sideEffect={id:"cardsViewModelMock",when:y.R.isWithAlertsId,what:w.nL.Effect.Applicator.create(O.E)},this.getApplicatorEffects=function(){return[{id:"cardsViewModelMock",when:y.R.isWithAlertsId,what:w.nL.Effect.Applicator.create(O.E)}]},this.dispose=u.Q1}}(V||(V={}))},93476:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},54933:e=>{e.exports=function(e){return e[1]}},46149:(e,t,n)=>{function r(e){return!(!e||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}function i(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){const n=e.valueOf(),r=t.valueOf();if(n===r||n!=n&&r!=r)return!0;if(!n||!r)return!1}return!(!r(e)||!e.equals(t))}n.d(t,{AC:()=>a});function o(e){if("number"==typeof e)return e&e;if("function"==typeof e.valueOf){const t=e.valueOf();if(t!==e)return o(t)}return r(e)?e.hashCode():a(String(e))}function a(e){let t=0;if(null==e||0===e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}class s extends Error{constructor(e){let t="";for(const n of e.slice(0,2)){let e="";e=n instanceof Error?`${n.name}(${n.message})`:`${n}`,t+=", "+e}t=t.slice(2),e.length>2&&(t+=", ..."),super(t),this.name="CompositeError",this.errorsRef=e;this.constructor=s,this.__proto__=s.prototype}errors(){return this.errorsRef.slice()}}class l extends Error{constructor(e){super(e),this.name="DummyError";this.constructor=l,this.__proto__=l.prototype}}class c extends Error{constructor(e){super(e),this.name="NoSuchElementError";this.constructor=c,this.__proto__=c.prototype}}class u extends Error{constructor(e){super(e),this.name="IllegalInheritanceError";this.constructor=u,this.__proto__=u.prototype}}class d extends Error{constructor(e){super(e),this.name="IllegalStateError";this.constructor=d,this.__proto__=d.prototype}}class p extends Error{constructor(e){super(e),this.name="IllegalArgumentError";this.constructor=p,this.__proto__=p.prototype}}class m extends Error{constructor(e){super(e),this.name="NotImplementedError";this.constructor=m,this.__proto__=m.prototype}}class f extends Error{constructor(e){super(e),this.name="TimeoutError";this.constructor=f,this.__proto__=f.prototype}}function h(e){return function(){const t=Array.prototype.slice.call(arguments);return t.push(this),e.apply(void 0,t)}}function g(e,t,n){const r=e,i=r.prototype,o="fantasy-land/",a="equals",s=o+a,l="map",c=o+l,u="ap",d=o+u,p=o+"of",m="chain",f=o+m,g="chainRec",y=o+g;i.equals?i[s]=i.equals:n&&(i[s]=h(n.equals)),i.map?i[c]=i.map:t&&(i[c]=h(t.map)),i.ap?i[d]=i.ap:t&&(i[d]=h(t.ap)),r.pure?r[p]=r.pure:t&&(r[p]=t.of),i.chain?i[f]=i.chain:t&&(i[f]=h(t.chain)),r.chainRec?r[y]=r.chainRec:t&&(r[y]=t.chainRec)}class y{constructor(e,t){this._isRight="right"===t,this.value=e}isLeft(){return!this._isRight}isRight(){return this._isRight}contains(e){return this._isRight&&i(this.value,e)}exists(e){return this._isRight&&e(this.value)}filterOrElse(e,t){return this._isRight?e(this.value)?this:b(t()):this}flatMap(e){return this._isRight?e(this.value):this}chain(e){return this.flatMap(e)}ap(e){return e.flatMap((e=>this.map(e)))}fold(e,t){return this._isRight?t(this.value):e(this.value)}forAll(e){return!this._isRight||e(this.value)}get(){if(this._isRight)return this.value;throw new c("left.get()")}getOrElse(e){return this._isRight?this.value:e}getOrElseL(e){return this._isRight?this.value:e()}map(e){return this._isRight?S(e(this.value)):this}forEach(e){this._isRight&&e(this.value)}swap(){return this._isRight?b(this.value):S(this.value)}toOption(){return this._isRight?k(this.value):C}equals(e){return null!=e&&(this._isRight===e._isRight&&i(this.value,e.value))}hashCode(){return this._isRight?o(this.value)<<2:o(this.value)<<3}static pure(e){return new w(e)}static left(e){return b(e)}static right(e){return S(e)}static map2(e,t,n){return e.isLeft()?e:t.isLeft()?t:S(n(e.value,t.value))}static map3(e,t,n,r){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:S(r(e.value,t.value,n.value))}static map4(e,t,n,r,i){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:S(i(e.value,t.value,n.value,r.value))}static map5(e,t,n,r,i,o){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:i.isLeft()?i:S(o(e.value,t.value,n.value,r.value,i.value))}static map6(e,t,n,r,i,o,a){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:i.isLeft()?i:o.isLeft()?o:S(a(e.value,t.value,n.value,r.value,i.value,o.value))}static tailRecM(e,t){let n=e;for(;;){const e=t(n);if(!e.isRight())return e;const r=e.value;if(r.isRight())return S(r.value);n=r.value}}}class v extends y{constructor(e){super(e,"left")}}function b(e){return new v(e)}class w extends y{constructor(e){super(e,"right")}}function S(e){return new w(e)}const x={equals:(e,t)=>e?e.equals(t):!t,map:(e,t)=>t.map(e),ap:(e,t)=>t.ap(e),of:y.pure,chain:(e,t)=>t.flatMap(e),chainRec:(e,t)=>y.tailRecM(t,(t=>e(y.left,y.right,t)))};g(y,x,x);class E{constructor(e,t){this._isEmpty=null!=t?t:null==e,this.value=e}get(){if(!this._isEmpty)return this.value;throw new c("Option.get")}getOrElse(e){return this._isEmpty?e:this.value}orNull(){return this._isEmpty?null:this.value}orUndefined(){return this._isEmpty?void 0:this.value}getOrElseL(e){return this._isEmpty?e():this.value}orElse(e){return this._isEmpty?e:this}orElseL(e){return this._isEmpty?e():this}isEmpty(){return this._isEmpty}nonEmpty(){return!this._isEmpty}map(e){return this._isEmpty?C:k(e(this.value))}flatMap(e){return this._isEmpty?C:e(this.value)}chain(e){return this.flatMap(e)}ap(e){return e.flatMap((e=>this.map(e)))}filter(e){return this._isEmpty||!e(this.value)?C:this}fold(e,t){return this._isEmpty?e():t(this.value)}contains(e){return!this._isEmpty&&i(this.value,e)}exists(e){return!this._isEmpty&&e(this.value)}forAll(e){return this._isEmpty||e(this.value)}forEach(e){this._isEmpty||e(this.value)}equals(e){return null!=e&&(this.nonEmpty()&&e.nonEmpty()?i(this.value,e.value):this.isEmpty()&&e.isEmpty())}hashCode(){return this._isEmpty?2433880:null==this.value?9735524:o(this.value)<<2}static of(e){return null!=e?k(e):C}static some(e){return new E(e,!1)}static none(){return C}static empty(){return C}static pure(e){return k(e)}static map2(e,t,n){return e.nonEmpty()&&t.nonEmpty()?k(n(e.value,t.value)):C}static map3(e,t,n,r){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()?k(r(e.value,t.value,n.value)):C}static map4(e,t,n,r,i){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()?k(i(e.value,t.value,n.value,r.value)):C}static map5(e,t,n,r,i,o){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()&&i.nonEmpty()?k(o(e.value,t.value,n.value,r.value,i.value)):C}static map6(e,t,n,r,i,o,a){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()&&i.nonEmpty()&&o.nonEmpty()?k(a(e.value,t.value,n.value,r.value,i.value,o.value)):C}static tailRecM(e,t){let n=e;for(;;){const e=t(n);if(!e.nonEmpty())return C;{const t=e.value;if(t.isRight())return k(t.value);n=t.value}}}}class I extends E{constructor(e){super(e,!1)}}function k(e){return new I(e)}const C=new class extends E{constructor(){super(void 0,!0)}},A={equals:(e,t)=>e?e.equals(t):!t,map:(e,t)=>t.map(e),ap:(e,t)=>t.ap(e),of:E.pure,chain:(e,t)=>t.flatMap(e),chainRec:(e,t)=>E.tailRecM(t,(t=>e(y.left,y.right,t)))};g(E,A,A);class T{constructor(e,t){this._isSuccess="success"===t,this.value=e}isSuccess(){return this._isSuccess}isFailure(){return!this._isSuccess}get(){if(!this._isSuccess)throw this.value;return this.value}getOrElse(e){return this._isSuccess?this.value:e}getOrElseL(e){return this._isSuccess?this.value:e()}orNull(){return this._isSuccess?this.value:null}orUndefined(){return this._isSuccess?this.value:void 0}orElse(e){return this._isSuccess?this:e}orElseL(e){return this._isSuccess?this:e()}failed(){return this._isSuccess?P(new c("try.failed()")):O(this.value)}fold(e,t){return this._isSuccess?t(this.value):e(this.value)}filter(e){if(!this._isSuccess)return this;try{return e(this.value)?this:P(new c(`Predicate does not hold for ${this.value}`))}catch(e){return P(e)}}flatMap(e){if(!this._isSuccess)return this;try{return e(this.value)}catch(e){return P(e)}}chain(e){return this.flatMap(e)}ap(e){return e.flatMap((e=>this.map(e)))}map(e){return this._isSuccess?T.of((()=>e(this.value))):this}forEach(e){this._isSuccess&&e(this.value)}recover(e){return this._isSuccess?this:T.of((()=>e(this.value)))}recoverWith(e){try{return this._isSuccess?this:e(this.value)}catch(e){return P(e)}}toOption(){return this._isSuccess?k(this.value):C}toEither(){return this._isSuccess?S(this.value):b(this.value)}equals(e){return null!=e&&(this._isSuccess?e._isSuccess&&i(this.value,e.value):!e._isSuccess&&i(this.value,e.value))}hashCode(){return this._isSuccess,o(this.value)}static of(e){try{return O(e())}catch(e){return P(e)}}static pure(e){return T.success(e)}static unit(){return N}static success(e){return O(e)}static failure(e){return P(e)}static raise(e){return P(e)}static map2(e,t,n){if(e.isFailure())return e;if(t.isFailure())return t;try{return O(n(e.value,t.value))}catch(e){return P(e)}}static map3(e,t,n,r){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;try{return O(r(e.value,t.value,n.value))}catch(e){return P(e)}}static map4(e,t,n,r,i){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;try{return O(i(e.value,t.value,n.value,r.value))}catch(e){return P(e)}}static map5(e,t,n,r,i,o){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;if(i.isFailure())return i;try{return O(o(e.value,t.value,n.value,r.value,i.value))}catch(e){return P(e)}}static map6(e,t,n,r,i,o,a){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;if(i.isFailure())return i;if(o.isFailure())return o;try{return O(a(e.value,t.value,n.value,r.value,i.value,o.value))}catch(e){return P(e)}}static tailRecM(e,t){let n=e;for(;;)try{const e=t(n);if(e.isFailure())return e;const r=e.get();if(r.isRight())return O(r.value);n=r.value}catch(e){return P(e)}}}class M extends T{constructor(e){super(e,"success")}}function O(e){return new M(e)}class _ extends T{constructor(e){super(e,"failure")}}function P(e){return new _(e)}const L={equals:(e,t)=>e?e.equals(t):!t,map:(e,t)=>t.map(e),ap:(e,t)=>t.ap(e),of:T.pure,chain:(e,t)=>t.flatMap(e),chainRec:(e,t)=>T.tailRecM(t,(t=>e(y.left,y.right,t)))};g(T,L,L);const N=O(void 0);class D{static of(e){return new R(e)}static empty(){return F}static collection(...e){return new z(e)}static cancelAll(e){let t=null;for(const n of e)try{n.cancel()}catch(e){t?t.push(e):t=[e]}if(t)throw 1===t.length?t[0]:new s(t)}}class R extends D{constructor(e){super(),this.thunk=e}cancel(){if(null!==this.thunk){const e=this.thunk;this.thunk=null,e()}}}class j{constructor(){this._funIsDummy=!0}cancel(){}}const F=new j;class U{static of(e){return new B(e)}static empty(){return new G}static alreadyCanceled(){return W}static collection(...e){return new z(e)}}class z extends U{constructor(e){super(),this._refs=e}isCanceled(){return!this._refs}cancel(){if(this._refs)try{D.cancelAll(this._refs)}finally{delete this._refs}}}class B extends R{isCanceled(){return null===this.thunk}}class G extends U{constructor(){super(...arguments),this.canceled=!1}isCanceled(){return this.canceled}cancel(){this.canceled=!0}}const W=new class extends j{isCanceled(){return!0}};new class extends j{isCanceled(){return!0}cancel(){}update(e){return e.cancel(),this}};class H{constructor(e){this._underlying=e,this._canceled=!1}update(e){return this._canceled?e.cancel():this._underlying=e,this}isCanceled(){return this._canceled}cancel(){this._canceled||(this._canceled=!0,this._underlying&&(this._underlying.cancel(),delete this._underlying))}collapse(){if(this._underlying&&this._underlying instanceof H){const e=this._underlying;this._underlying=e._underlying,this._canceled=e._canceled}return this}clear(){return this._canceled||(this._underlying=void 0),this}static empty(){return new H}static of(e){return new H(D.of(e))}}class K{constructor(e){this._refs=e?e.slice(0):[]}cancel(){if(this._refs)try{D.cancelAll(this._refs)}finally{delete this._refs}}isCanceled(){return!this._refs}push(e){return this._refs?this._refs.push(e):e.cancel(),this}pop(){return this._refs&&this._refs.pop()||D.empty()}static empty(){return new K}static collection(...e){return new K(e)}}class ${constructor(e){this._underlying=e||F,this._chained=!1}update(e){if(!e)throw new p("cannot update to null value");return this._underlying?this._chained?(this._underlying.update(e),this):(this._underlying=e,this):(e.cancel(),this)}cancel(){this._underlying&&(this._underlying.cancel(),this._chained=!1,delete this._underlying)}clear(){this._underlying&&(this._underlying=F,this._chained=!1)}isCanceled(){return!this._underlying||this._chained&&this._underlying.isCanceled()}chainTo(e){if(!e)throw new p("cannot chain to null value");if(e===this)return this;if(!this._underlying)return e.cancel(),this;let t=e,n=!0;for(;t&&n;)if(t._chained){const e=t._underlying;if(e===this)return this;t=e,n=!!e}else t._underlying||(t=void 0),n=!1;if(t){const e=this._underlying;this._underlying=t,this._chained=!0,e instanceof j||t.update(e)}else this.cancel();return this}static empty(){return new $}}class V{toString(){return this.label.toUpperCase()}}const Y=1e3,Q=1e6,Z=1e3*Q,q=60*Z,J=60*q,X=24*J,ee=9007199254740992,te=Math.trunc||function(e){return isNaN(e)?NaN:e>0?Math.floor(e):Math.ceil(e)};function ne(e,t,n){return e>n?ee:e<-n?-9007199254740992:e*t}const re=new class extends V{constructor(){super(...arguments),this.ord=0,this.label="nanoseconds"}convert(e,t){return t.toNanos(e)}toNanos(e){return e}toMicros(e){return te(e/1e3)}toMillis(e){return te(e/(Q/1))}toSeconds(e){return te(e/(Z/1))}toMinutes(e){return te(e/(q/1))}toHours(e){return te(e/(J/1))}toDays(e){return te(e/(X/1))}};const ie=new class extends V{constructor(){super(...arguments),this.ord=1,this.label="microseconds"}convert(e,t){return t.toMicros(e)}toNanos(e){return ne(e,1e3,te(ee/1e3))}toMicros(e){return e}toMillis(e){return te(e/1e3)}toSeconds(e){return te(e/(Z/Y))}toMinutes(e){return te(e/(q/Y))}toHours(e){return te(e/(J/Y))}toDays(e){return te(e/(X/Y))}};const oe=new class extends V{constructor(){super(...arguments),this.ord=2,this.label="milliseconds"}convert(e,t){return t.toMillis(e)}toNanos(e){return ne(e,Q/1,te(ee/(Q/1)))}toMicros(e){return ne(e,1e3,te(ee/1e3))}toMillis(e){return e}toSeconds(e){return te(e/1e3)}toMinutes(e){return te(e/6e4)}toHours(e){return te(e/(J/Q))}toDays(e){return te(e/(X/Q))}};const ae=new class extends V{constructor(){super(...arguments),this.ord=3,this.label="seconds"}convert(e,t){return t.toSeconds(e)}toNanos(e){return ne(e,Z/1,te(ee/(Z/1)))}toMicros(e){return ne(e,Z/Y,te(ee/(Z/Y)))}toMillis(e){return ne(e,1e3,te(ee/1e3))}toSeconds(e){return e}toMinutes(e){return te(e/60)}toHours(e){return te(e/3600)}toDays(e){return te(e/86400)}};const se=new class extends V{constructor(){super(...arguments),this.ord=4,this.label="minutes"}convert(e,t){return t.toMinutes(e)}toNanos(e){return ne(e,q/1,te(ee/(q/1)))}toMicros(e){return ne(e,q/Y,te(ee/(q/Y)))}toMillis(e){return ne(e,6e4,te(ee/6e4))}toSeconds(e){return ne(e,60,te(ee/60))}toMinutes(e){return e}toHours(e){return te(e/60)}toDays(e){return te(e/1440)}};const le=new class extends V{constructor(){super(...arguments),this.ord=5,this.label="hours"}convert(e,t){return t.toHours(e)}toNanos(e){return ne(e,J/1,te(ee/(J/1)))}toMicros(e){return ne(e,J/Y,te(ee/(J/Y)))}toMillis(e){return ne(e,J/Q,te(ee/(J/Q)))}toSeconds(e){return ne(e,3600,te(ee/3600))}toMinutes(e){return ne(e,60,te(ee/60))}toHours(e){return e}toDays(e){return te(e/24)}};const ce=new class extends V{constructor(){super(...arguments),this.ord=6,this.label="days"}convert(e,t){return t.toDays(e)}toNanos(e){return ne(e,X/1,te(ee/(X/1)))}toMicros(e){return ne(e,X/Y,te(ee/(X/Y)))}toMillis(e){return ne(e,X/Q,te(ee/(X/Q)))}toSeconds(e){return ne(e,86400,te(ee/86400))}toMinutes(e){return ne(e,1440,te(ee/1440))}toHours(e){return ne(e,24,te(ee/24))}toDays(e){return e}};class ue{constructor(e,t){if(isNaN(e))throw new p("NaN is not supported for a Duration");this.duration=te(e),this.unit=t}isFinite(){return isFinite(this.duration)}toNanos(){return re.convert(this.duration,this.unit)}toMicros(){return ie.convert(this.duration,this.unit)}toMillis(){return oe.convert(this.duration,this.unit)}toSeconds(){return ae.convert(this.duration,this.unit)}toMinutes(){return se.convert(this.duration,this.unit)}toHours(){return le.convert(this.duration,this.unit)}toDays(){return ce.convert(this.duration,this.unit)}convertTo(e){return new ue(e.convert(this.duration,this.unit),e)}negate(){switch(this.duration){case 1/0:return ue.negInf();case-1/0:return ue.inf();default:return new ue(-this.duration,this.unit)}}plus(e){if(!isFinite(this.duration)){if(!isFinite(e.duration)&&this.duration!==e.duration)throw new p("cannot deal with two infinities with different signs, as that would be a NaN");return this}if(0===e.duration)return this;if(0===this.duration)return e;if(!isFinite(e.duration))return e;let t=this,n=e;return n.unit.ord<t.unit.ord&&(t=e,n=this),n=n.convertTo(t.unit),new ue(t.duration+n.duration,t.unit)}minus(e){return this.plus(e.negate())}equals(e){function t(e,t){return e.unit.convert(t.duration,t.unit)===e.duration}return isFinite(this.duration)?this.unit.ord<=e.unit.ord?t(this,e):t(e,this):!isFinite(e.duration)&&this.duration===e.duration}hashCode(){return this.isFinite()?this.toNanos():this.duration===1/0?7540833725118015:422082410550358}toString(){return this.isFinite()?`${this.duration} ${this.unit.label}`:this.duration>=0?"[end of time]":"[beginning of time]"}static of(e){return"number"==typeof e?ue.millis(e):e}static zero(){return new ue(0,ce)}static inf(){return new ue(1/0,ce)}static negInf(){return new ue(-1/0,ce)}static nanos(e){return new ue(e,re)}static micros(e){return new ue(e,ie)}static millis(e){return new ue(e,oe)}static seconds(e){return new ue(e,ae)}static minutes(e){return new ue(e,se)}static hours(e){return new ue(e,le)}static days(e){return new ue(e,ce)}}class de{constructor(e){this._previous=[],this.get=e}set(e){return this.setL((()=>e))}setL(e){this._previous.push(this.get),this.get=e}revert(){const e=this._previous.pop();e&&(this.get=e)}bind(e,t){return this.bindL((()=>e),t)}bindL(e,t){const n=this.get,r=this._previous.slice(0),i=this;try{return i.get=e,t()}finally{i.get=n,i._previous=r}}static of(e){return new de(e)}}function pe(e){if(!e)return[];if("[object Array]"===Object.prototype.toString.call(e))return e;const t=e[Symbol.iterator](),n=[];for(;;){const e=t.next();if(e.value&&n.push(e.value),e.done)return n}}const me=Math.log(2);function fe(e){if(e<0)throw new p("nr must be positive");const t=Math.ceil(function(e){return Math.log(e)/me}(e));return 1<<(t>30?30:t&t)}class he{constructor(e){switch(this.batchIndex=0,this.executionModel=e,e.type){case"alwaysAsync":this.executeBatched=this.executeAsync;break;case"synchronous":this.executeBatched=this.trampoline;break;case"batched":const t=e.recommendedBatchSize-1;this.executeBatched=e=>{const n=this.batchIndex+1&t;return n?(this.batchIndex=n,this.trampoline(e)):this.executeAsync(e)}}}scheduleWithFixedDelay(e,t,n){const r=(e,i,o)=>i.update(e.scheduleOnce(o,(()=>{n(),r(e,i,t)}))),i=H.empty();return r(this,i,e)}scheduleAtFixedRate(e,t,n){const r=(e,t,i,o)=>t.update(e.scheduleOnce(i,(()=>{const i=e.currentTimeMillis();n();const a=e.currentTimeMillis()-i,s=Math.max(0,o-a);r(e,t,o,s)}))),i=H.empty();return r(this,i,"number"==typeof e?e:e.toMillis(),"number"==typeof t?t:t.toMillis())}}he.global=de.of((()=>be));class ge{constructor(e,t){switch(this.type=e,e){case"synchronous":this.recommendedBatchSize=1073741824;break;case"alwaysAsync":this.recommendedBatchSize=1;break;case"batched":this.recommendedBatchSize=fe(t||128)}}equals(e){return this.type===e.type&&this.recommendedBatchSize===e.recommendedBatchSize}hashCode(){return 47*a(this.type)+this.recommendedBatchSize}static synchronous(){return new ge("synchronous")}static alwaysAsync(){return new ge("alwaysAsync")}static batched(e){return new ge("batched",e)}}ge.global=de.of((()=>ge.batched()));class ye{constructor(e){this._isActive=!1,this._queue=[],this._reporter=e}execute(e){this._isActive?this._queue.push(e):this.runLoop(e)}runLoop(e){this._isActive=!0;try{let t=e;for(;t;){try{t()}catch(e){this._reporter(e)}t=this._queue.pop()}}finally{this._isActive=!1}}}class ve extends he{constructor(e=!1,t=ge.global.get(),n){super(t),n&&(this.reportFailure=n),this._trampoline=new ye(this.reportFailure),this._useSetImmediate=!!e&&"function"==typeof setImmediate,this.executeAsync=this._useSetImmediate?e=>setImmediate(we(e,this.reportFailure)):e=>setTimeout(we(e,this.reportFailure))}executeAsync(e){throw new m("Constructor of GlobalScheduler wasn't executed")}trampoline(e){return this._trampoline.execute(e)}reportFailure(e){console.error(e)}currentTimeMillis(){return Date.now()}scheduleOnce(e,t){const n=Math.max(0,ue.of(e).toMillis()),r=setTimeout((()=>{this.batchIndex=0;try{t()}catch(e){this.reportFailure(e)}}),n);return D.of((()=>clearTimeout(r)))}withExecutionModel(e){return new ve(this._useSetImmediate,e)}}const be=new ve(!0);function we(e,t){return()=>{try{e()}catch(e){t(e)}}}class Se{transform(e,t){return this.transformWith((t=>Se.pure(e(t),this._scheduler)),(e=>Se.pure(t(e),this._scheduler)))}attempt(){return this.transform(b,S)}flatMap(e){return this.transformWith(Se.raise,e)}chain(e){return this.flatMap(e)}ap(e){return e.flatMap((e=>this.map(e)))}forEach(e){this.onComplete((t=>t.forEach(e)))}map(e){return this.transformWith(Se.raise,(t=>Se.pure(e(t),this._scheduler)))}recoverWith(e){return this.transformWith(e,Se.pure)}recover(e){return this.transformWith((t=>Se.pure(e(t),this._scheduler)),(e=>Se.pure(e,this._scheduler)))}then(e,t){if(!e&&!t)return this;const n=this._scheduler;return this.transformWith(Te(t,(e=>Se.raise(e,n)),n),Te(e,(e=>Se.pure(e,n)),n))}toPromise(){return new Promise(((e,t)=>{this.onComplete((n=>n.fold(t,e)))}))}delayResult(e){return this.transformWith((t=>Se.delayedTick(e,this._scheduler).flatMap((()=>Se.raise(t,this._scheduler)))),(t=>Se.delayedTick(e,this._scheduler).map((()=>t))))}timeout(e){const t=Se.raise(new f(ue.of(e).toString()),this._scheduler);return this.timeoutTo(e,(()=>t))}timeoutTo(e,t){const n=[this,Se.delayedTick(e,this._scheduler).flatMap((()=>t()))];return Se.firstCompletedOf(n,this._scheduler)}static of(e,t=he.global.get()){const n=Ce.empty(t);return t.executeAsync((()=>n.tryComplete(T.of(e)))),n.future()}static pure(e,t=he.global.get()){return new xe(O(e),t)}static raise(e,t=he.global.get()){return new xe(P(e),t)}static create(e,t=he.global.get()){const n=Ce.empty(t);try{const t=e(n.complete);return n.future(t||void 0)}catch(e){return Se.raise(e,t)}}static unit(e=he.global.get()){const t=e;let n=t._funCache&&t._funCache.futureUnit;return n||(n=new xe(O(void 0),e),t._funCache=t._funCache||{},t._funCache.futureUnit=n),n}static delayedTick(e,t=he.global.get()){return Se.create((n=>t.scheduleOnce(e,(()=>n(O(void 0))))),t)}static tailRecM(e,t,n=he.global.get()){return t(e).flatMap((e=>e.isRight()?Se.pure(e.get(),n):Se.tailRecM(e.swap().get(),t,n)))}static fromPromise(e,t=he.global.get()){return e instanceof Se?e.withScheduler(t):Se.create((t=>{e.then((e=>t(O(e))),(e=>t(P(e))))}),t)}static fromTry(e,t=he.global.get()){return new xe(e,t)}static firstCompletedOf(e,t=he.global.get()){return function(e,t){return Se.create((n=>{try{const r=Oe(e,t);if(0===r.length)return n(P(new p("empty list of futures")));let i=!1;for(let e=0;e<r.length;e++){const o=e;r[e].onComplete((e=>{i?e.isFailure()&&t.reportFailure(e.failed().get()):(i=!0,Me(r,t,o),n(e))}))}return D.of((()=>Me(r,t)))}catch(e){n(P(e))}}),t)}(e,t)}static traverse(e,t=1/0,n=he.global.get()){return r=>function(e,t,n,r){if(n<=0)throw new p("parallelism <= 0");return Se.of((()=>pe(e)),r).flatMap((e=>_e(e,t,n,r,0,[])))}(e,r,t,n)}static sequence(e,t=he.global.get()){return function(e,t){return Se.create((n=>{try{const r=Oe(e,t);if(0===r.length)return n(O([]));const i=D.of((()=>Me(r,t)));let o=!1,a=0,s=[];for(let e=0;e<r.length;e++){const l=e;r[e].onComplete((e=>{a+=1,e.isSuccess()?o||(s[l]=e.get(),o=a===r.length,o&&n(O(s))):o?t.reportFailure(e.failed().get()):(o=!0,i.cancel(),n(e))}))}return i}catch(e){n(P(e))}}),t)}(e,t)}static map2(e,t,n,r=he.global.get()){return Se.sequence([e,t],r).map((e=>n(e[0],e[1])))}static map3(e,t,n,r,i=he.global.get()){return Se.sequence([e,t,n],i).map((e=>r(e[0],e[1],e[2])))}static map4(e,t,n,r,i,o=he.global.get()){return Se.sequence([e,t,n,r],o).map((e=>i(e[0],e[1],e[2],e[3])))}static map5(e,t,n,r,i,o,a=he.global.get()){return Se.sequence([e,t,n,r,i],a).map((e=>o(e[0],e[1],e[2],e[3],e[4])))}static map6(e,t,n,r,i,o,a,s=he.global.get()){return Se.sequence([e,t,n,r,i,o],s).map((e=>a(e[0],e[1],e[2],e[3],e[4],e[5])))}}class xe extends Se{constructor(e,t){super(),this._value=e,this._scheduler=t}cancel(){}value(){return k(this._value)}withScheduler(e){return this._scheduler===e?this:new xe(this._value,e)}onComplete(e){this._scheduler.executeBatched((()=>e(this._value)))}transformWith(e,t){return Ae(this,e,t,this._scheduler)}toPromise(){return this._value.fold((e=>Promise.reject(e)),(e=>Promise.resolve(e)))}}class Ee{constructor(){this.id=null,this.ref=null}compressedRoot(){let e=this;for(;"chained"===e.id;)e=e.ref,this.ref=e;return e}value(){switch(this.id){case null:return C;case"complete":return k(this.ref);case"chained":return this.compressedRoot().value()}}tryComplete(e,t){switch(this.id){case null:const n=this.ref;if(this.ref=e,this.id="complete",n)for(let r=0;r<n.length;r++)t.executeBatched((()=>n[r](e)));return!0;case"complete":return!1;case"chained":const r=this.ref.compressedRoot(),i=r.tryComplete(e,t);return this.id="complete",this.ref=i?e:r.value().get(),i}}chainTo(e,t){switch(this.id){case null:const n=this.ref;if(this.id="chained",this.ref=e.compressedRoot(),n&&n.length>0)for(let r=0;r<n.length;r++)e.onComplete(n[r],t);break;case"chained":this.compressedRoot().chainTo(e.compressedRoot(),t);break;case"complete":e.tryComplete(this.ref,t)}}onComplete(e,t){switch(this.id){case null:this.ref||(this.ref=[]),this.ref.push(e);break;case"complete":t.executeBatched((()=>e(this.ref)));break;case"chained":this.ref.onComplete(e,t)}}}const Ie={map:(e,t)=>t.map(e),ap:(e,t)=>t.ap(e),of:Se.pure,chain:(e,t)=>t.flatMap(e),chainRec:(e,t)=>Se.tailRecM(t,(t=>e(y.left,y.right,t)))};g(Se,Ie);class ke extends Se{constructor(e,t,n){super(),this._state=e,this._scheduler=n,t&&(this._cancelable=t)}value(){return this._state.value()}onComplete(e){return this._state.onComplete(e,this._scheduler)}cancel(){if(this._cancelable)try{this._cancelable.cancel()}finally{delete this._cancelable}}withScheduler(e){return this._scheduler===e?this:new ke(this._state,this._cancelable,e)}transformWith(e,t){return Ae(this,e,t,this._scheduler,this._cancelable)}}class Ce{constructor(e,t){this.tryComplete=e=>this._state.tryComplete(e,this._scheduler),this.complete=e=>{if(!this.tryComplete(e))throw new d("Cannot complete a FutureMaker twice!")},this._state=e,this._scheduler=t}trySuccess(e){return this.tryComplete(O(e))}success(e){return this.complete(O(e))}tryFailure(e){return this.tryComplete(P(e))}failure(e){return this.complete(P(e))}chainTo(e){this._state.chainTo(e._state,this._scheduler)}future(e){return"complete"===this._state.id?new xe(this._state.ref,this._scheduler):new ke(this._state,e,this._scheduler)}withScheduler(e){return this._scheduler===e?this:new Ce(this._state,e)}static empty(e=he.global.get()){return new Ce(new Ee,e)}static completed(e,t=he.global.get()){const n=new Ee;return n.id="complete",n.ref=e,new Ce(n,t)}}function Ae(e,t,n,r,i){const o=Ce.empty(r),a=new $(i);return e.onComplete((e=>{let i;try{i=e.fold(t,n)}catch(e){i=Se.raise(e)}if(i.value().isEmpty()){const e=i._cancelable;e&&e instanceof $?e.chainTo(a):!e||e instanceof j||a.update(e)}else a.clear();i instanceof ke?i._state.chainTo(o._state,r):i.onComplete(o.tryComplete)})),o.future(a)}function Te(e,t,n){return r=>{if("function"!=typeof e)return t(r);const i=e(r);return i?"function"==typeof i.then?Se.fromPromise(i,n):Se.pure(i,n):Se.pure(r,n)}}function Me(e,t,n=-1){const r=[];for(let t=0;t<e.length;t++)if(t!==n)try{e[t].cancel()}catch(e){r.push(e)}if(r.length>0)for(const e of r)t.reportFailure(e)}function Oe(e,t){if(!e)return[];if("[object Array]"===Object.prototype.toString.call(e))return e;const n=[];try{const t=e[Symbol.iterator]();for(;;){const e=t.next();if(e.value&&n.push(e.value),e.done)break}return n}catch(e){throw Me(n,t),e}}function _e(e,t,n,r,i,o){if(i>=e.length)return Se.pure(o,r);let a=[],s=0;try{for(;i<e.length&&s<n;)a.push(t(e[i++])),s+=1;const l=Se.sequence(a,r).map((e=>{for(let t=0;t<e.length;t++)o.push(e[t])}));return i>=e.length?l.map((()=>o)):l.flatMap((()=>_e(e,t,n,r,i,o)))}catch(e){return Me(a,r),Se.raise(e)}}const Pe={next:()=>({done:!0})};function Le(e){if(!e)return Pe;if("[object Array]"!==Object.prototype.toString.call(e))return e[Symbol.iterator]();const t=e;if(0===t.length)return Pe;let n=0;return{next:()=>{const e=t[n++];return{done:n>=t.length,value:e}}}}class Ne{get(){return function(e){let t=e,n=null,r=null;for(;;)switch(t._tag){case"now":const e=t,i=Ge(n,r);if(!i)return e.value;n=null,t=i(e.value);break;case"always":case"once":t=new De(t.get());break;case"suspend":t=t.thunk();break;case"flatMap":n&&(r||(r=[]),r.push(n));const o=t;n=o.f,t=o.source}}(this)}map(e){return new ze(this,(t=>Ne.now(e(t))))}flatMap(e){return new ze(this,e)}chain(e){return this.flatMap(e)}ap(e){return e.flatMap((e=>this.map(e)))}memoize(){switch(this._tag){case"now":case"once":return this;case"always":return new je(this.get);default:return new je((()=>this.get()))}}forEachL(e){return this.map(e)}forEach(e){this.forEachL(e).get()}static of(e){return Ne.always(e)}static pure(e){return Ne.now(e)}static now(e){return new De(e)}static unit(){return Re}static always(e){return new Fe(e)}static once(e){return new je(e)}static suspend(e){return new Ue(e)}static defer(e){return Ne.suspend(e)}static tailRecM(e,t){return t(e).flatMap((e=>e.isRight()?Ne.now(e.get()):Ne.tailRecM(e.swap().get(),t)))}static sequence(e){return function(e){return Ne.of((()=>Le(e))).flatMap((e=>We([],e)))}(e)}static map2(e,t,n){return Ne.sequence([e,t]).map((e=>n(e[0],e[1])))}static map3(e,t,n,r){return Ne.sequence([e,t,n]).map((e=>r(e[0],e[1],e[2])))}static map4(e,t,n,r,i){return Ne.sequence([e,t,n,r]).map((e=>i(e[0],e[1],e[2],e[3])))}static map5(e,t,n,r,i,o){return Ne.sequence([e,t,n,r,i]).map((e=>o(e[0],e[1],e[2],e[3],e[4])))}static map6(e,t,n,r,i,o,a){return Ne.sequence([e,t,n,r,i,o]).map((e=>a(e[0],e[1],e[2],e[3],e[4],e[5])))}}class De extends Ne{constructor(e){super(),this.value=e,this._tag="now"}get(){return this.value}toString(){return`Eval.now(${JSON.stringify(this.value)})`}}const Re=new De(void 0);class je extends Ne{constructor(e){super(),this._tag="once",this._thunk=e}get(){if(this._thunk){try{this._cache=this._thunk(),this._isError=!1}catch(e){this._cache=e,this._isError=!0}delete this._thunk}if(this._isError)throw this._cache;return this._cache}toString(){return"Eval.once([thunk])"}}class Fe extends Ne{constructor(e){super(),this._tag="always",this.get=e}toString(){return"Eval.always([thunk])"}}class Ue extends Ne{constructor(e){super(),this.thunk=e,this._tag="suspend"}toString(){return"Eval.suspend([thunk])"}}class ze extends Ne{constructor(e,t){super(),this.source=e,this.f=t,this._tag="flatMap"}toString(){return`Eval#FlatMap(${String(this.source)}, [function])`}}const Be={map:(e,t)=>t.map(e),ap:(e,t)=>t.ap(e),of:Ne.pure,chain:(e,t)=>t.flatMap(e),chainRec:(e,t)=>Ne.tailRecM(t,(t=>e(y.left,y.right,t)))};function Ge(e,t){return e||(t&&t.length>0?t.pop():null)}function We(e,t){for(;;){const n=t.next(),r=n.done;if(n.value){return n.value.flatMap((n=>(e.push(n),r?Ne.pure(e):We(e,t))))}if(r)return Ne.pure(e)}}g(Ne,Be);class He{run(e=he.global.get()){return function(e,t){let n=e,r=null,i=null;const o=t.executionModel.recommendedBatchSize-1;let a=t.batchIndex;for(;;)if(n instanceof T){if(n.isSuccess()){const e=nt(r,i);if(!e)return t.batchIndex=a,Se.pure(n.get());try{n=e(n.get())}catch(e){n=new Ke(T.failure(e))}}else{const e=n.failed().get(),o=rt(r,i);if(!o)return t.batchIndex=a,Se.raise(e);try{n=o(e)}catch(e){n=new Ke(T.failure(e))}}r=null;const e=a+1&o;if(!e)return lt(n,t,r,i,!0);a=e}else switch(n._tag){case"pure":n=n.value;break;case"always":n=T.of(n.thunk);break;case"once":n=n.runTry();break;case"flatMap":const e=n;r&&(i||(i=[]),i.push(r)),r=e.g?[e.f,e.g]:e.f,n=e.source;break;case"async":case"memoize":return lt(n,t,r,i,!1)}}(this,e)}runOnComplete(e,t=he.global.get()){return st(this,t,null,e,null,null,null)||D.empty()}attempt(){return this.transform((e=>y.left(e)),y.right)}asyncBoundary(e){return this.flatMap((t=>He.shift(e).map((()=>t))))}chain(e){return this.flatMap(e)}delayExecution(e){return He.delayedTick(e).flatMap((()=>this))}delayResult(e){return this.transformWith((t=>He.delayedTick(e).flatMap((()=>He.raise(t)))),(t=>He.delayedTick(e).map((()=>t))))}doOnFinish(e){return this.transformWith((t=>e(k(t)).flatMap((()=>He.raise(t)))),(t=>e(C).map((()=>t))))}doOnCancel(e){return He.asyncUnsafe(((t,n)=>{const r=t.scheduler;r.trampoline((()=>{const i=t.connection;i.push(D.of((()=>e.run(r)))),He.unsafeStart(this,t,ct(r,i,n))}))}))}executeForked(e){return He.fork(this,e)}executeWithModel(e){return He.asyncUnsafe(((t,n)=>{const r=t.scheduler.withExecutionModel(e),i=new Je(r,t.connection,t.options);r.trampoline((()=>He.unsafeStart(this,i,n)))}))}executeWithOptions(e){return He.asyncUnsafe(((t,n)=>{const r=t.scheduler,i=new Je(r,t.connection,e);r.trampoline((()=>He.unsafeStart(this,i,n)))}))}flatMap(e){return new Qe(this,e)}ap(e){return e.flatMap((e=>this.map(e)))}followedBy(e){return this.flatMap((()=>e))}forEach(e){return this.map(e)}forEffect(e){return this.flatMap((t=>e.map((()=>t))))}map(e){return new Qe(this,(t=>He.now(e(t))))}memoize(){switch(this._tag){case"pure":return this;case"always":return new Ve(this.thunk,!1);case"memoize":const e=this;return e.onlySuccess?new qe(this,!1):e;default:return new qe(this,!1)}}memoizeOnSuccess(){switch(this._tag){case"pure":case"once":case"memoize":return this;case"always":return new Ve(this.thunk,!0);default:return new qe(this,!0)}}recover(e){return this.recoverWith((t=>He.now(e(t))))}recoverWith(e){return this.transformWith(e,He.now)}timeout(e){const t=He.raise(new f(ue.of(e).toString()));return this.timeoutTo(e,t)}timeoutTo(e,t){const n=[this,He.delayedTick(e).flatMap((()=>t))];return He.firstCompletedOf(n)}transform(e,t){return this.transformWith((t=>He.now(e(t))),(e=>He.now(t(e))))}transformWith(e,t){return new Qe(this,t,e)}static always(e){return new Ye(e)}static async(e){return He.asyncUnsafe(((t,n)=>{const r=t.scheduler,i=t.connection;r.trampoline((()=>{const t=ct(r,i,n);try{const n=e(r,t);i.push(n||D.empty())}catch(e){t(P(e))}}))}))}static asyncUnsafe(e){return new Ze(e)}static defer(e){return He.unit().flatMap((()=>e()))}static deferAction(e){return He.asyncUnsafe(((t,n)=>{const r=t.scheduler;let i;try{i=e(r)}catch(e){i=He.raise(e)}r.trampoline((()=>He.unsafeStart(i,t,n)))}))}static deferFuture(e){return He.suspend((()=>He.fromFuture(e())))}static deferFutureAction(e){return He.deferAction((t=>He.fromFuture(e(t))))}static delayedTick(e){return He.asyncUnsafe(((t,n)=>{const r=t.connection,i=t.scheduler.scheduleOnce(e,(()=>{r.pop(),n(T.unit())}));r.push(i)}))}static firstCompletedOf(e){return pt(e,Se.firstCompletedOf)}static fromFuture(e){return e.value().isEmpty()?He.asyncUnsafe(((t,n)=>{t.connection.push(e),e.onComplete((e=>{t.connection.pop(),n(e)}))})):He.fromTry(e.value().get())}static fromTry(e){return new Ke(e)}static fork(e,t){return He.shift(t).flatMap((()=>e))}static map2(e,t,n){return He.sequence([e,t]).map((e=>n(e[0],e[1])))}static map3(e,t,n,r){return He.sequence([e,t,n]).map((e=>r(e[0],e[1],e[2])))}static map4(e,t,n,r,i){return He.sequence([e,t,n,r]).map((e=>i(e[0],e[1],e[2],e[3])))}static map5(e,t,n,r,i,o){return He.sequence([e,t,n,r,i]).map((e=>o(e[0],e[1],e[2],e[3],e[4])))}static map6(e,t,n,r,i,o,a){return He.sequence([e,t,n,r,i,o]).map((e=>a(e[0],e[1],e[2],e[3],e[4],e[5])))}static now(e){return new Ke(O(e))}static of(e){return He.always(e)}static once(e){return new Ve(e,!1)}static parMap2(e,t,n){return He.gather([e,t]).map((e=>n(e[0],e[1])))}static parMap3(e,t,n,r){return He.gather([e,t,n]).map((e=>r(e[0],e[1],e[2])))}static parMap4(e,t,n,r,i){return He.gather([e,t,n,r]).map((e=>i(e[0],e[1],e[2],e[3])))}static parMap5(e,t,n,r,i,o){return He.gather([e,t,n,r,i]).map((e=>o(e[0],e[1],e[2],e[3],e[4])))}static parMap6(e,t,n,r,i,o,a){return He.gather([e,t,n,r,i,o]).map((e=>a(e[0],e[1],e[2],e[3],e[4],e[5])))}static pure(e){return He.now(e)}static raise(e){return new Ke(P(e))}static sequence(e){return function(e){return He.of((()=>Le(e))).flatMap((e=>dt([],e)))}(e)}static gather(e){return pt(e,Se.sequence)}static shift(e){return e?et(e):tt}static suspend(e){return He.unit().flatMap((()=>e()))}static tailRecM(e,t){try{return t(e).flatMap((e=>e.isRight()?He.now(e.get()):He.tailRecM(e.swap().get(),t)))}catch(e){return He.raise(e)}}static unit(){return $e}static unsafeStart(e,t,n){return st(e,t.scheduler,t,n,null,null,null)}}class Ke extends He{constructor(e){super(),this.value=e,this._tag="pure"}}const $e=new Ke(T.unit());class Ve extends He{constructor(e,t){super(),this._tag="once",this._thunk=e,this.onlyOnSuccess=t}memoize(){return this.onlyOnSuccess&&this._thunk?new Ve(this._thunk,!1):this}runTry(){if(this._thunk){const e=T.of(this._thunk);return!e.isSuccess()&&this.onlyOnSuccess||(delete this._thunk,delete this.onlyOnSuccess,this.cache=e),e}return this.cache}}class Ye extends He{constructor(e){super(),this.thunk=e,this._tag="always"}}class Qe extends He{constructor(e,t,n){super(),this.source=e,this.f=t,this.g=n,this._tag="flatMap"}}class Ze extends He{constructor(e){super(),this.register=e,this._tag="async"}}class qe extends He{constructor(e,t){super(),this._tag="memoize",this.source=e,this.result=null,this.onlySuccess=t}}class Je{constructor(e,t=new K,n={autoCancelableRunLoops:!1}){this.scheduler=e,this.options=n,this.connection=t,n.autoCancelableRunLoops&&(this.shouldCancel=()=>t.isCanceled())}markAsyncBoundary(){this.scheduler.batchIndex=0}shouldCancel(){return!1}}const Xe={map:(e,t)=>t.map(e),ap:(e,t)=>t.ap(e),of:He.pure,chain:(e,t)=>t.flatMap(e),chainRec:(e,t)=>He.tailRecM(t,(t=>e(y.left,y.right,t)))};function et(e){return He.asyncUnsafe(((t,n)=>{(e||t.scheduler).executeAsync((()=>n(T.unit())))}))}g(He,Xe);const tt=et();function nt(e,t){let n;return e?n=e:t&&t.length>0&&(n=t.pop()),n?"function"==typeof n?n:n[0]:null}function rt(e,t){let n=e;do{if(n&&"function"!=typeof n)return n[1];n=t?t.pop():null}while(n);return null}class it{constructor(e,t){this.context=e,this.callback=t,this.canCall=!1,this.bFirst=null,this.bRest=null,this.asFunction=this.signal.bind(this)}prepare(e,t){this.bFirst=e,this.bRest=t,this.canCall=!0}signal(e){this.canCall?(this.canCall=!1,st(new Ke(e),this.context.scheduler,this.context,this.callback,this,this.bFirst,this.bRest)):e.isFailure()&&this.context.scheduler.reportFailure(e.failed().get())}}function ot(e,t,n,r,i,o,a){if(!t.shouldCancel()){t.scheduler.batchIndex=a;const s=r||new it(t,n);s.prepare(i,o),e(t,s.asFunction)}}function at(e,t,n,r,i,o){t.shouldCancel()||t.scheduler.executeAsync((()=>{st(e,t.scheduler,t,n,r,i,o)}))}function st(e,t,n,r,i,o,a){let s=e,l=o,c=a;const u=t.executionModel.recommendedBatchSize-1;let d=t.batchIndex;for(;;)if(s instanceof T){if(s.isSuccess()){const e=nt(l,c);if(!e)return t.batchIndex=d,r(s);try{s=e(s.get())}catch(e){s=T.failure(e)}}else{const e=rt(l,c);if(!e)return t.batchIndex=d,r(s);try{s=e(s.failed().get())}catch(e){s=T.failure(e)}}l=null;const e=d+1&u;if(!e){const e=n||new Je(t);return at(s instanceof T?new Ke(s):s,e,r,i,l,c),e.connection}d=e}else switch(s._tag){case"pure":s=s.value;break;case"always":s=T.of(s.thunk);break;case"once":s=s.runTry();break;case"flatMap":const e=s;l&&(c||(c=[]),c.push(l)),l=e.g?[e.f,e.g]:e.f,s=e.source;break;case"async":const o=s,a=n||new Je(t);return ot(o.register,a,r,i,l,c,d),a.connection;case"memoize":return ut(s,t,n,r,l,c,d)}}function lt(e,t,n,r,i){return Se.create((o=>{const a=new Je(t);return i?at(e,a,o,null,n,r):st(e,t,a,o,null,n,r),a.connection}))}function ct(e,t,n){let r=!1;return i=>{r?i.isFailure()&&e.reportFailure(i.failed().get()):(r=!0,e.trampoline((()=>{t.pop(),n(i)})))}}function ut(e,t,n,r,i,o,a){let s;if(t.batchIndex=a,e.result)s=e.result;else{const n=lt(e.source,t,null,null,!1);n.value().isEmpty()?(e.result=n,s=n,n.onComplete((t=>{t.isSuccess()||!e.onlySuccess?(e.result=t,delete e.source):e.result=null}))):(s=n.value().get(),!s.isSuccess()&&e.onlySuccess||(e.result=s))}st(s instanceof T?new Ke(s):He.fromFuture(s),t,n,r,null,i,o)}function dt(e,t){for(;;){const n=t.next(),r=n.done;if(n.value){return n.value.flatMap((n=>(e.push(n),r?He.pure(e):dt(e,t))))}if(r)return He.pure(e)}}function pt(e,t){return He.asyncUnsafe(((n,r)=>{n.scheduler.trampoline((()=>{let i=!0;try{const o=[],a=pe(e);i=!1;for(let e=0;e<a.length;e++){const t=a[e].run(n.scheduler);o.push(t)}const s=t(o,n.scheduler);n.connection.push(s),s.onComplete(ct(n.scheduler,n.connection,r))}catch(e){i?r(P(e)):n.scheduler.reportFailure(e)}}))}))}}}]);